var __BUNDLE_START_TIME__=globalThis.nativePerformanceNow?nativePerformanceNow():Date.now(),__DEV__=false,process=globalThis.process||{},__METRO_GLOBAL_PREFIX__='';
!(function(e){"use strict";e.__r=i,e[`${__METRO_GLOBAL_PREFIX__}__d`]=function(e,n,o){if(t.has(n))return;const i={dependencyMap:o,factory:e,hasError:!1,importedAll:r,importedDefault:r,isInitialized:!1,publicModule:{exports:{}}};t.set(n,i)},e.__c=o,e.__registerSegment=function(e,r,n){p[e]=r,n&&n.forEach(r=>{t.has(r)||h.has(r)||h.set(r,e)})};var t=o();const r={},{hasOwnProperty:n}={};function o(){return t=new Map}function i(e,r){if(null===e)throw new Error("Cannot find module");const n=e,o=t.get(n);return o&&o.isInitialized?o.publicModule.exports:d(n,o)}function l(e){const n=e,o=t.get(n);if(o&&o.importedDefault!==r)return o.importedDefault;const l=i(n),u=l&&l.__esModule?l.default:l;return t.get(n).importedDefault=u}function u(e){const o=e,l=t.get(o);if(l&&l.importedAll!==r)return l.importedAll;const u=i(o);let c;if(u&&u.__esModule)c=u;else{if(c={},u)for(const e in u)n.call(u,e)&&(c[e]=u[e]);c.default=u}return t.get(o).importedAll=c}i.importDefault=l,i.importAll=u,i.context=function(){throw new Error("The experimental Metro feature `require.context` is not enabled in your project.")},i.resolveWeak=function(){throw new Error("require.resolveWeak cannot be called dynamically.")};let c=!1;function d(t,r){if(!c&&e.ErrorUtils){let n;c=!0;try{n=g(t,r)}catch(t){e.ErrorUtils.reportFatalError(t)}return c=!1,n}return g(t,r)}const a=16,s=65535;function f(e){return{segmentId:e>>>a,localId:e&s}}i.unpackModuleId=f,i.packModuleId=function(e){return(e.segmentId<<a)+e.localId};const p=[],h=new Map;function g(r,n){if(!n&&p.length>0){const e=h.get(r)??0,o=p[e];null!=o&&(o(r),n=t.get(r),h.delete(r))}const o=e.nativeRequire;if(!n&&o){const{segmentId:e,localId:i}=f(r);o(i,e),n=t.get(r)}if(!n)throw m(r);if(n.hasError)throw n.error;n.isInitialized=!0;const{factory:c,dependencyMap:d}=n;try{const t=n.publicModule;return t.id=r,c(e,i,l,u,t,t.exports,d),n.factory=void 0,n.dependencyMap=void 0,t.exports}catch(e){throw n.hasError=!0,n.error=e,n.isInitialized=!1,n.publicModule.exports=void 0,e}}function m(e){return Error('Requiring unknown module "'+e+'".')}})('undefined'!=typeof globalThis?globalThis:'undefined'!=typeof global?global:'undefined'!=typeof window?window:this);
!(function(e){e.$$require_external="undefined"!=typeof require?require:()=>null})('undefined'!=typeof globalThis?globalThis:'undefined'!=typeof global?global:'undefined'!=typeof window?window:this);
'undefined'!=typeof globalThis?globalThis:'undefined'!=typeof global?global:'undefined'!=typeof window&&window;
!(function(r){let l=0,n=!0===r.RN$useAlwaysAvailableJSErrorHandling?r.RN$handleException:(r,l)=>{throw r};const t={setGlobalHandler(r){n=r},getGlobalHandler:()=>n,reportError(r){n&&n(r,!1)},reportFatalError(r){n&&n(r,!0)},applyWithGuard(r,n,e,a,o){try{return l++,r.apply(n,e)}catch(r){t.reportError(r)}finally{l--}return null},applyWithGuardIfNeeded:(r,l,n)=>t.inGuard()?r.apply(l,n):(t.applyWithGuard(r,l,n),null),inGuard:()=>!!l,guard(r,l,n){if('function'!=typeof r)return console.warn('A function must be passed to ErrorUtils.guard, got ',r),null;const e=l??r.name??'<generated guard>';return function(...l){return t.applyWithGuard(r,n??this,l,null,e)}}};r.ErrorUtils=t})('undefined'!=typeof globalThis?globalThis:'undefined'!=typeof global?global:'undefined'!=typeof window?window:this);
__d(function(g,r,i,a,m,_e,d){m.exports=function(e){return e&&e.__esModule?e:{default:e}},m.exports.__esModule=!0,m.exports.default=m.exports},16,[]);
__d(function(g,r,i,a,m,e,d){m.exports=$$require_external('node:util')},466,[]);
__d(function(g,r,i,a,m,e,d){m.exports=$$require_external('node:crypto')},467,[]);
__d(function(g,r,i,a,m,e,d){m.exports=$$require_external('node:stream')},469,[]);
__d(function(g,r,i,a,m,e,d){m.exports=$$require_external('node:http')},883,[]);
__d(function(g,r,i,a,m,e,d){m.exports=$$require_external('node:https')},884,[]);
__d(function(g,r,i,a,m,e,d){m.exports=$$require_external('node:zlib')},885,[]);
__d(function(g,r,i,a,m,e,d){m.exports=$$require_external('node:events')},984,[]);
__d(function(g,r,i,a,m,e,d){m.exports=$$require_external('node:net')},985,[]);
__d(function(g,r,i,a,m,e,d){m.exports=$$require_external('node:tls')},986,[]);
__d(function(g,r,i,a,m,e,d){m.exports=$$require_external('node:url')},987,[]);
__d(function(g,r,i,a,m,e,d){m.exports=$$require_external('node:fs')},994,[]);
__d(function(g,r,i,a,m,e,d){m.exports=$$require_external('node:path')},995,[]);
__d(function(g,r,i,a,m,e,d){m.exports=$$require_external('node:os')},996,[]);
__d(function(g,r,i,a,_m,e,d){'use strict';const t=r(d[0]),s=r(d[1]),n=r(d[2]),o=r(d[3]),l=r(d[4]),c=r(d[5]),p=r(d[6]),u=r(d[7]),f=r(d[8]),E=r(d[9]),m=(process.env.ETHEREAL_API||'https://api.nodemailer.com').replace(/\/+$/,''),S=(process.env.ETHEREAL_WEB||'https://ethereal.email').replace(/\/+$/,''),w=(process.env.ETHEREAL_API_KEY||'').replace(/\s*/g,'')||null,y=['true','yes','y','1'].includes((process.env.ETHEREAL_CACHE||'yes').toString().trim().toLowerCase());let h=!1;_m.exports.createTransport=function(f,E){let m,S,w;if('object'==typeof f&&'function'!=typeof f.send||'string'==typeof f&&/^(smtps?|direct):/i.test(f))if(S=(m='string'==typeof f?f:f.url)?s.parseConnectionUrl(m):f,S.pool)f=new n(S);else if(S.sendmail)f=new l(S);else if(S.streamTransport)f=new c(S);else if(S.jsonTransport)f=new p(S);else if(S.SES){if(S.SES.ses&&S.SES.aws){let t=new Error('Using legacy SES configuration, expecting @aws-sdk/client-sesv2, see https://nodemailer.com/transports/ses/');throw t.code='LegacyConfig',t}f=new u(S)}else f=new o(S);return w=new t(f,S,E),w},_m.exports.createTestAccount=function(t,n){let o;if(n||'function'!=typeof t||(n=t,t=!1),n||(o=new Promise((t,o)=>{n=s.callbackPromise(t,o)})),y&&h)return setImmediate(()=>n(null,h)),o;t=t||m;let l=[],c=0,p={},u={requestor:E.name,version:E.version};w&&(p.Authorization='Bearer '+w);let S=f(t+'/user',{contentType:'application/json',method:'POST',headers:p,body:Buffer.from(JSON.stringify(u))});return S.on('readable',()=>{let t;for(;null!==(t=S.read());)l.push(t),c+=t.length}),S.once('error',t=>n(t)),S.once('end',()=>{let t,s,o=Buffer.concat(l,c);try{t=JSON.parse(o.toString())}catch(t){s=t}return s?n(s):'success'!==t.status||t.error?n(new Error(t.error||'Request failed')):(delete t.status,h=t,void n(null,h))}),o},_m.exports.getTestMessageUrl=function(t){if(!t||!t.response)return!1;let s=new Map;return t.response.replace(/\[([^\]]+)\]$/,(t,n)=>{n.replace(/\b([A-Z0-9]+)=([^\s]+)/g,(t,n,o)=>{s.set(n,o)})}),!(!s.has('STATUS')||!s.has('MSGID'))&&(h.web||S)+'/message/'+s.get('MSGID')}},7125,[7126,7127,7149,7156,7157,7159,7160,7161,7128,7130]);
__d(function(g,r,i,a,m,e,d){'use strict';const t=r(d[0]),s=r(d[1]),o=r(d[2]),n=r(d[3]),h=r(d[4]),l=r(d[5]),p=r(d[6]),c=r(d[7]),u=r(d[8]),f=r(d[9]),k=r(d[10]),y=r(d[11]),x=r(d[12]);m.exports=class extends t{constructor(t,o,n){super(),this.options=o||{},this._defaults=n||{},this._defaultPlugins={compile:[(...t)=>this._convertDataImages(...t)],stream:[]},this._userPlugins={compile:[],stream:[]},this.meta=new Map,this.dkim=!!this.options.dkim&&new h(this.options.dkim),this.transporter=t,this.transporter.mailer=this,this.logger=s.getLogger(this.options,{component:this.options.component||'mail'}),this.logger.debug({tnx:'create'},'Creating transport: %s',this.getVersionString()),'function'==typeof this.transporter.on&&(this.transporter.on('log',t=>{this.logger.debug({tnx:'transport'},'%s: %s',t.type,t.message)}),this.transporter.on('error',t=>{this.logger.error({err:t,tnx:'transport'},'Transport Error: %s',t.message),this.emit('error',t)}),this.transporter.on('idle',(...t)=>{this.emit('idle',...t)}),this.transporter.on('clear',(...t)=>{this.emit('clear',...t)})),['close','isIdle','verify'].forEach(t=>{this[t]=(...s)=>'function'==typeof this.transporter[t]?('verify'===t&&'function'==typeof this.getSocket&&(this.transporter.getSocket=this.getSocket,this.getSocket=!1),this.transporter[t](...s)):(this.logger.warn({tnx:'transport',methodName:t},'Non existing method %s called for transport',t),!1)}),this.options.proxy&&'string'==typeof this.options.proxy&&this.setupProxy(this.options.proxy)}use(t,s){return t=(t||'').toString(),this._userPlugins.hasOwnProperty(t)?this._userPlugins[t].push(s):this._userPlugins[t]=[s],this}sendMail(t,o=null){let l;o||(l=new Promise((t,n)=>{o=s.callbackPromise(t,n)})),'function'==typeof this.getSocket&&(this.transporter.getSocket=this.getSocket,this.getSocket=!1);let p=new f(this,t);return this.logger.debug({tnx:'transport',name:this.transporter.name,version:this.transporter.version,action:'send'},'Sending mail using %s/%s',this.transporter.name,this.transporter.version),this._processPlugins('compile',p,t=>{if(t)return this.logger.error({err:t,tnx:'plugin',action:'compile'},'PluginCompile Error: %s',t.message),o(t);p.message=new n(p.data).compile(),p.setMailerHeader(),p.setPriorityHeaders(),p.setListHeaders(),this._processPlugins('stream',p,t=>{if(t)return this.logger.error({err:t,tnx:'plugin',action:'stream'},'PluginStream Error: %s',t.message),o(t);(p.data.dkim||this.dkim)&&p.message.processFunc(t=>{let s=p.data.dkim?new h(p.data.dkim):this.dkim;return this.logger.debug({tnx:'DKIM',messageId:p.message.messageId(),dkimDomains:s.keys.map(t=>t.keySelector+'.'+t.domainName).join(', ')},'Signing outgoing message with %s keys',s.keys.length),s.sign(t,p.data._dkim)}),this.transporter.send(p,(...t)=>{t[0]&&this.logger.error({err:t[0],tnx:'transport',action:'send'},'Send Error: %s',t[0].message),o(...t)})})}),l}getVersionString(){return p.format('%s (%s; +%s; %s/%s)',u.name,u.version,u.homepage,this.transporter.name,this.transporter.version)}_processPlugins(t,s,o){if(t=(t||'').toString(),!this._userPlugins.hasOwnProperty(t))return o();let n=this._userPlugins[t]||[],h=this._defaultPlugins[t]||[];if(n.length&&this.logger.debug({tnx:'transaction',pluginCount:n.length,step:t},'Using %s plugins for %s',n.length,t),n.length+h.length===0)return o();let l=0,p='default',c=()=>{let t='default'===p?h:n;if(l>=t.length){if('default'!==p||!n.length)return o();p='user',l=0,t=n}(0,t[l++])(s,t=>{if(t)return o(t);c()})};c()}setupProxy(t){let s=c.parse(t);this.getSocket=(t,o)=>{let n=s.protocol.replace(/:$/,'').toLowerCase();if(this.meta.has('proxy_handler_'+n))return this.meta.get('proxy_handler_'+n)(s,t,o);switch(n){case'http':case'https':return void l(s.href,t.port,t.host,(t,s)=>t?o(t):o(null,{connection:s}));case'socks':case'socks5':case'socks4':case'socks4a':{if(!this.meta.has('proxy_socks_module'))return o(new Error('Socks module not loaded'));let n=n=>{let h=!!this.meta.get('proxy_socks_module').SocksClient,l=h?this.meta.get('proxy_socks_module').SocksClient:this.meta.get('proxy_socks_module'),p=Number(s.protocol.replace(/\D/g,''))||5,c={proxy:{ipaddress:n,port:Number(s.port),type:p},[h?'destination':'target']:{host:t.host,port:t.port},command:'connect'};if(s.auth){let t=decodeURIComponent(s.auth.split(':').shift()),o=decodeURIComponent(s.auth.split(':').pop());h?(c.proxy.userId=t,c.proxy.password=o):4===p?c.userid=t:c.authentication={username:t,password:o}}l.createConnection(c,(t,s)=>t?o(t):o(null,{connection:s.socket||s}))};return k.isIP(s.hostname)?n(s.hostname):y.resolve(s.hostname,(t,s)=>{if(t)return o(t);n(Array.isArray(s)?s[0]:s)})}}o(new Error('Unknown proxy configuration'))}}_convertDataImages(t,s){if(!this.options.attachDataUrls&&!t.data.attachDataUrls||!t.data.html)return s();t.resolveContent(t.data,'html',(n,h)=>{if(n)return s(n);let l=0;h=(h||'').toString().replace(/(<img\b[^<>]{0,1024} src\s{0,20}=[\s"']{0,20})(data:([^;]+);[^"'>\s]+)/gi,(s,n,h,p)=>{let c=x.randomBytes(10).toString('hex')+'@localhost';return t.data.attachments||(t.data.attachments=[]),Array.isArray(t.data.attachments)||(t.data.attachments=[].concat(t.data.attachments||[])),t.data.attachments.push({path:h,cid:c,filename:'image-'+ ++l+'.'+o.detectExtension(p)}),n+'cid:'+c}),t.data.html=h,s()})}set(t,s){return this.meta.set(t,s)}get(t){return this.meta.get(t)}}},7126,[984,7127,7132,7133,7143,7147,466,987,7130,7148,985,7131,467]);
__d(function(g,r,_i,a,m,e,d){'use strict';const t=r(d[0]),s=r(d[1]),n=r(d[2]),l=r(d[3]),o=r(d[4]),c=r(d[5]),u=r(d[6]),i=3e5;let f,h=0;m.exports._lastCacheCleanup=()=>h,m.exports._resetCacheCleanup=()=>{h=0};try{f=u.networkInterfaces()}catch(t){}m.exports.networkInterfaces=f;const p=(t,s)=>{let n=m.exports.networkInterfaces;if(!n)return!0;return Object.keys(n).map(t=>n[t]).reduce((t,s)=>t.concat(s),[]).filter(t=>!t.internal||s).filter(s=>s.family==='IPv'+t||s.family===t).length>0},x=(t,s,n,l)=>{if(!p(t,(n=n||{}).allowInternalNetworkInterfaces))return l(null,[]);(o.Resolver?new o.Resolver(n):o)['resolve'+t](s,(t,s)=>{if(t){switch(t.code){case o.NODATA:case o.NOTFOUND:case o.NOTIMP:case o.SERVFAIL:case o.CONNREFUSED:case o.REFUSED:case'EAI_AGAIN':return l(null,[])}return l(t)}return l(null,Array.isArray(s)?s:[].concat(s||[]))})},v=m.exports.dnsCache=new Map,b=(t,s)=>t?Object.assign({servername:t.servername,host:t.addresses&&t.addresses.length?1===t.addresses.length?t.addresses[0]:t.addresses[Math.floor(Math.random()*t.addresses.length)]:null},s||{}):Object.assign({},s||{});function y(t,s){let n=!1,l=[],o=0;t.on('error',t=>{n||(n=!0,s(t))}),t.on('readable',()=>{let s;for(;null!==(s=t.read());)l.push(s),o+=s.length}),t.on('end',()=>{if(n)return;let t;n=!0;try{t=Buffer.concat(l,o)}catch(t){return s(t)}s(null,t)})}function w(t){let n=0,l=new Map;t.forEach(t=>{t.length>n&&(n=t.length)}),t.forEach(t=>{let s=t.toUpperCase();s.length<n&&(s+=' '.repeat(n-s.length)),l.set(t,s)});let o=(t,n,o,...c)=>{let u='';n&&('server'===n.tnx?u='S: ':'client'===n.tnx&&(u='C: '),n.sid&&(u='['+n.sid+'] '+u),n.cid&&(u='[#'+n.cid+'] '+u)),(o=s.format(o,...c)).split(/\r?\n/).forEach(s=>{console.log('[%s] %s %s',(new Date).toISOString().substr(0,19).replace(/T/,' '),l.get(t),u+s)})},c={};return t.forEach(t=>{c[t]=o.bind(null,t)}),c}m.exports.resolveHostname=(t,s)=>{if(!(t=t||{}).host&&t.servername&&(t.host=t.servername),!t.host||c.isIP(t.host)){let n={addresses:[t.host],servername:t.servername||!1};return s(null,b(n,{cached:!1}))}let n;if(v.has(t.host)){n=v.get(t.host);const l=Date.now();if(l-h>3e4){h=l;for(const[t,s]of v.entries())s.expires&&s.expires<l&&v.delete(t);if(v.size>1e3){const t=Math.floor(100);Array.from(v.keys()).slice(0,t).forEach(t=>v.delete(t))}}if(!n.expires||n.expires>=l)return s(null,b(n.value,{cached:!0}))}x(4,t.host,t,(l,c)=>{if(l)return n?(v.set(t.host,{value:n.value,expires:Date.now()+(t.dnsTtl||i)}),s(null,b(n.value,{cached:!0,error:l}))):s(l);if(c&&c.length){let n={addresses:c,servername:t.servername||t.host};return v.set(t.host,{value:n,expires:Date.now()+(t.dnsTtl||i)}),s(null,b(n,{cached:!1}))}x(6,t.host,t,(l,c)=>{if(l)return n?(v.set(t.host,{value:n.value,expires:Date.now()+(t.dnsTtl||i)}),s(null,b(n.value,{cached:!0,error:l}))):s(l);if(c&&c.length){let n={addresses:c,servername:t.servername||t.host};return v.set(t.host,{value:n,expires:Date.now()+(t.dnsTtl||i)}),s(null,b(n,{cached:!1}))}try{o.lookup(t.host,{all:!0},(l,o)=>{if(l)return n?(v.set(t.host,{value:n.value,expires:Date.now()+(t.dnsTtl||i)}),s(null,b(n.value,{cached:!0,error:l}))):s(l);let c=!!o&&o.filter(t=>p(t.family)).map(t=>t.address).shift();if(o&&o.length&&!c&&console.warn(`Failed to resolve IPv${o[0].family} addresses with current network`),!c&&n)return s(null,b(n.value,{cached:!0}));let u={addresses:c?[c]:[t.host],servername:t.servername||t.host};return v.set(t.host,{value:u,expires:Date.now()+(t.dnsTtl||i)}),s(null,b(u,{cached:!1}))})}catch(o){return n?(v.set(t.host,{value:n.value,expires:Date.now()+(t.dnsTtl||i)}),s(null,b(n.value,{cached:!0,error:l}))):s(l)}})})},m.exports.parseConnectionUrl=s=>{s=s||'';let n={};return[t.parse(s,!0)].forEach(t=>{let s;switch(t.protocol){case'smtp:':n.secure=!1;break;case'smtps:':n.secure=!0;break;case'direct:':n.direct=!0}!isNaN(t.port)&&Number(t.port)&&(n.port=Number(t.port)),t.hostname&&(n.host=t.hostname),t.auth&&(s=t.auth.split(':'),n.auth||(n.auth={}),n.auth.user=s.shift(),n.auth.pass=s.join(':')),Object.keys(t.query||{}).forEach(s=>{let l=n,o=s,c=t.query[s];switch(isNaN(c)||(c=Number(c)),c){case'true':c=!0;break;case'false':c=!1}if(0===s.indexOf('tls.'))o=s.substr(4),n.tls||(n.tls={}),l=n.tls;else if(s.indexOf('.')>=0)return;o in l||(l[o]=c)})}),n},m.exports._logFunc=(t,s,n,l,o,...c)=>{let u={};Object.keys(n||{}).forEach(t=>{'level'!==t&&(u[t]=n[t])}),Object.keys(l||{}).forEach(t=>{'level'!==t&&(u[t]=l[t])}),t[s](u,o,...c)},m.exports.getLogger=(t,s)=>{let n={},l=['trace','debug','info','warn','error','fatal'];if(!(t=t||{}).logger)return l.forEach(t=>{n[t]=()=>!1}),n;let o=t.logger;return!0===t.logger&&(o=w(l)),l.forEach(t=>{n[t]=(n,l,...c)=>{m.exports._logFunc(o,t,s,n,l,...c)}}),n},m.exports.callbackPromise=(t,s)=>function(){let n=Array.from(arguments),l=n.shift();l?s(l):t(...n)},m.exports.parseDataURI=t=>{if('string'!=typeof t)return null;if(!t.startsWith('data:'))return null;const s=t.indexOf(',');if(-1===s)return null;const n=t.substring(s+1);let l;const o=t.substring(5,s).split(';');if(o.length>0){const t=o[o.length-1].toLowerCase().trim();['base64','utf8','utf-8'].includes(t)&&-1===t.indexOf('=')&&(l=t,o.pop())}const c=o.length>0?o.shift():'application/octet-stream',u={};for(let t=0;t<o.length;t++){const s=o[t],n=s.indexOf('=');if(n>0){const t=s.substring(0,n).trim(),l=s.substring(n+1).trim();t&&(u[t]=l)}}let i;try{if('base64'===l)i=Buffer.from(n,'base64');else try{i=Buffer.from(decodeURIComponent(n))}catch(t){i=Buffer.from(n)}}catch(t){i=Buffer.alloc(0)}return{data:i,encoding:l||null,contentType:c||'application/octet-stream',params:u}},m.exports.resolveContent=(t,s,o)=>{let c;o||(c=new Promise((t,s)=>{o=m.exports.callbackPromise(t,s)}));let u,i=t&&t[s]&&t[s].content||t[s],f=('object'==typeof t[s]&&t[s].encoding||'utf8').toString().toLowerCase().replace(/[-_\s]/g,'');if(!i)return o(null,i);if('object'==typeof i){if('function'==typeof i.pipe)return y(i,(n,l)=>{if(n)return o(n);t[s].content?t[s].content=l:t[s]=l,o(null,l)});if(/^https?:\/\//i.test(i.path||i.href))return u=l(i.path||i.href),y(u,o);if(/^data:/i.test(i.path||i.href)){let t=m.exports.parseDataURI(i.path||i.href);return t&&t.data?o(null,t.data):o(null,Buffer.from(0))}if(i.path)return y(n.createReadStream(i.path),o)}return'string'!=typeof t[s].content||['utf8','usascii','ascii'].includes(f)||(i=Buffer.from(t[s].content,f)),setImmediate(()=>o(null,i)),c},m.exports.assign=function(){let t=Array.from(arguments),s=t.shift()||{};return t.forEach(t=>{Object.keys(t||{}).forEach(n=>{['tls','auth'].includes(n)&&t[n]&&'object'==typeof t[n]?(s[n]||(s[n]={}),Object.keys(t[n]).forEach(l=>{s[n][l]=t[n][l]})):s[n]=t[n]})}),s},m.exports.encodeXText=t=>{if(!/[^\x21-\x2A\x2C-\x3C\x3E-\x7E]/.test(t))return t;let s=Buffer.from(t),n='';for(let t=0,l=s.length;t<l;t++){let l=s[t];n+=l<33||l>126||43===l||61===l?'+'+(l<16?'0':'')+l.toString(16).toUpperCase():String.fromCharCode(l)}return n}},7127,[987,466,994,7128,7131,985,996]);
__d(function(g,r,i,a,m,e,d){'use strict';const t=r(d[0]),o=r(d[1]),s=r(d[2]),n=r(d[3]),c=r(d[4]).PassThrough,p=r(d[5]),u=r(d[6]),h=r(d[7]);function f(l,y){(y=y||{}).fetchRes=y.fetchRes||new c,y.cookies=y.cookies||new p,y.redirects=y.redirects||0,y.maxRedirects=isNaN(y.maxRedirects)?5:y.maxRedirects,y.cookie&&([].concat(y.cookie||[]).forEach(t=>{y.cookies.set(t,l)}),y.cookie=!1);let C,T,E,b=y.fetchRes,k=s.parse(l),U=(y.method||'').toString().trim().toUpperCase()||'GET',w=!1,R='https:'===k.protocol?o:t,x={'accept-encoding':'gzip,deflate','user-agent':'nodemailer/'+u.version};if(Object.keys(y.headers||{}).forEach(t=>{x[t.toLowerCase().trim()]=y.headers[t]}),y.userAgent&&(x['user-agent']=y.userAgent),k.auth&&(x.Authorization='Basic '+Buffer.from(k.auth).toString('base64')),(C=y.cookies.get(l))&&(x.cookie=C),y.body){if(!1!==y.contentType&&(x['Content-Type']=y.contentType||'application/x-www-form-urlencoded'),'function'==typeof y.body.pipe)x['Transfer-Encoding']='chunked',T=y.body,T.on('error',t=>{w||(w=!0,t.type='FETCH',t.sourceUrl=l,b.emit('error',t))});else{if(y.body instanceof Buffer)T=y.body;else if('object'==typeof y.body)try{T=Buffer.from(Object.keys(y.body).map(t=>{let o=y.body[t].toString().trim();return encodeURIComponent(t)+'='+encodeURIComponent(o)}).join('&'))}catch(t){if(w)return;return w=!0,t.type='FETCH',t.sourceUrl=l,void b.emit('error',t)}else T=Buffer.from(y.body.toString().trim());x['Content-Type']=y.contentType||'application/x-www-form-urlencoded',x['Content-Length']=T.length}U=(y.method||'').toString().trim().toUpperCase()||'POST'}let F={method:U,host:k.hostname,path:k.path,port:k.port?k.port:'https:'===k.protocol?443:80,headers:x,rejectUnauthorized:!1,agent:!1};y.tls&&Object.keys(y.tls).forEach(t=>{F[t]=y.tls[t]}),'https:'!==k.protocol||!k.hostname||k.hostname===F.host||h.isIP(k.hostname)||F.servername||(F.servername=k.hostname);try{E=R.request(F)}catch(t){return w=!0,setImmediate(()=>{t.type='FETCH',t.sourceUrl=l,b.emit('error',t)}),b}return y.timeout&&E.setTimeout(y.timeout,()=>{if(w)return;w=!0,E.abort();let t=new Error('Request Timeout');t.type='FETCH',t.sourceUrl=l,b.emit('error',t)}),E.on('error',t=>{w||(w=!0,t.type='FETCH',t.sourceUrl=l,b.emit('error',t))}),E.on('response',t=>{let o;if(!w){switch(t.headers['content-encoding']){case'gzip':case'deflate':o=n.createUnzip()}if(t.headers['set-cookie']&&[].concat(t.headers['set-cookie']||[]).forEach(t=>{y.cookies.set(t,l)}),[301,302,303,307,308].includes(t.statusCode)&&t.headers.location){if(y.redirects++,y.redirects>y.maxRedirects){w=!0;let t=new Error('Maximum redirect count exceeded');return t.type='FETCH',t.sourceUrl=l,b.emit('error',t),void E.abort()}return y.method='GET',y.body=!1,f(s.resolve(l,t.headers.location),y)}if(b.statusCode=t.statusCode,b.headers=t.headers,t.statusCode>=300&&!y.allowErrorResponse){w=!0;let o=new Error('Invalid status code '+t.statusCode);return o.type='FETCH',o.sourceUrl=l,b.emit('error',o),void E.abort()}t.on('error',t=>{w||(w=!0,t.type='FETCH',t.sourceUrl=l,b.emit('error',t),E.abort())}),o?(t.pipe(o).pipe(b),o.on('error',t=>{w||(w=!0,t.type='FETCH',t.sourceUrl=l,b.emit('error',t),E.abort())})):t.pipe(b)}}),setImmediate(()=>{if(T)try{if('function'==typeof T.pipe)return T.pipe(E);E.write(T)}catch(t){return w=!0,t.type='FETCH',t.sourceUrl=l,void b.emit('error',t)}E.end()}),b}m.exports=function(t,o){return f(t,o)},m.exports.Cookies=p},7128,[883,884,987,885,469,7129,7130,985]);
__d(function(g,r,_i,_a,m,e,d){'use strict';const t=r(d[0]);m.exports=class{constructor(t){this.options=t||{},this.cookies=[]}set(s,i){let a,o=t.parse(i||''),n=this.parse(s);return n.domain?(a=n.domain.replace(/^\./,''),(o.hostname.length<a.length||('.'+o.hostname).substr(1-a.length)!=='.'+a)&&(n.domain=o.hostname)):n.domain=o.hostname,n.path||(n.path=this.getPath(o.pathname)),n.expires||(n.expires=new Date(Date.now()+1e3*(Number(this.options.sessionTimeout||1800)||1800))),this.add(n)}get(t){return this.list(t).map(t=>t.name+'='+t.value).join('; ')}list(t){let s,i,a=[];for(s=this.cookies.length-1;s>=0;s--)i=this.cookies[s],this.isExpired(i)?this.cookies.splice(s,s):this.match(i,t)&&a.unshift(i);return a}parse(t){let s={};return(t||'').toString().split(';').forEach(t=>{let i,a=t.split('='),o=a.shift().trim().toLowerCase(),n=a.join('=').trim();if(o)switch(o){case'expires':n=new Date(n),'Invalid Date'!==n.toString()&&(s.expires=n);break;case'path':s.path=n;break;case'domain':i=n.toLowerCase(),i.length&&'.'!==i.charAt(0)&&(i='.'+i),s.domain=i;break;case'max-age':s.expires=new Date(Date.now()+1e3*(Number(n)||0));break;case'secure':s.secure=!0;break;case'httponly':s.httponly=!0;break;default:s.name||(s.name=o,s.value=n)}}),s}match(s,i){let a=t.parse(i||'');return(a.hostname===s.domain||'.'===s.domain.charAt(0)&&('.'+a.hostname).substr(-s.domain.length)===s.domain)&&(this.getPath(a.pathname).substr(0,s.path.length)===s.path&&(!s.secure||'https:'===a.protocol))}add(t){let s,i;if(!t||!t.name)return!1;for(s=0,i=this.cookies.length;s<i;s++)if(this.compare(this.cookies[s],t))return this.isExpired(t)?(this.cookies.splice(s,1),!1):(this.cookies[s]=t,!0);return this.isExpired(t)||this.cookies.push(t),!0}compare(t,s){return t.name===s.name&&t.path===s.path&&t.domain===s.domain&&t.secure===s.secure&&t.httponly==t.httponly}isExpired(t){return t.expires&&t.expires<new Date||!t.value}getPath(t){let s=(t||'/').split('/');return s.pop(),s=s.join('/').trim(),'/'!==s.charAt(0)&&(s='/'+s),'/'!==s.substr(-1)&&(s+='/'),s}}},7129,[987]);
__d(function(e,t,s,i,n,r,o){n.exports={name:"nodemailer",version:"7.0.10",description:"Easy as cake e-mail sending from your Node.js applications",main:"lib/nodemailer.js",scripts:{test:"node --test --test-concurrency=1 test/**/*.test.js test/**/*-test.js","test:coverage":"c8 node --test --test-concurrency=1 test/**/*.test.js test/**/*-test.js",format:"prettier --write \"**/*.{js,json,md}\"","format:check":"prettier --check \"**/*.{js,json,md}\"",lint:"eslint .","lint:fix":"eslint . --fix",update:"rm -rf node_modules/ package-lock.json && ncu -u && npm install"},repository:{type:"git",url:"https://github.com/nodemailer/nodemailer.git"},keywords:["Nodemailer"],author:"Andris Reinman",license:"MIT-0",bugs:{url:"https://github.com/nodemailer/nodemailer/issues"},homepage:"https://nodemailer.com/",devDependencies:{"@aws-sdk/client-sesv2":"3.914.0",bunyan:"1.8.15",c8:"10.1.3",eslint:"9.38.0","eslint-config-prettier":"10.1.8",globals:"16.4.0",libbase64:"1.3.0",libmime:"5.3.7",libqp:"2.1.1","nodemailer-ntlm-auth":"1.0.4",prettier:"3.6.2",proxy:"1.0.2","proxy-test-server":"1.0.0","smtp-server":"3.15.0"},engines:{node:">=6.0.0"}}},7130,[]);
__d(function(g,r,i,a,m,e,d){m.exports=$$require_external('node:dns')},7131,[]);
__d(function(g,r,i,a,m,e,d){'use strict';const p=r(d[0]),t='application/octet-stream',n=new Map([['application/acad','dwg'],['application/applixware','aw'],['application/arj','arj'],['application/atom+xml','xml'],['application/atomcat+xml','atomcat'],['application/atomsvc+xml','atomsvc'],['application/base64',['mm','mme']],['application/binhex','hqx'],['application/binhex4','hqx'],['application/book',['book','boo']],['application/ccxml+xml,','ccxml'],['application/cdf','cdf'],['application/cdmi-capability','cdmia'],['application/cdmi-container','cdmic'],['application/cdmi-domain','cdmid'],['application/cdmi-object','cdmio'],['application/cdmi-queue','cdmiq'],['application/clariscad','ccad'],['application/commonground','dp'],['application/cu-seeme','cu'],['application/davmount+xml','davmount'],['application/drafting','drw'],['application/dsptype','tsp'],['application/dssc+der','dssc'],['application/dssc+xml','xdssc'],['application/dxf','dxf'],['application/ecmascript',['js','es']],['application/emma+xml','emma'],['application/envoy','evy'],['application/epub+zip','epub'],['application/excel',['xls','xl','xla','xlb','xlc','xld','xlk','xll','xlm','xlt','xlv','xlw']],['application/exi','exi'],['application/font-tdpfr','pfr'],['application/fractals','fif'],['application/freeloader','frl'],['application/futuresplash','spl'],['application/geo+json','geojson'],['application/gnutar','tgz'],['application/groupwise','vew'],['application/hlp','hlp'],['application/hta','hta'],['application/hyperstudio','stk'],['application/i-deas','unv'],['application/iges',['iges','igs']],['application/inf','inf'],['application/internet-property-stream','acx'],['application/ipfix','ipfix'],['application/java','class'],['application/java-archive','jar'],['application/java-byte-code','class'],['application/java-serialized-object','ser'],['application/java-vm','class'],['application/javascript','js'],['application/json','json'],['application/lha','lha'],['application/lzx','lzx'],['application/mac-binary','bin'],['application/mac-binhex','hqx'],['application/mac-binhex40','hqx'],['application/mac-compactpro','cpt'],['application/macbinary','bin'],['application/mads+xml','mads'],['application/marc','mrc'],['application/marcxml+xml','mrcx'],['application/mathematica','ma'],['application/mathml+xml','mathml'],['application/mbedlet','mbd'],['application/mbox','mbox'],['application/mcad','mcd'],['application/mediaservercontrol+xml','mscml'],['application/metalink4+xml','meta4'],['application/mets+xml','mets'],['application/mime','aps'],['application/mods+xml','mods'],['application/mp21','m21'],['application/mp4','mp4'],['application/mspowerpoint',['ppt','pot','pps','ppz']],['application/msword',['doc','dot','w6w','wiz','word']],['application/mswrite','wri'],['application/mxf','mxf'],['application/netmc','mcp'],['application/octet-stream',['*']],['application/oda','oda'],['application/oebps-package+xml','opf'],['application/ogg','ogx'],['application/olescript','axs'],['application/onenote','onetoc'],['application/patch-ops-error+xml','xer'],['application/pdf','pdf'],['application/pgp-encrypted','asc'],['application/pgp-signature','pgp'],['application/pics-rules','prf'],['application/pkcs-12','p12'],['application/pkcs-crl','crl'],['application/pkcs10','p10'],['application/pkcs7-mime',['p7c','p7m']],['application/pkcs7-signature','p7s'],['application/pkcs8','p8'],['application/pkix-attr-cert','ac'],['application/pkix-cert',['cer','crt']],['application/pkix-crl','crl'],['application/pkix-pkipath','pkipath'],['application/pkixcmp','pki'],['application/plain','text'],['application/pls+xml','pls'],['application/postscript',['ps','ai','eps']],['application/powerpoint','ppt'],['application/pro_eng',['part','prt']],['application/prs.cww','cww'],['application/pskc+xml','pskcxml'],['application/rdf+xml','rdf'],['application/reginfo+xml','rif'],['application/relax-ng-compact-syntax','rnc'],['application/resource-lists+xml','rl'],['application/resource-lists-diff+xml','rld'],['application/ringing-tones','rng'],['application/rls-services+xml','rs'],['application/rsd+xml','rsd'],['application/rss+xml','xml'],['application/rtf',['rtf','rtx']],['application/sbml+xml','sbml'],['application/scvp-cv-request','scq'],['application/scvp-cv-response','scs'],['application/scvp-vp-request','spq'],['application/scvp-vp-response','spp'],['application/sdp','sdp'],['application/sea','sea'],['application/set','set'],['application/set-payment-initiation','setpay'],['application/set-registration-initiation','setreg'],['application/shf+xml','shf'],['application/sla','stl'],['application/smil',['smi','smil']],['application/smil+xml','smi'],['application/solids','sol'],['application/sounder','sdr'],['application/sparql-query','rq'],['application/sparql-results+xml','srx'],['application/srgs','gram'],['application/srgs+xml','grxml'],['application/sru+xml','sru'],['application/ssml+xml','ssml'],['application/step',['step','stp']],['application/streamingmedia','ssm'],['application/tei+xml','tei'],['application/thraud+xml','tfi'],['application/timestamped-data','tsd'],['application/toolbook','tbk'],['application/vda','vda'],['application/vnd.3gpp.pic-bw-large','plb'],['application/vnd.3gpp.pic-bw-small','psb'],['application/vnd.3gpp.pic-bw-var','pvb'],['application/vnd.3gpp2.tcap','tcap'],['application/vnd.3m.post-it-notes','pwn'],['application/vnd.accpac.simply.aso','aso'],['application/vnd.accpac.simply.imp','imp'],['application/vnd.acucobol','acu'],['application/vnd.acucorp','atc'],['application/vnd.adobe.air-application-installer-package+zip','air'],['application/vnd.adobe.fxp','fxp'],['application/vnd.adobe.xdp+xml','xdp'],['application/vnd.adobe.xfdf','xfdf'],['application/vnd.ahead.space','ahead'],['application/vnd.airzip.filesecure.azf','azf'],['application/vnd.airzip.filesecure.azs','azs'],['application/vnd.amazon.ebook','azw'],['application/vnd.americandynamics.acc','acc'],['application/vnd.amiga.ami','ami'],['application/vnd.android.package-archive','apk'],['application/vnd.anser-web-certificate-issue-initiation','cii'],['application/vnd.anser-web-funds-transfer-initiation','fti'],['application/vnd.antix.game-component','atx'],['application/vnd.apple.installer+xml','mpkg'],['application/vnd.apple.mpegurl','m3u8'],['application/vnd.aristanetworks.swi','swi'],['application/vnd.audiograph','aep'],['application/vnd.blueice.multipass','mpm'],['application/vnd.bmi','bmi'],['application/vnd.businessobjects','rep'],['application/vnd.chemdraw+xml','cdxml'],['application/vnd.chipnuts.karaoke-mmd','mmd'],['application/vnd.cinderella','cdy'],['application/vnd.claymore','cla'],['application/vnd.cloanto.rp9','rp9'],['application/vnd.clonk.c4group','c4g'],['application/vnd.cluetrust.cartomobile-config','c11amc'],['application/vnd.cluetrust.cartomobile-config-pkg','c11amz'],['application/vnd.commonspace','csp'],['application/vnd.contact.cmsg','cdbcmsg'],['application/vnd.cosmocaller','cmc'],['application/vnd.crick.clicker','clkx'],['application/vnd.crick.clicker.keyboard','clkk'],['application/vnd.crick.clicker.palette','clkp'],['application/vnd.crick.clicker.template','clkt'],['application/vnd.crick.clicker.wordbank','clkw'],['application/vnd.criticaltools.wbs+xml','wbs'],['application/vnd.ctc-posml','pml'],['application/vnd.cups-ppd','ppd'],['application/vnd.curl.car','car'],['application/vnd.curl.pcurl','pcurl'],['application/vnd.data-vision.rdz','rdz'],['application/vnd.denovo.fcselayout-link','fe_launch'],['application/vnd.dna','dna'],['application/vnd.dolby.mlp','mlp'],['application/vnd.dpgraph','dpg'],['application/vnd.dreamfactory','dfac'],['application/vnd.dvb.ait','ait'],['application/vnd.dvb.service','svc'],['application/vnd.dynageo','geo'],['application/vnd.ecowin.chart','mag'],['application/vnd.enliven','nml'],['application/vnd.epson.esf','esf'],['application/vnd.epson.msf','msf'],['application/vnd.epson.quickanime','qam'],['application/vnd.epson.salt','slt'],['application/vnd.epson.ssf','ssf'],['application/vnd.eszigno3+xml','es3'],['application/vnd.ezpix-album','ez2'],['application/vnd.ezpix-package','ez3'],['application/vnd.fdf','fdf'],['application/vnd.fdsn.seed','seed'],['application/vnd.flographit','gph'],['application/vnd.fluxtime.clip','ftc'],['application/vnd.framemaker','fm'],['application/vnd.frogans.fnc','fnc'],['application/vnd.frogans.ltf','ltf'],['application/vnd.fsc.weblaunch','fsc'],['application/vnd.fujitsu.oasys','oas'],['application/vnd.fujitsu.oasys2','oa2'],['application/vnd.fujitsu.oasys3','oa3'],['application/vnd.fujitsu.oasysgp','fg5'],['application/vnd.fujitsu.oasysprs','bh2'],['application/vnd.fujixerox.ddd','ddd'],['application/vnd.fujixerox.docuworks','xdw'],['application/vnd.fujixerox.docuworks.binder','xbd'],['application/vnd.fuzzysheet','fzs'],['application/vnd.genomatix.tuxedo','txd'],['application/vnd.geogebra.file','ggb'],['application/vnd.geogebra.tool','ggt'],['application/vnd.geometry-explorer','gex'],['application/vnd.geonext','gxt'],['application/vnd.geoplan','g2w'],['application/vnd.geospace','g3w'],['application/vnd.gmx','gmx'],['application/vnd.google-earth.kml+xml','kml'],['application/vnd.google-earth.kmz','kmz'],['application/vnd.grafeq','gqf'],['application/vnd.groove-account','gac'],['application/vnd.groove-help','ghf'],['application/vnd.groove-identity-message','gim'],['application/vnd.groove-injector','grv'],['application/vnd.groove-tool-message','gtm'],['application/vnd.groove-tool-template','tpl'],['application/vnd.groove-vcard','vcg'],['application/vnd.hal+xml','hal'],['application/vnd.handheld-entertainment+xml','zmm'],['application/vnd.hbci','hbci'],['application/vnd.hhe.lesson-player','les'],['application/vnd.hp-hpgl',['hgl','hpg','hpgl']],['application/vnd.hp-hpid','hpid'],['application/vnd.hp-hps','hps'],['application/vnd.hp-jlyt','jlt'],['application/vnd.hp-pcl','pcl'],['application/vnd.hp-pclxl','pclxl'],['application/vnd.hydrostatix.sof-data','sfd-hdstx'],['application/vnd.hzn-3d-crossword','x3d'],['application/vnd.ibm.minipay','mpy'],['application/vnd.ibm.modcap','afp'],['application/vnd.ibm.rights-management','irm'],['application/vnd.ibm.secure-container','sc'],['application/vnd.iccprofile','icc'],['application/vnd.igloader','igl'],['application/vnd.immervision-ivp','ivp'],['application/vnd.immervision-ivu','ivu'],['application/vnd.insors.igm','igm'],['application/vnd.intercon.formnet','xpw'],['application/vnd.intergeo','i2g'],['application/vnd.intu.qbo','qbo'],['application/vnd.intu.qfx','qfx'],['application/vnd.ipunplugged.rcprofile','rcprofile'],['application/vnd.irepository.package+xml','irp'],['application/vnd.is-xpr','xpr'],['application/vnd.isac.fcs','fcs'],['application/vnd.jam','jam'],['application/vnd.jcp.javame.midlet-rms','rms'],['application/vnd.jisp','jisp'],['application/vnd.joost.joda-archive','joda'],['application/vnd.kahootz','ktz'],['application/vnd.kde.karbon','karbon'],['application/vnd.kde.kchart','chrt'],['application/vnd.kde.kformula','kfo'],['application/vnd.kde.kivio','flw'],['application/vnd.kde.kontour','kon'],['application/vnd.kde.kpresenter','kpr'],['application/vnd.kde.kspread','ksp'],['application/vnd.kde.kword','kwd'],['application/vnd.kenameaapp','htke'],['application/vnd.kidspiration','kia'],['application/vnd.kinar','kne'],['application/vnd.koan','skp'],['application/vnd.kodak-descriptor','sse'],['application/vnd.las.las+xml','lasxml'],['application/vnd.llamagraphics.life-balance.desktop','lbd'],['application/vnd.llamagraphics.life-balance.exchange+xml','lbe'],['application/vnd.lotus-1-2-3','123'],['application/vnd.lotus-approach','apr'],['application/vnd.lotus-freelance','pre'],['application/vnd.lotus-notes','nsf'],['application/vnd.lotus-organizer','org'],['application/vnd.lotus-screencam','scm'],['application/vnd.lotus-wordpro','lwp'],['application/vnd.macports.portpkg','portpkg'],['application/vnd.mcd','mcd'],['application/vnd.medcalcdata','mc1'],['application/vnd.mediastation.cdkey','cdkey'],['application/vnd.mfer','mwf'],['application/vnd.mfmp','mfm'],['application/vnd.micrografx.flo','flo'],['application/vnd.micrografx.igx','igx'],['application/vnd.mif','mif'],['application/vnd.mobius.daf','daf'],['application/vnd.mobius.dis','dis'],['application/vnd.mobius.mbk','mbk'],['application/vnd.mobius.mqy','mqy'],['application/vnd.mobius.msl','msl'],['application/vnd.mobius.plc','plc'],['application/vnd.mobius.txf','txf'],['application/vnd.mophun.application','mpn'],['application/vnd.mophun.certificate','mpc'],['application/vnd.mozilla.xul+xml','xul'],['application/vnd.ms-artgalry','cil'],['application/vnd.ms-cab-compressed','cab'],['application/vnd.ms-excel',['xls','xla','xlc','xlm','xlt','xlw','xlb','xll']],['application/vnd.ms-excel.addin.macroenabled.12','xlam'],['application/vnd.ms-excel.sheet.binary.macroenabled.12','xlsb'],['application/vnd.ms-excel.sheet.macroenabled.12','xlsm'],['application/vnd.ms-excel.template.macroenabled.12','xltm'],['application/vnd.ms-fontobject','eot'],['application/vnd.ms-htmlhelp','chm'],['application/vnd.ms-ims','ims'],['application/vnd.ms-lrm','lrm'],['application/vnd.ms-officetheme','thmx'],['application/vnd.ms-outlook','msg'],['application/vnd.ms-pki.certstore','sst'],['application/vnd.ms-pki.pko','pko'],['application/vnd.ms-pki.seccat','cat'],['application/vnd.ms-pki.stl','stl'],['application/vnd.ms-pkicertstore','sst'],['application/vnd.ms-pkiseccat','cat'],['application/vnd.ms-pkistl','stl'],['application/vnd.ms-powerpoint',['ppt','pot','pps','ppa','pwz']],['application/vnd.ms-powerpoint.addin.macroenabled.12','ppam'],['application/vnd.ms-powerpoint.presentation.macroenabled.12','pptm'],['application/vnd.ms-powerpoint.slide.macroenabled.12','sldm'],['application/vnd.ms-powerpoint.slideshow.macroenabled.12','ppsm'],['application/vnd.ms-powerpoint.template.macroenabled.12','potm'],['application/vnd.ms-project','mpp'],['application/vnd.ms-word.document.macroenabled.12','docm'],['application/vnd.ms-word.template.macroenabled.12','dotm'],['application/vnd.ms-works',['wks','wcm','wdb','wps']],['application/vnd.ms-wpl','wpl'],['application/vnd.ms-xpsdocument','xps'],['application/vnd.mseq','mseq'],['application/vnd.musician','mus'],['application/vnd.muvee.style','msty'],['application/vnd.neurolanguage.nlu','nlu'],['application/vnd.noblenet-directory','nnd'],['application/vnd.noblenet-sealer','nns'],['application/vnd.noblenet-web','nnw'],['application/vnd.nokia.configuration-message','ncm'],['application/vnd.nokia.n-gage.data','ngdat'],['application/vnd.nokia.n-gage.symbian.install','n-gage'],['application/vnd.nokia.radio-preset','rpst'],['application/vnd.nokia.radio-presets','rpss'],['application/vnd.nokia.ringing-tone','rng'],['application/vnd.novadigm.edm','edm'],['application/vnd.novadigm.edx','edx'],['application/vnd.novadigm.ext','ext'],['application/vnd.oasis.opendocument.chart','odc'],['application/vnd.oasis.opendocument.chart-template','otc'],['application/vnd.oasis.opendocument.database','odb'],['application/vnd.oasis.opendocument.formula','odf'],['application/vnd.oasis.opendocument.formula-template','odft'],['application/vnd.oasis.opendocument.graphics','odg'],['application/vnd.oasis.opendocument.graphics-template','otg'],['application/vnd.oasis.opendocument.image','odi'],['application/vnd.oasis.opendocument.image-template','oti'],['application/vnd.oasis.opendocument.presentation','odp'],['application/vnd.oasis.opendocument.presentation-template','otp'],['application/vnd.oasis.opendocument.spreadsheet','ods'],['application/vnd.oasis.opendocument.spreadsheet-template','ots'],['application/vnd.oasis.opendocument.text','odt'],['application/vnd.oasis.opendocument.text-master','odm'],['application/vnd.oasis.opendocument.text-template','ott'],['application/vnd.oasis.opendocument.text-web','oth'],['application/vnd.olpc-sugar','xo'],['application/vnd.oma.dd2+xml','dd2'],['application/vnd.openofficeorg.extension','oxt'],['application/vnd.openxmlformats-officedocument.presentationml.presentation','pptx'],['application/vnd.openxmlformats-officedocument.presentationml.slide','sldx'],['application/vnd.openxmlformats-officedocument.presentationml.slideshow','ppsx'],['application/vnd.openxmlformats-officedocument.presentationml.template','potx'],['application/vnd.openxmlformats-officedocument.spreadsheetml.sheet','xlsx'],['application/vnd.openxmlformats-officedocument.spreadsheetml.template','xltx'],['application/vnd.openxmlformats-officedocument.wordprocessingml.document','docx'],['application/vnd.openxmlformats-officedocument.wordprocessingml.template','dotx'],['application/vnd.osgeo.mapguide.package','mgp'],['application/vnd.osgi.dp','dp'],['application/vnd.palm','pdb'],['application/vnd.pawaafile','paw'],['application/vnd.pg.format','str'],['application/vnd.pg.osasli','ei6'],['application/vnd.picsel','efif'],['application/vnd.pmi.widget','wg'],['application/vnd.pocketlearn','plf'],['application/vnd.powerbuilder6','pbd'],['application/vnd.previewsystems.box','box'],['application/vnd.proteus.magazine','mgz'],['application/vnd.publishare-delta-tree','qps'],['application/vnd.pvi.ptid1','ptid'],['application/vnd.quark.quarkxpress','qxd'],['application/vnd.realvnc.bed','bed'],['application/vnd.recordare.musicxml','mxl'],['application/vnd.recordare.musicxml+xml','musicxml'],['application/vnd.rig.cryptonote','cryptonote'],['application/vnd.rim.cod','cod'],['application/vnd.rn-realmedia','rm'],['application/vnd.rn-realplayer','rnx'],['application/vnd.route66.link66+xml','link66'],['application/vnd.sailingtracker.track','st'],['application/vnd.seemail','see'],['application/vnd.sema','sema'],['application/vnd.semd','semd'],['application/vnd.semf','semf'],['application/vnd.shana.informed.formdata','ifm'],['application/vnd.shana.informed.formtemplate','itp'],['application/vnd.shana.informed.interchange','iif'],['application/vnd.shana.informed.package','ipk'],['application/vnd.simtech-mindmapper','twd'],['application/vnd.smaf','mmf'],['application/vnd.smart.teacher','teacher'],['application/vnd.solent.sdkm+xml','sdkm'],['application/vnd.spotfire.dxp','dxp'],['application/vnd.spotfire.sfs','sfs'],['application/vnd.stardivision.calc','sdc'],['application/vnd.stardivision.draw','sda'],['application/vnd.stardivision.impress','sdd'],['application/vnd.stardivision.math','smf'],['application/vnd.stardivision.writer','sdw'],['application/vnd.stardivision.writer-global','sgl'],['application/vnd.stepmania.stepchart','sm'],['application/vnd.sun.xml.calc','sxc'],['application/vnd.sun.xml.calc.template','stc'],['application/vnd.sun.xml.draw','sxd'],['application/vnd.sun.xml.draw.template','std'],['application/vnd.sun.xml.impress','sxi'],['application/vnd.sun.xml.impress.template','sti'],['application/vnd.sun.xml.math','sxm'],['application/vnd.sun.xml.writer','sxw'],['application/vnd.sun.xml.writer.global','sxg'],['application/vnd.sun.xml.writer.template','stw'],['application/vnd.sus-calendar','sus'],['application/vnd.svd','svd'],['application/vnd.symbian.install','sis'],['application/vnd.syncml+xml','xsm'],['application/vnd.syncml.dm+wbxml','bdm'],['application/vnd.syncml.dm+xml','xdm'],['application/vnd.tao.intent-module-archive','tao'],['application/vnd.tmobile-livetv','tmo'],['application/vnd.trid.tpt','tpt'],['application/vnd.triscape.mxs','mxs'],['application/vnd.trueapp','tra'],['application/vnd.ufdl','ufd'],['application/vnd.uiq.theme','utz'],['application/vnd.umajin','umj'],['application/vnd.unity','unityweb'],['application/vnd.uoml+xml','uoml'],['application/vnd.vcx','vcx'],['application/vnd.visio','vsd'],['application/vnd.visionary','vis'],['application/vnd.vsf','vsf'],['application/vnd.wap.wbxml','wbxml'],['application/vnd.wap.wmlc','wmlc'],['application/vnd.wap.wmlscriptc','wmlsc'],['application/vnd.webturbo','wtb'],['application/vnd.wolfram.player','nbp'],['application/vnd.wordperfect','wpd'],['application/vnd.wqd','wqd'],['application/vnd.wt.stf','stf'],['application/vnd.xara',['web','xar']],['application/vnd.xfdl','xfdl'],['application/vnd.yamaha.hv-dic','hvd'],['application/vnd.yamaha.hv-script','hvs'],['application/vnd.yamaha.hv-voice','hvp'],['application/vnd.yamaha.openscoreformat','osf'],['application/vnd.yamaha.openscoreformat.osfpvg+xml','osfpvg'],['application/vnd.yamaha.smaf-audio','saf'],['application/vnd.yamaha.smaf-phrase','spf'],['application/vnd.yellowriver-custom-menu','cmp'],['application/vnd.zul','zir'],['application/vnd.zzazz.deck+xml','zaz'],['application/vocaltec-media-desc','vmd'],['application/vocaltec-media-file','vmf'],['application/voicexml+xml','vxml'],['application/widget','wgt'],['application/winhlp','hlp'],['application/wordperfect',['wp','wp5','wp6','wpd']],['application/wordperfect6.0',['w60','wp5']],['application/wordperfect6.1','w61'],['application/wsdl+xml','wsdl'],['application/wspolicy+xml','wspolicy'],['application/x-123','wk1'],['application/x-7z-compressed','7z'],['application/x-abiword','abw'],['application/x-ace-compressed','ace'],['application/x-aim','aim'],['application/x-authorware-bin','aab'],['application/x-authorware-map','aam'],['application/x-authorware-seg','aas'],['application/x-bcpio','bcpio'],['application/x-binary','bin'],['application/x-binhex40','hqx'],['application/x-bittorrent','torrent'],['application/x-bsh',['bsh','sh','shar']],['application/x-bytecode.elisp','elc'],['application/x-bytecode.python','pyc'],['application/x-bzip','bz'],['application/x-bzip2',['boz','bz2']],['application/x-cdf','cdf'],['application/x-cdlink','vcd'],['application/x-chat',['cha','chat']],['application/x-chess-pgn','pgn'],['application/x-cmu-raster','ras'],['application/x-cocoa','cco'],['application/x-compactpro','cpt'],['application/x-compress','z'],['application/x-compressed',['tgz','gz','z','zip']],['application/x-conference','nsc'],['application/x-cpio','cpio'],['application/x-cpt','cpt'],['application/x-csh','csh'],['application/x-debian-package','deb'],['application/x-deepv','deepv'],['application/x-director',['dir','dcr','dxr']],['application/x-doom','wad'],['application/x-dtbncx+xml','ncx'],['application/x-dtbook+xml','dtb'],['application/x-dtbresource+xml','res'],['application/x-dvi','dvi'],['application/x-elc','elc'],['application/x-envoy',['env','evy']],['application/x-esrehber','es'],['application/x-excel',['xls','xla','xlb','xlc','xld','xlk','xll','xlm','xlt','xlv','xlw']],['application/x-font-bdf','bdf'],['application/x-font-ghostscript','gsf'],['application/x-font-linux-psf','psf'],['application/x-font-otf','otf'],['application/x-font-pcf','pcf'],['application/x-font-snf','snf'],['application/x-font-ttf','ttf'],['application/x-font-type1','pfa'],['application/x-font-woff','woff'],['application/x-frame','mif'],['application/x-freelance','pre'],['application/x-futuresplash','spl'],['application/x-gnumeric','gnumeric'],['application/x-gsp','gsp'],['application/x-gss','gss'],['application/x-gtar','gtar'],['application/x-gzip',['gz','gzip']],['application/x-hdf','hdf'],['application/x-helpfile',['help','hlp']],['application/x-httpd-imap','imap'],['application/x-ima','ima'],['application/x-internet-signup',['ins','isp']],['application/x-internett-signup','ins'],['application/x-inventor','iv'],['application/x-ip2','ip'],['application/x-iphone','iii'],['application/x-java-class','class'],['application/x-java-commerce','jcm'],['application/x-java-jnlp-file','jnlp'],['application/x-javascript','js'],['application/x-koan',['skd','skm','skp','skt']],['application/x-ksh','ksh'],['application/x-latex',['latex','ltx']],['application/x-lha','lha'],['application/x-lisp','lsp'],['application/x-livescreen','ivy'],['application/x-lotus','wq1'],['application/x-lotusscreencam','scm'],['application/x-lzh','lzh'],['application/x-lzx','lzx'],['application/x-mac-binhex40','hqx'],['application/x-macbinary','bin'],['application/x-magic-cap-package-1.0','mc$'],['application/x-mathcad','mcd'],['application/x-meme','mm'],['application/x-midi',['mid','midi']],['application/x-mif','mif'],['application/x-mix-transfer','nix'],['application/x-mobipocket-ebook','prc'],['application/x-mplayer2','asx'],['application/x-ms-application','application'],['application/x-ms-wmd','wmd'],['application/x-ms-wmz','wmz'],['application/x-ms-xbap','xbap'],['application/x-msaccess','mdb'],['application/x-msbinder','obd'],['application/x-mscardfile','crd'],['application/x-msclip','clp'],['application/x-msdownload',['exe','dll']],['application/x-msexcel',['xls','xla','xlw']],['application/x-msmediaview',['mvb','m13','m14']],['application/x-msmetafile','wmf'],['application/x-msmoney','mny'],['application/x-mspowerpoint','ppt'],['application/x-mspublisher','pub'],['application/x-msschedule','scd'],['application/x-msterminal','trm'],['application/x-mswrite','wri'],['application/x-navi-animation','ani'],['application/x-navidoc','nvd'],['application/x-navimap','map'],['application/x-navistyle','stl'],['application/x-netcdf',['cdf','nc']],['application/x-newton-compatible-pkg','pkg'],['application/x-nokia-9000-communicator-add-on-software','aos'],['application/x-omc','omc'],['application/x-omcdatamaker','omcd'],['application/x-omcregerator','omcr'],['application/x-pagemaker',['pm4','pm5']],['application/x-pcl','pcl'],['application/x-perfmon',['pma','pmc','pml','pmr','pmw']],['application/x-pixclscript','plx'],['application/x-pkcs10','p10'],['application/x-pkcs12',['p12','pfx']],['application/x-pkcs7-certificates',['p7b','spc']],['application/x-pkcs7-certreqresp','p7r'],['application/x-pkcs7-mime',['p7m','p7c']],['application/x-pkcs7-signature',['p7s','p7a']],['application/x-pointplus','css'],['application/x-portable-anymap','pnm'],['application/x-project',['mpc','mpt','mpv','mpx']],['application/x-qpro','wb1'],['application/x-rar-compressed','rar'],['application/x-rtf','rtf'],['application/x-sdp','sdp'],['application/x-sea','sea'],['application/x-seelogo','sl'],['application/x-sh','sh'],['application/x-shar',['shar','sh']],['application/x-shockwave-flash','swf'],['application/x-silverlight-app','xap'],['application/x-sit','sit'],['application/x-sprite',['spr','sprite']],['application/x-stuffit','sit'],['application/x-stuffitx','sitx'],['application/x-sv4cpio','sv4cpio'],['application/x-sv4crc','sv4crc'],['application/x-tar','tar'],['application/x-tbook',['sbk','tbk']],['application/x-tcl','tcl'],['application/x-tex','tex'],['application/x-tex-tfm','tfm'],['application/x-texinfo',['texi','texinfo']],['application/x-troff',['roff','t','tr']],['application/x-troff-man','man'],['application/x-troff-me','me'],['application/x-troff-ms','ms'],['application/x-troff-msvideo','avi'],['application/x-ustar','ustar'],['application/x-visio',['vsd','vst','vsw']],['application/x-vnd.audioexplosion.mzz','mzz'],['application/x-vnd.ls-xpix','xpix'],['application/x-vrml','vrml'],['application/x-wais-source',['src','wsrc']],['application/x-winhelp','hlp'],['application/x-wintalk','wtk'],['application/x-world',['wrl','svr']],['application/x-wpwin','wpd'],['application/x-wri','wri'],['application/x-x509-ca-cert',['cer','crt','der']],['application/x-x509-user-cert','crt'],['application/x-xfig','fig'],['application/x-xpinstall','xpi'],['application/x-zip-compressed','zip'],['application/xcap-diff+xml','xdf'],['application/xenc+xml','xenc'],['application/xhtml+xml','xhtml'],['application/xml','xml'],['application/xml-dtd','dtd'],['application/xop+xml','xop'],['application/xslt+xml','xslt'],['application/xspf+xml','xspf'],['application/xv+xml','mxml'],['application/yang','yang'],['application/yin+xml','yin'],['application/ynd.ms-pkipko','pko'],['application/zip','zip'],['audio/adpcm','adp'],['audio/aiff',['aiff','aif','aifc']],['audio/basic',['snd','au']],['audio/it','it'],['audio/make',['funk','my','pfunk']],['audio/make.my.funk','pfunk'],['audio/mid',['mid','rmi']],['audio/midi',['midi','kar','mid']],['audio/mod','mod'],['audio/mp4','mp4a'],['audio/mpeg',['mpga','mp3','m2a','mp2','mpa','mpg']],['audio/mpeg3','mp3'],['audio/nspaudio',['la','lma']],['audio/ogg','oga'],['audio/s3m','s3m'],['audio/tsp-audio','tsi'],['audio/tsplayer','tsp'],['audio/vnd.dece.audio','uva'],['audio/vnd.digital-winds','eol'],['audio/vnd.dra','dra'],['audio/vnd.dts','dts'],['audio/vnd.dts.hd','dtshd'],['audio/vnd.lucent.voice','lvp'],['audio/vnd.ms-playready.media.pya','pya'],['audio/vnd.nuera.ecelp4800','ecelp4800'],['audio/vnd.nuera.ecelp7470','ecelp7470'],['audio/vnd.nuera.ecelp9600','ecelp9600'],['audio/vnd.qcelp','qcp'],['audio/vnd.rip','rip'],['audio/voc','voc'],['audio/voxware','vox'],['audio/wav','wav'],['audio/webm','weba'],['audio/x-aac','aac'],['audio/x-adpcm','snd'],['audio/x-aiff',['aiff','aif','aifc']],['audio/x-au','au'],['audio/x-gsm',['gsd','gsm']],['audio/x-jam','jam'],['audio/x-liveaudio','lam'],['audio/x-mid',['mid','midi']],['audio/x-midi',['midi','mid']],['audio/x-mod','mod'],['audio/x-mpeg','mp2'],['audio/x-mpeg-3','mp3'],['audio/x-mpegurl','m3u'],['audio/x-mpequrl','m3u'],['audio/x-ms-wax','wax'],['audio/x-ms-wma','wma'],['audio/x-nspaudio',['la','lma']],['audio/x-pn-realaudio',['ra','ram','rm','rmm','rmp']],['audio/x-pn-realaudio-plugin',['ra','rmp','rpm']],['audio/x-psid','sid'],['audio/x-realaudio','ra'],['audio/x-twinvq','vqf'],['audio/x-twinvq-plugin',['vqe','vql']],['audio/x-vnd.audioexplosion.mjuicemediafile','mjf'],['audio/x-voc','voc'],['audio/x-wav','wav'],['audio/xm','xm'],['chemical/x-cdx','cdx'],['chemical/x-cif','cif'],['chemical/x-cmdf','cmdf'],['chemical/x-cml','cml'],['chemical/x-csml','csml'],['chemical/x-pdb',['pdb','xyz']],['chemical/x-xyz','xyz'],['drawing/x-dwf','dwf'],['i-world/i-vrml','ivr'],['image/bmp',['bmp','bm']],['image/cgm','cgm'],['image/cis-cod','cod'],['image/cmu-raster',['ras','rast']],['image/fif','fif'],['image/florian',['flo','turbot']],['image/g3fax','g3'],['image/gif','gif'],['image/ief',['ief','iefs']],['image/jpeg',['jpeg','jpe','jpg','jfif','jfif-tbnl']],['image/jutvision','jut'],['image/ktx','ktx'],['image/naplps',['nap','naplps']],['image/pict',['pic','pict']],['image/pipeg','jfif'],['image/pjpeg',['jfif','jpe','jpeg','jpg']],['image/png',['png','x-png']],['image/prs.btif','btif'],['image/svg+xml','svg'],['image/tiff',['tif','tiff']],['image/vasa','mcf'],['image/vnd.adobe.photoshop','psd'],['image/vnd.dece.graphic','uvi'],['image/vnd.djvu','djvu'],['image/vnd.dvb.subtitle','sub'],['image/vnd.dwg',['dwg','dxf','svf']],['image/vnd.dxf','dxf'],['image/vnd.fastbidsheet','fbs'],['image/vnd.fpx','fpx'],['image/vnd.fst','fst'],['image/vnd.fujixerox.edmics-mmr','mmr'],['image/vnd.fujixerox.edmics-rlc','rlc'],['image/vnd.ms-modi','mdi'],['image/vnd.net-fpx',['fpx','npx']],['image/vnd.rn-realflash','rf'],['image/vnd.rn-realpix','rp'],['image/vnd.wap.wbmp','wbmp'],['image/vnd.xiff','xif'],['image/webp','webp'],['image/x-cmu-raster','ras'],['image/x-cmx','cmx'],['image/x-dwg',['dwg','dxf','svf']],['image/x-freehand','fh'],['image/x-icon','ico'],['image/x-jg','art'],['image/x-jps','jps'],['image/x-niff',['niff','nif']],['image/x-pcx','pcx'],['image/x-pict',['pct','pic']],['image/x-portable-anymap','pnm'],['image/x-portable-bitmap','pbm'],['image/x-portable-graymap','pgm'],['image/x-portable-greymap','pgm'],['image/x-portable-pixmap','ppm'],['image/x-quicktime',['qif','qti','qtif']],['image/x-rgb','rgb'],['image/x-tiff',['tif','tiff']],['image/x-windows-bmp','bmp'],['image/x-xbitmap','xbm'],['image/x-xbm','xbm'],['image/x-xpixmap',['xpm','pm']],['image/x-xwd','xwd'],['image/x-xwindowdump','xwd'],['image/xbm','xbm'],['image/xpm','xpm'],['message/rfc822',['eml','mht','mhtml','nws','mime']],['model/iges',['iges','igs']],['model/mesh','msh'],['model/vnd.collada+xml','dae'],['model/vnd.dwf','dwf'],['model/vnd.gdl','gdl'],['model/vnd.gtw','gtw'],['model/vnd.mts','mts'],['model/vnd.vtu','vtu'],['model/vrml',['vrml','wrl','wrz']],['model/x-pov','pov'],['multipart/x-gzip','gzip'],['multipart/x-ustar','ustar'],['multipart/x-zip','zip'],['music/crescendo',['mid','midi']],['music/x-karaoke','kar'],['paleovu/x-pv','pvu'],['text/asp','asp'],['text/calendar','ics'],['text/css','css'],['text/csv','csv'],['text/ecmascript','js'],['text/h323','323'],['text/html',['html','htm','stm','acgi','htmls','htx','shtml']],['text/iuls','uls'],['text/javascript','js'],['text/mcf','mcf'],['text/n3','n3'],['text/pascal','pas'],['text/plain',['txt','bas','c','h','c++','cc','com','conf','cxx','def','f','f90','for','g','hh','idc','jav','java','list','log','lst','m','mar','pl','sdml','text']],['text/plain-bas','par'],['text/prs.lines.tag','dsc'],['text/richtext',['rtx','rt','rtf']],['text/scriplet','wsc'],['text/scriptlet','sct'],['text/sgml',['sgm','sgml']],['text/tab-separated-values','tsv'],['text/troff','t'],['text/turtle','ttl'],['text/uri-list',['uni','unis','uri','uris']],['text/vnd.abc','abc'],['text/vnd.curl','curl'],['text/vnd.curl.dcurl','dcurl'],['text/vnd.curl.mcurl','mcurl'],['text/vnd.curl.scurl','scurl'],['text/vnd.fly','fly'],['text/vnd.fmi.flexstor','flx'],['text/vnd.graphviz','gv'],['text/vnd.in3d.3dml','3dml'],['text/vnd.in3d.spot','spot'],['text/vnd.rn-realtext','rt'],['text/vnd.sun.j2me.app-descriptor','jad'],['text/vnd.wap.wml','wml'],['text/vnd.wap.wmlscript','wmls'],['text/webviewhtml','htt'],['text/x-asm',['asm','s']],['text/x-audiosoft-intra','aip'],['text/x-c',['c','cc','cpp']],['text/x-component','htc'],['text/x-fortran',['for','f','f77','f90']],['text/x-h',['h','hh']],['text/x-java-source',['java','jav']],['text/x-java-source,java','java'],['text/x-la-asf','lsx'],['text/x-m','m'],['text/x-pascal','p'],['text/x-script','hlb'],['text/x-script.csh','csh'],['text/x-script.elisp','el'],['text/x-script.guile','scm'],['text/x-script.ksh','ksh'],['text/x-script.lisp','lsp'],['text/x-script.perl','pl'],['text/x-script.perl-module','pm'],['text/x-script.phyton','py'],['text/x-script.rexx','rexx'],['text/x-script.scheme','scm'],['text/x-script.sh','sh'],['text/x-script.tcl','tcl'],['text/x-script.tcsh','tcsh'],['text/x-script.zsh','zsh'],['text/x-server-parsed-html',['shtml','ssi']],['text/x-setext','etx'],['text/x-sgml',['sgm','sgml']],['text/x-speech',['spc','talk']],['text/x-uil','uil'],['text/x-uuencode',['uu','uue']],['text/x-vcalendar','vcs'],['text/x-vcard','vcf'],['text/xml','xml'],['video/3gpp','3gp'],['video/3gpp2','3g2'],['video/animaflex','afl'],['video/avi','avi'],['video/avs-video','avs'],['video/dl','dl'],['video/fli','fli'],['video/gl','gl'],['video/h261','h261'],['video/h263','h263'],['video/h264','h264'],['video/jpeg','jpgv'],['video/jpm','jpm'],['video/mj2','mj2'],['video/mp4','mp4'],['video/mpeg',['mpeg','mp2','mpa','mpe','mpg','mpv2','m1v','m2v','mp3']],['video/msvideo','avi'],['video/ogg','ogv'],['video/quicktime',['mov','qt','moov']],['video/vdo','vdo'],['video/vivo',['viv','vivo']],['video/vnd.dece.hd','uvh'],['video/vnd.dece.mobile','uvm'],['video/vnd.dece.pd','uvp'],['video/vnd.dece.sd','uvs'],['video/vnd.dece.video','uvv'],['video/vnd.fvt','fvt'],['video/vnd.mpegurl','mxu'],['video/vnd.ms-playready.media.pyv','pyv'],['video/vnd.rn-realvideo','rv'],['video/vnd.uvvu.mp4','uvu'],['video/vnd.vivo',['viv','vivo']],['video/vosaic','vos'],['video/webm','webm'],['video/x-amt-demorun','xdr'],['video/x-amt-showrun','xsr'],['video/x-atomic3d-feature','fmf'],['video/x-dl','dl'],['video/x-dv',['dif','dv']],['video/x-f4v','f4v'],['video/x-fli','fli'],['video/x-flv','flv'],['video/x-gl','gl'],['video/x-isvideo','isu'],['video/x-la-asf',['lsf','lsx']],['video/x-m4v','m4v'],['video/x-motion-jpeg','mjpg'],['video/x-mpeg',['mp3','mp2']],['video/x-mpeq2a','mp2'],['video/x-ms-asf',['asf','asr','asx']],['video/x-ms-asf-plugin','asx'],['video/x-ms-wm','wm'],['video/x-ms-wmv','wmv'],['video/x-ms-wmx','wmx'],['video/x-ms-wvx','wvx'],['video/x-msvideo','avi'],['video/x-qtc','qtc'],['video/x-scm','scm'],['video/x-sgi-movie',['movie','mv']],['windows/metafile','wmf'],['www/mime','mime'],['x-conference/x-cooltalk','ice'],['x-music/x-midi',['mid','midi']],['x-world/x-3dmf',['3dm','3dmf','qd3','qd3d']],['x-world/x-svr','svr'],['x-world/x-vrml',['flr','vrml','wrl','wrz','xaf','xof']],['x-world/x-vrt','vrt'],['xgl/drawing','xgz'],['xgl/movie','xmz']]),o=new Map([['123','application/vnd.lotus-1-2-3'],['323','text/h323'],['*','application/octet-stream'],['3dm','x-world/x-3dmf'],['3dmf','x-world/x-3dmf'],['3dml','text/vnd.in3d.3dml'],['3g2','video/3gpp2'],['3gp','video/3gpp'],['7z','application/x-7z-compressed'],['a','application/octet-stream'],['aab','application/x-authorware-bin'],['aac','audio/x-aac'],['aam','application/x-authorware-map'],['aas','application/x-authorware-seg'],['abc','text/vnd.abc'],['abw','application/x-abiword'],['ac','application/pkix-attr-cert'],['acc','application/vnd.americandynamics.acc'],['ace','application/x-ace-compressed'],['acgi','text/html'],['acu','application/vnd.acucobol'],['acx','application/internet-property-stream'],['adp','audio/adpcm'],['aep','application/vnd.audiograph'],['afl','video/animaflex'],['afp','application/vnd.ibm.modcap'],['ahead','application/vnd.ahead.space'],['ai','application/postscript'],['aif',['audio/aiff','audio/x-aiff']],['aifc',['audio/aiff','audio/x-aiff']],['aiff',['audio/aiff','audio/x-aiff']],['aim','application/x-aim'],['aip','text/x-audiosoft-intra'],['air','application/vnd.adobe.air-application-installer-package+zip'],['ait','application/vnd.dvb.ait'],['ami','application/vnd.amiga.ami'],['ani','application/x-navi-animation'],['aos','application/x-nokia-9000-communicator-add-on-software'],['apk','application/vnd.android.package-archive'],['application','application/x-ms-application'],['apr','application/vnd.lotus-approach'],['aps','application/mime'],['arc','application/octet-stream'],['arj',['application/arj','application/octet-stream']],['art','image/x-jg'],['asf','video/x-ms-asf'],['asm','text/x-asm'],['aso','application/vnd.accpac.simply.aso'],['asp','text/asp'],['asr','video/x-ms-asf'],['asx',['video/x-ms-asf','application/x-mplayer2','video/x-ms-asf-plugin']],['atc','application/vnd.acucorp'],['atomcat','application/atomcat+xml'],['atomsvc','application/atomsvc+xml'],['atx','application/vnd.antix.game-component'],['au',['audio/basic','audio/x-au']],['avi',['video/avi','video/msvideo','application/x-troff-msvideo','video/x-msvideo']],['avs','video/avs-video'],['aw','application/applixware'],['axs','application/olescript'],['azf','application/vnd.airzip.filesecure.azf'],['azs','application/vnd.airzip.filesecure.azs'],['azw','application/vnd.amazon.ebook'],['bas','text/plain'],['bcpio','application/x-bcpio'],['bdf','application/x-font-bdf'],['bdm','application/vnd.syncml.dm+wbxml'],['bed','application/vnd.realvnc.bed'],['bh2','application/vnd.fujitsu.oasysprs'],['bin',['application/octet-stream','application/mac-binary','application/macbinary','application/x-macbinary','application/x-binary']],['bm','image/bmp'],['bmi','application/vnd.bmi'],['bmp',['image/bmp','image/x-windows-bmp']],['boo','application/book'],['book','application/book'],['box','application/vnd.previewsystems.box'],['boz','application/x-bzip2'],['bsh','application/x-bsh'],['btif','image/prs.btif'],['bz','application/x-bzip'],['bz2','application/x-bzip2'],['c',['text/plain','text/x-c']],['c++','text/plain'],['c11amc','application/vnd.cluetrust.cartomobile-config'],['c11amz','application/vnd.cluetrust.cartomobile-config-pkg'],['c4g','application/vnd.clonk.c4group'],['cab','application/vnd.ms-cab-compressed'],['car','application/vnd.curl.car'],['cat',['application/vnd.ms-pkiseccat','application/vnd.ms-pki.seccat']],['cc',['text/plain','text/x-c']],['ccad','application/clariscad'],['cco','application/x-cocoa'],['ccxml','application/ccxml+xml,'],['cdbcmsg','application/vnd.contact.cmsg'],['cdf',['application/cdf','application/x-cdf','application/x-netcdf']],['cdkey','application/vnd.mediastation.cdkey'],['cdmia','application/cdmi-capability'],['cdmic','application/cdmi-container'],['cdmid','application/cdmi-domain'],['cdmio','application/cdmi-object'],['cdmiq','application/cdmi-queue'],['cdx','chemical/x-cdx'],['cdxml','application/vnd.chemdraw+xml'],['cdy','application/vnd.cinderella'],['cer',['application/pkix-cert','application/x-x509-ca-cert']],['cgm','image/cgm'],['cha','application/x-chat'],['chat','application/x-chat'],['chm','application/vnd.ms-htmlhelp'],['chrt','application/vnd.kde.kchart'],['cif','chemical/x-cif'],['cii','application/vnd.anser-web-certificate-issue-initiation'],['cil','application/vnd.ms-artgalry'],['cla','application/vnd.claymore'],['class',['application/octet-stream','application/java','application/java-byte-code','application/java-vm','application/x-java-class']],['clkk','application/vnd.crick.clicker.keyboard'],['clkp','application/vnd.crick.clicker.palette'],['clkt','application/vnd.crick.clicker.template'],['clkw','application/vnd.crick.clicker.wordbank'],['clkx','application/vnd.crick.clicker'],['clp','application/x-msclip'],['cmc','application/vnd.cosmocaller'],['cmdf','chemical/x-cmdf'],['cml','chemical/x-cml'],['cmp','application/vnd.yellowriver-custom-menu'],['cmx','image/x-cmx'],['cod',['image/cis-cod','application/vnd.rim.cod']],['com',['application/octet-stream','text/plain']],['conf','text/plain'],['cpio','application/x-cpio'],['cpp','text/x-c'],['cpt',['application/mac-compactpro','application/x-compactpro','application/x-cpt']],['crd','application/x-mscardfile'],['crl',['application/pkix-crl','application/pkcs-crl']],['crt',['application/pkix-cert','application/x-x509-user-cert','application/x-x509-ca-cert']],['cryptonote','application/vnd.rig.cryptonote'],['csh',['text/x-script.csh','application/x-csh']],['csml','chemical/x-csml'],['csp','application/vnd.commonspace'],['css',['text/css','application/x-pointplus']],['csv','text/csv'],['cu','application/cu-seeme'],['curl','text/vnd.curl'],['cww','application/prs.cww'],['cxx','text/plain'],['dae','model/vnd.collada+xml'],['daf','application/vnd.mobius.daf'],['davmount','application/davmount+xml'],['dcr','application/x-director'],['dcurl','text/vnd.curl.dcurl'],['dd2','application/vnd.oma.dd2+xml'],['ddd','application/vnd.fujixerox.ddd'],['deb','application/x-debian-package'],['deepv','application/x-deepv'],['def','text/plain'],['der','application/x-x509-ca-cert'],['dfac','application/vnd.dreamfactory'],['dif','video/x-dv'],['dir','application/x-director'],['dis','application/vnd.mobius.dis'],['djvu','image/vnd.djvu'],['dl',['video/dl','video/x-dl']],['dll','application/x-msdownload'],['dms','application/octet-stream'],['dna','application/vnd.dna'],['doc','application/msword'],['docm','application/vnd.ms-word.document.macroenabled.12'],['docx','application/vnd.openxmlformats-officedocument.wordprocessingml.document'],['dot','application/msword'],['dotm','application/vnd.ms-word.template.macroenabled.12'],['dotx','application/vnd.openxmlformats-officedocument.wordprocessingml.template'],['dp',['application/commonground','application/vnd.osgi.dp']],['dpg','application/vnd.dpgraph'],['dra','audio/vnd.dra'],['drw','application/drafting'],['dsc','text/prs.lines.tag'],['dssc','application/dssc+der'],['dtb','application/x-dtbook+xml'],['dtd','application/xml-dtd'],['dts','audio/vnd.dts'],['dtshd','audio/vnd.dts.hd'],['dump','application/octet-stream'],['dv','video/x-dv'],['dvi','application/x-dvi'],['dwf',['model/vnd.dwf','drawing/x-dwf']],['dwg',['application/acad','image/vnd.dwg','image/x-dwg']],['dxf',['application/dxf','image/vnd.dwg','image/vnd.dxf','image/x-dwg']],['dxp','application/vnd.spotfire.dxp'],['dxr','application/x-director'],['ecelp4800','audio/vnd.nuera.ecelp4800'],['ecelp7470','audio/vnd.nuera.ecelp7470'],['ecelp9600','audio/vnd.nuera.ecelp9600'],['edm','application/vnd.novadigm.edm'],['edx','application/vnd.novadigm.edx'],['efif','application/vnd.picsel'],['ei6','application/vnd.pg.osasli'],['el','text/x-script.elisp'],['elc',['application/x-elc','application/x-bytecode.elisp']],['eml','message/rfc822'],['emma','application/emma+xml'],['env','application/x-envoy'],['eol','audio/vnd.digital-winds'],['eot','application/vnd.ms-fontobject'],['eps','application/postscript'],['epub','application/epub+zip'],['es',['application/ecmascript','application/x-esrehber']],['es3','application/vnd.eszigno3+xml'],['esf','application/vnd.epson.esf'],['etx','text/x-setext'],['evy',['application/envoy','application/x-envoy']],['exe',['application/octet-stream','application/x-msdownload']],['exi','application/exi'],['ext','application/vnd.novadigm.ext'],['ez2','application/vnd.ezpix-album'],['ez3','application/vnd.ezpix-package'],['f',['text/plain','text/x-fortran']],['f4v','video/x-f4v'],['f77','text/x-fortran'],['f90',['text/plain','text/x-fortran']],['fbs','image/vnd.fastbidsheet'],['fcs','application/vnd.isac.fcs'],['fdf','application/vnd.fdf'],['fe_launch','application/vnd.denovo.fcselayout-link'],['fg5','application/vnd.fujitsu.oasysgp'],['fh','image/x-freehand'],['fif',['application/fractals','image/fif']],['fig','application/x-xfig'],['fli',['video/fli','video/x-fli']],['flo',['image/florian','application/vnd.micrografx.flo']],['flr','x-world/x-vrml'],['flv','video/x-flv'],['flw','application/vnd.kde.kivio'],['flx','text/vnd.fmi.flexstor'],['fly','text/vnd.fly'],['fm','application/vnd.framemaker'],['fmf','video/x-atomic3d-feature'],['fnc','application/vnd.frogans.fnc'],['for',['text/plain','text/x-fortran']],['fpx',['image/vnd.fpx','image/vnd.net-fpx']],['frl','application/freeloader'],['fsc','application/vnd.fsc.weblaunch'],['fst','image/vnd.fst'],['ftc','application/vnd.fluxtime.clip'],['fti','application/vnd.anser-web-funds-transfer-initiation'],['funk','audio/make'],['fvt','video/vnd.fvt'],['fxp','application/vnd.adobe.fxp'],['fzs','application/vnd.fuzzysheet'],['g','text/plain'],['g2w','application/vnd.geoplan'],['g3','image/g3fax'],['g3w','application/vnd.geospace'],['gac','application/vnd.groove-account'],['gdl','model/vnd.gdl'],['geo','application/vnd.dynageo'],['geojson','application/geo+json'],['gex','application/vnd.geometry-explorer'],['ggb','application/vnd.geogebra.file'],['ggt','application/vnd.geogebra.tool'],['ghf','application/vnd.groove-help'],['gif','image/gif'],['gim','application/vnd.groove-identity-message'],['gl',['video/gl','video/x-gl']],['gmx','application/vnd.gmx'],['gnumeric','application/x-gnumeric'],['gph','application/vnd.flographit'],['gqf','application/vnd.grafeq'],['gram','application/srgs'],['grv','application/vnd.groove-injector'],['grxml','application/srgs+xml'],['gsd','audio/x-gsm'],['gsf','application/x-font-ghostscript'],['gsm','audio/x-gsm'],['gsp','application/x-gsp'],['gss','application/x-gss'],['gtar','application/x-gtar'],['gtm','application/vnd.groove-tool-message'],['gtw','model/vnd.gtw'],['gv','text/vnd.graphviz'],['gxt','application/vnd.geonext'],['gz',['application/x-gzip','application/x-compressed']],['gzip',['multipart/x-gzip','application/x-gzip']],['h',['text/plain','text/x-h']],['h261','video/h261'],['h263','video/h263'],['h264','video/h264'],['hal','application/vnd.hal+xml'],['hbci','application/vnd.hbci'],['hdf','application/x-hdf'],['help','application/x-helpfile'],['hgl','application/vnd.hp-hpgl'],['hh',['text/plain','text/x-h']],['hlb','text/x-script'],['hlp',['application/winhlp','application/hlp','application/x-helpfile','application/x-winhelp']],['hpg','application/vnd.hp-hpgl'],['hpgl','application/vnd.hp-hpgl'],['hpid','application/vnd.hp-hpid'],['hps','application/vnd.hp-hps'],['hqx',['application/mac-binhex40','application/binhex','application/binhex4','application/mac-binhex','application/x-binhex40','application/x-mac-binhex40']],['hta','application/hta'],['htc','text/x-component'],['htke','application/vnd.kenameaapp'],['htm','text/html'],['html','text/html'],['htmls','text/html'],['htt','text/webviewhtml'],['htx','text/html'],['hvd','application/vnd.yamaha.hv-dic'],['hvp','application/vnd.yamaha.hv-voice'],['hvs','application/vnd.yamaha.hv-script'],['i2g','application/vnd.intergeo'],['icc','application/vnd.iccprofile'],['ice','x-conference/x-cooltalk'],['ico','image/x-icon'],['ics','text/calendar'],['idc','text/plain'],['ief','image/ief'],['iefs','image/ief'],['ifm','application/vnd.shana.informed.formdata'],['iges',['application/iges','model/iges']],['igl','application/vnd.igloader'],['igm','application/vnd.insors.igm'],['igs',['application/iges','model/iges']],['igx','application/vnd.micrografx.igx'],['iif','application/vnd.shana.informed.interchange'],['iii','application/x-iphone'],['ima','application/x-ima'],['imap','application/x-httpd-imap'],['imp','application/vnd.accpac.simply.imp'],['ims','application/vnd.ms-ims'],['inf','application/inf'],['ins',['application/x-internet-signup','application/x-internett-signup']],['ip','application/x-ip2'],['ipfix','application/ipfix'],['ipk','application/vnd.shana.informed.package'],['irm','application/vnd.ibm.rights-management'],['irp','application/vnd.irepository.package+xml'],['isp','application/x-internet-signup'],['isu','video/x-isvideo'],['it','audio/it'],['itp','application/vnd.shana.informed.formtemplate'],['iv','application/x-inventor'],['ivp','application/vnd.immervision-ivp'],['ivr','i-world/i-vrml'],['ivu','application/vnd.immervision-ivu'],['ivy','application/x-livescreen'],['jad','text/vnd.sun.j2me.app-descriptor'],['jam',['application/vnd.jam','audio/x-jam']],['jar','application/java-archive'],['jav',['text/plain','text/x-java-source']],['java',['text/plain','text/x-java-source,java','text/x-java-source']],['jcm','application/x-java-commerce'],['jfif',['image/pipeg','image/jpeg','image/pjpeg']],['jfif-tbnl','image/jpeg'],['jisp','application/vnd.jisp'],['jlt','application/vnd.hp-jlyt'],['jnlp','application/x-java-jnlp-file'],['joda','application/vnd.joost.joda-archive'],['jpe',['image/jpeg','image/pjpeg']],['jpeg',['image/jpeg','image/pjpeg']],['jpg',['image/jpeg','image/pjpeg']],['jpgv','video/jpeg'],['jpm','video/jpm'],['jps','image/x-jps'],['js',['application/javascript','application/ecmascript','text/javascript','text/ecmascript','application/x-javascript']],['json','application/json'],['jut','image/jutvision'],['kar',['audio/midi','music/x-karaoke']],['karbon','application/vnd.kde.karbon'],['kfo','application/vnd.kde.kformula'],['kia','application/vnd.kidspiration'],['kml','application/vnd.google-earth.kml+xml'],['kmz','application/vnd.google-earth.kmz'],['kne','application/vnd.kinar'],['kon','application/vnd.kde.kontour'],['kpr','application/vnd.kde.kpresenter'],['ksh',['application/x-ksh','text/x-script.ksh']],['ksp','application/vnd.kde.kspread'],['ktx','image/ktx'],['ktz','application/vnd.kahootz'],['kwd','application/vnd.kde.kword'],['la',['audio/nspaudio','audio/x-nspaudio']],['lam','audio/x-liveaudio'],['lasxml','application/vnd.las.las+xml'],['latex','application/x-latex'],['lbd','application/vnd.llamagraphics.life-balance.desktop'],['lbe','application/vnd.llamagraphics.life-balance.exchange+xml'],['les','application/vnd.hhe.lesson-player'],['lha',['application/octet-stream','application/lha','application/x-lha']],['lhx','application/octet-stream'],['link66','application/vnd.route66.link66+xml'],['list','text/plain'],['lma',['audio/nspaudio','audio/x-nspaudio']],['log','text/plain'],['lrm','application/vnd.ms-lrm'],['lsf','video/x-la-asf'],['lsp',['application/x-lisp','text/x-script.lisp']],['lst','text/plain'],['lsx',['video/x-la-asf','text/x-la-asf']],['ltf','application/vnd.frogans.ltf'],['ltx','application/x-latex'],['lvp','audio/vnd.lucent.voice'],['lwp','application/vnd.lotus-wordpro'],['lzh',['application/octet-stream','application/x-lzh']],['lzx',['application/lzx','application/octet-stream','application/x-lzx']],['m',['text/plain','text/x-m']],['m13','application/x-msmediaview'],['m14','application/x-msmediaview'],['m1v','video/mpeg'],['m21','application/mp21'],['m2a','audio/mpeg'],['m2v','video/mpeg'],['m3u',['audio/x-mpegurl','audio/x-mpequrl']],['m3u8','application/vnd.apple.mpegurl'],['m4v','video/x-m4v'],['ma','application/mathematica'],['mads','application/mads+xml'],['mag','application/vnd.ecowin.chart'],['man','application/x-troff-man'],['map','application/x-navimap'],['mar','text/plain'],['mathml','application/mathml+xml'],['mbd','application/mbedlet'],['mbk','application/vnd.mobius.mbk'],['mbox','application/mbox'],['mc$','application/x-magic-cap-package-1.0'],['mc1','application/vnd.medcalcdata'],['mcd',['application/mcad','application/vnd.mcd','application/x-mathcad']],['mcf',['image/vasa','text/mcf']],['mcp','application/netmc'],['mcurl','text/vnd.curl.mcurl'],['mdb','application/x-msaccess'],['mdi','image/vnd.ms-modi'],['me','application/x-troff-me'],['meta4','application/metalink4+xml'],['mets','application/mets+xml'],['mfm','application/vnd.mfmp'],['mgp','application/vnd.osgeo.mapguide.package'],['mgz','application/vnd.proteus.magazine'],['mht','message/rfc822'],['mhtml','message/rfc822'],['mid',['audio/mid','audio/midi','music/crescendo','x-music/x-midi','audio/x-midi','application/x-midi','audio/x-mid']],['midi',['audio/midi','music/crescendo','x-music/x-midi','audio/x-midi','application/x-midi','audio/x-mid']],['mif',['application/vnd.mif','application/x-mif','application/x-frame']],['mime',['message/rfc822','www/mime']],['mj2','video/mj2'],['mjf','audio/x-vnd.audioexplosion.mjuicemediafile'],['mjpg','video/x-motion-jpeg'],['mlp','application/vnd.dolby.mlp'],['mm',['application/base64','application/x-meme']],['mmd','application/vnd.chipnuts.karaoke-mmd'],['mme','application/base64'],['mmf','application/vnd.smaf'],['mmr','image/vnd.fujixerox.edmics-mmr'],['mny','application/x-msmoney'],['mod',['audio/mod','audio/x-mod']],['mods','application/mods+xml'],['moov','video/quicktime'],['mov','video/quicktime'],['movie','video/x-sgi-movie'],['mp2',['video/mpeg','audio/mpeg','video/x-mpeg','audio/x-mpeg','video/x-mpeq2a']],['mp3',['audio/mpeg','audio/mpeg3','video/mpeg','audio/x-mpeg-3','video/x-mpeg']],['mp4',['video/mp4','application/mp4']],['mp4a','audio/mp4'],['mpa',['video/mpeg','audio/mpeg']],['mpc',['application/vnd.mophun.certificate','application/x-project']],['mpe','video/mpeg'],['mpeg','video/mpeg'],['mpg',['video/mpeg','audio/mpeg']],['mpga','audio/mpeg'],['mpkg','application/vnd.apple.installer+xml'],['mpm','application/vnd.blueice.multipass'],['mpn','application/vnd.mophun.application'],['mpp','application/vnd.ms-project'],['mpt','application/x-project'],['mpv','application/x-project'],['mpv2','video/mpeg'],['mpx','application/x-project'],['mpy','application/vnd.ibm.minipay'],['mqy','application/vnd.mobius.mqy'],['mrc','application/marc'],['mrcx','application/marcxml+xml'],['ms','application/x-troff-ms'],['mscml','application/mediaservercontrol+xml'],['mseq','application/vnd.mseq'],['msf','application/vnd.epson.msf'],['msg','application/vnd.ms-outlook'],['msh','model/mesh'],['msl','application/vnd.mobius.msl'],['msty','application/vnd.muvee.style'],['mts','model/vnd.mts'],['mus','application/vnd.musician'],['musicxml','application/vnd.recordare.musicxml+xml'],['mv','video/x-sgi-movie'],['mvb','application/x-msmediaview'],['mwf','application/vnd.mfer'],['mxf','application/mxf'],['mxl','application/vnd.recordare.musicxml'],['mxml','application/xv+xml'],['mxs','application/vnd.triscape.mxs'],['mxu','video/vnd.mpegurl'],['my','audio/make'],['mzz','application/x-vnd.audioexplosion.mzz'],['n-gage','application/vnd.nokia.n-gage.symbian.install'],['n3','text/n3'],['nap','image/naplps'],['naplps','image/naplps'],['nbp','application/vnd.wolfram.player'],['nc','application/x-netcdf'],['ncm','application/vnd.nokia.configuration-message'],['ncx','application/x-dtbncx+xml'],['ngdat','application/vnd.nokia.n-gage.data'],['nif','image/x-niff'],['niff','image/x-niff'],['nix','application/x-mix-transfer'],['nlu','application/vnd.neurolanguage.nlu'],['nml','application/vnd.enliven'],['nnd','application/vnd.noblenet-directory'],['nns','application/vnd.noblenet-sealer'],['nnw','application/vnd.noblenet-web'],['npx','image/vnd.net-fpx'],['nsc','application/x-conference'],['nsf','application/vnd.lotus-notes'],['nvd','application/x-navidoc'],['nws','message/rfc822'],['o','application/octet-stream'],['oa2','application/vnd.fujitsu.oasys2'],['oa3','application/vnd.fujitsu.oasys3'],['oas','application/vnd.fujitsu.oasys'],['obd','application/x-msbinder'],['oda','application/oda'],['odb','application/vnd.oasis.opendocument.database'],['odc','application/vnd.oasis.opendocument.chart'],['odf','application/vnd.oasis.opendocument.formula'],['odft','application/vnd.oasis.opendocument.formula-template'],['odg','application/vnd.oasis.opendocument.graphics'],['odi','application/vnd.oasis.opendocument.image'],['odm','application/vnd.oasis.opendocument.text-master'],['odp','application/vnd.oasis.opendocument.presentation'],['ods','application/vnd.oasis.opendocument.spreadsheet'],['odt','application/vnd.oasis.opendocument.text'],['oga','audio/ogg'],['ogv','video/ogg'],['ogx','application/ogg'],['omc','application/x-omc'],['omcd','application/x-omcdatamaker'],['omcr','application/x-omcregerator'],['onetoc','application/onenote'],['opf','application/oebps-package+xml'],['org','application/vnd.lotus-organizer'],['osf','application/vnd.yamaha.openscoreformat'],['osfpvg','application/vnd.yamaha.openscoreformat.osfpvg+xml'],['otc','application/vnd.oasis.opendocument.chart-template'],['otf','application/x-font-otf'],['otg','application/vnd.oasis.opendocument.graphics-template'],['oth','application/vnd.oasis.opendocument.text-web'],['oti','application/vnd.oasis.opendocument.image-template'],['otp','application/vnd.oasis.opendocument.presentation-template'],['ots','application/vnd.oasis.opendocument.spreadsheet-template'],['ott','application/vnd.oasis.opendocument.text-template'],['oxt','application/vnd.openofficeorg.extension'],['p','text/x-pascal'],['p10',['application/pkcs10','application/x-pkcs10']],['p12',['application/pkcs-12','application/x-pkcs12']],['p7a','application/x-pkcs7-signature'],['p7b','application/x-pkcs7-certificates'],['p7c',['application/pkcs7-mime','application/x-pkcs7-mime']],['p7m',['application/pkcs7-mime','application/x-pkcs7-mime']],['p7r','application/x-pkcs7-certreqresp'],['p7s',['application/pkcs7-signature','application/x-pkcs7-signature']],['p8','application/pkcs8'],['par','text/plain-bas'],['part','application/pro_eng'],['pas','text/pascal'],['paw','application/vnd.pawaafile'],['pbd','application/vnd.powerbuilder6'],['pbm','image/x-portable-bitmap'],['pcf','application/x-font-pcf'],['pcl',['application/vnd.hp-pcl','application/x-pcl']],['pclxl','application/vnd.hp-pclxl'],['pct','image/x-pict'],['pcurl','application/vnd.curl.pcurl'],['pcx','image/x-pcx'],['pdb',['application/vnd.palm','chemical/x-pdb']],['pdf','application/pdf'],['pfa','application/x-font-type1'],['pfr','application/font-tdpfr'],['pfunk',['audio/make','audio/make.my.funk']],['pfx','application/x-pkcs12'],['pgm',['image/x-portable-graymap','image/x-portable-greymap']],['pgn','application/x-chess-pgn'],['pgp','application/pgp-signature'],['pic',['image/pict','image/x-pict']],['pict','image/pict'],['pkg','application/x-newton-compatible-pkg'],['pki','application/pkixcmp'],['pkipath','application/pkix-pkipath'],['pko',['application/ynd.ms-pkipko','application/vnd.ms-pki.pko']],['pl',['text/plain','text/x-script.perl']],['plb','application/vnd.3gpp.pic-bw-large'],['plc','application/vnd.mobius.plc'],['plf','application/vnd.pocketlearn'],['pls','application/pls+xml'],['plx','application/x-pixclscript'],['pm',['text/x-script.perl-module','image/x-xpixmap']],['pm4','application/x-pagemaker'],['pm5','application/x-pagemaker'],['pma','application/x-perfmon'],['pmc','application/x-perfmon'],['pml',['application/vnd.ctc-posml','application/x-perfmon']],['pmr','application/x-perfmon'],['pmw','application/x-perfmon'],['png','image/png'],['pnm',['application/x-portable-anymap','image/x-portable-anymap']],['portpkg','application/vnd.macports.portpkg'],['pot',['application/vnd.ms-powerpoint','application/mspowerpoint']],['potm','application/vnd.ms-powerpoint.template.macroenabled.12'],['potx','application/vnd.openxmlformats-officedocument.presentationml.template'],['pov','model/x-pov'],['ppa','application/vnd.ms-powerpoint'],['ppam','application/vnd.ms-powerpoint.addin.macroenabled.12'],['ppd','application/vnd.cups-ppd'],['ppm','image/x-portable-pixmap'],['pps',['application/vnd.ms-powerpoint','application/mspowerpoint']],['ppsm','application/vnd.ms-powerpoint.slideshow.macroenabled.12'],['ppsx','application/vnd.openxmlformats-officedocument.presentationml.slideshow'],['ppt',['application/vnd.ms-powerpoint','application/mspowerpoint','application/powerpoint','application/x-mspowerpoint']],['pptm','application/vnd.ms-powerpoint.presentation.macroenabled.12'],['pptx','application/vnd.openxmlformats-officedocument.presentationml.presentation'],['ppz','application/mspowerpoint'],['prc','application/x-mobipocket-ebook'],['pre',['application/vnd.lotus-freelance','application/x-freelance']],['prf','application/pics-rules'],['prt','application/pro_eng'],['ps','application/postscript'],['psb','application/vnd.3gpp.pic-bw-small'],['psd',['application/octet-stream','image/vnd.adobe.photoshop']],['psf','application/x-font-linux-psf'],['pskcxml','application/pskc+xml'],['ptid','application/vnd.pvi.ptid1'],['pub','application/x-mspublisher'],['pvb','application/vnd.3gpp.pic-bw-var'],['pvu','paleovu/x-pv'],['pwn','application/vnd.3m.post-it-notes'],['pwz','application/vnd.ms-powerpoint'],['py','text/x-script.phyton'],['pya','audio/vnd.ms-playready.media.pya'],['pyc','application/x-bytecode.python'],['pyv','video/vnd.ms-playready.media.pyv'],['qam','application/vnd.epson.quickanime'],['qbo','application/vnd.intu.qbo'],['qcp','audio/vnd.qcelp'],['qd3','x-world/x-3dmf'],['qd3d','x-world/x-3dmf'],['qfx','application/vnd.intu.qfx'],['qif','image/x-quicktime'],['qps','application/vnd.publishare-delta-tree'],['qt','video/quicktime'],['qtc','video/x-qtc'],['qti','image/x-quicktime'],['qtif','image/x-quicktime'],['qxd','application/vnd.quark.quarkxpress'],['ra',['audio/x-realaudio','audio/x-pn-realaudio','audio/x-pn-realaudio-plugin']],['ram','audio/x-pn-realaudio'],['rar','application/x-rar-compressed'],['ras',['image/cmu-raster','application/x-cmu-raster','image/x-cmu-raster']],['rast','image/cmu-raster'],['rcprofile','application/vnd.ipunplugged.rcprofile'],['rdf','application/rdf+xml'],['rdz','application/vnd.data-vision.rdz'],['rep','application/vnd.businessobjects'],['res','application/x-dtbresource+xml'],['rexx','text/x-script.rexx'],['rf','image/vnd.rn-realflash'],['rgb','image/x-rgb'],['rif','application/reginfo+xml'],['rip','audio/vnd.rip'],['rl','application/resource-lists+xml'],['rlc','image/vnd.fujixerox.edmics-rlc'],['rld','application/resource-lists-diff+xml'],['rm',['application/vnd.rn-realmedia','audio/x-pn-realaudio']],['rmi','audio/mid'],['rmm','audio/x-pn-realaudio'],['rmp',['audio/x-pn-realaudio-plugin','audio/x-pn-realaudio']],['rms','application/vnd.jcp.javame.midlet-rms'],['rnc','application/relax-ng-compact-syntax'],['rng',['application/ringing-tones','application/vnd.nokia.ringing-tone']],['rnx','application/vnd.rn-realplayer'],['roff','application/x-troff'],['rp','image/vnd.rn-realpix'],['rp9','application/vnd.cloanto.rp9'],['rpm','audio/x-pn-realaudio-plugin'],['rpss','application/vnd.nokia.radio-presets'],['rpst','application/vnd.nokia.radio-preset'],['rq','application/sparql-query'],['rs','application/rls-services+xml'],['rsd','application/rsd+xml'],['rt',['text/richtext','text/vnd.rn-realtext']],['rtf',['application/rtf','text/richtext','application/x-rtf']],['rtx',['text/richtext','application/rtf']],['rv','video/vnd.rn-realvideo'],['s','text/x-asm'],['s3m','audio/s3m'],['saf','application/vnd.yamaha.smaf-audio'],['saveme','application/octet-stream'],['sbk','application/x-tbook'],['sbml','application/sbml+xml'],['sc','application/vnd.ibm.secure-container'],['scd','application/x-msschedule'],['scm',['application/vnd.lotus-screencam','video/x-scm','text/x-script.guile','application/x-lotusscreencam','text/x-script.scheme']],['scq','application/scvp-cv-request'],['scs','application/scvp-cv-response'],['sct','text/scriptlet'],['scurl','text/vnd.curl.scurl'],['sda','application/vnd.stardivision.draw'],['sdc','application/vnd.stardivision.calc'],['sdd','application/vnd.stardivision.impress'],['sdkm','application/vnd.solent.sdkm+xml'],['sdml','text/plain'],['sdp',['application/sdp','application/x-sdp']],['sdr','application/sounder'],['sdw','application/vnd.stardivision.writer'],['sea',['application/sea','application/x-sea']],['see','application/vnd.seemail'],['seed','application/vnd.fdsn.seed'],['sema','application/vnd.sema'],['semd','application/vnd.semd'],['semf','application/vnd.semf'],['ser','application/java-serialized-object'],['set','application/set'],['setpay','application/set-payment-initiation'],['setreg','application/set-registration-initiation'],['sfd-hdstx','application/vnd.hydrostatix.sof-data'],['sfs','application/vnd.spotfire.sfs'],['sgl','application/vnd.stardivision.writer-global'],['sgm',['text/sgml','text/x-sgml']],['sgml',['text/sgml','text/x-sgml']],['sh',['application/x-shar','application/x-bsh','application/x-sh','text/x-script.sh']],['shar',['application/x-bsh','application/x-shar']],['shf','application/shf+xml'],['shtml',['text/html','text/x-server-parsed-html']],['sid','audio/x-psid'],['sis','application/vnd.symbian.install'],['sit',['application/x-stuffit','application/x-sit']],['sitx','application/x-stuffitx'],['skd','application/x-koan'],['skm','application/x-koan'],['skp',['application/vnd.koan','application/x-koan']],['skt','application/x-koan'],['sl','application/x-seelogo'],['sldm','application/vnd.ms-powerpoint.slide.macroenabled.12'],['sldx','application/vnd.openxmlformats-officedocument.presentationml.slide'],['slt','application/vnd.epson.salt'],['sm','application/vnd.stepmania.stepchart'],['smf','application/vnd.stardivision.math'],['smi',['application/smil','application/smil+xml']],['smil','application/smil'],['snd',['audio/basic','audio/x-adpcm']],['snf','application/x-font-snf'],['sol','application/solids'],['spc',['text/x-speech','application/x-pkcs7-certificates']],['spf','application/vnd.yamaha.smaf-phrase'],['spl',['application/futuresplash','application/x-futuresplash']],['spot','text/vnd.in3d.spot'],['spp','application/scvp-vp-response'],['spq','application/scvp-vp-request'],['spr','application/x-sprite'],['sprite','application/x-sprite'],['src','application/x-wais-source'],['sru','application/sru+xml'],['srx','application/sparql-results+xml'],['sse','application/vnd.kodak-descriptor'],['ssf','application/vnd.epson.ssf'],['ssi','text/x-server-parsed-html'],['ssm','application/streamingmedia'],['ssml','application/ssml+xml'],['sst',['application/vnd.ms-pkicertstore','application/vnd.ms-pki.certstore']],['st','application/vnd.sailingtracker.track'],['stc','application/vnd.sun.xml.calc.template'],['std','application/vnd.sun.xml.draw.template'],['step','application/step'],['stf','application/vnd.wt.stf'],['sti','application/vnd.sun.xml.impress.template'],['stk','application/hyperstudio'],['stl',['application/vnd.ms-pkistl','application/sla','application/vnd.ms-pki.stl','application/x-navistyle']],['stm','text/html'],['stp','application/step'],['str','application/vnd.pg.format'],['stw','application/vnd.sun.xml.writer.template'],['sub','image/vnd.dvb.subtitle'],['sus','application/vnd.sus-calendar'],['sv4cpio','application/x-sv4cpio'],['sv4crc','application/x-sv4crc'],['svc','application/vnd.dvb.service'],['svd','application/vnd.svd'],['svf',['image/vnd.dwg','image/x-dwg']],['svg','image/svg+xml'],['svr',['x-world/x-svr','application/x-world']],['swf','application/x-shockwave-flash'],['swi','application/vnd.aristanetworks.swi'],['sxc','application/vnd.sun.xml.calc'],['sxd','application/vnd.sun.xml.draw'],['sxg','application/vnd.sun.xml.writer.global'],['sxi','application/vnd.sun.xml.impress'],['sxm','application/vnd.sun.xml.math'],['sxw','application/vnd.sun.xml.writer'],['t',['text/troff','application/x-troff']],['talk','text/x-speech'],['tao','application/vnd.tao.intent-module-archive'],['tar','application/x-tar'],['tbk',['application/toolbook','application/x-tbook']],['tcap','application/vnd.3gpp2.tcap'],['tcl',['text/x-script.tcl','application/x-tcl']],['tcsh','text/x-script.tcsh'],['teacher','application/vnd.smart.teacher'],['tei','application/tei+xml'],['tex','application/x-tex'],['texi','application/x-texinfo'],['texinfo','application/x-texinfo'],['text',['application/plain','text/plain']],['tfi','application/thraud+xml'],['tfm','application/x-tex-tfm'],['tgz',['application/gnutar','application/x-compressed']],['thmx','application/vnd.ms-officetheme'],['tif',['image/tiff','image/x-tiff']],['tiff',['image/tiff','image/x-tiff']],['tmo','application/vnd.tmobile-livetv'],['torrent','application/x-bittorrent'],['tpl','application/vnd.groove-tool-template'],['tpt','application/vnd.trid.tpt'],['tr','application/x-troff'],['tra','application/vnd.trueapp'],['trm','application/x-msterminal'],['tsd','application/timestamped-data'],['tsi','audio/tsp-audio'],['tsp',['application/dsptype','audio/tsplayer']],['tsv','text/tab-separated-values'],['ttf','application/x-font-ttf'],['ttl','text/turtle'],['turbot','image/florian'],['twd','application/vnd.simtech-mindmapper'],['txd','application/vnd.genomatix.tuxedo'],['txf','application/vnd.mobius.txf'],['txt','text/plain'],['ufd','application/vnd.ufdl'],['uil','text/x-uil'],['uls','text/iuls'],['umj','application/vnd.umajin'],['uni','text/uri-list'],['unis','text/uri-list'],['unityweb','application/vnd.unity'],['unv','application/i-deas'],['uoml','application/vnd.uoml+xml'],['uri','text/uri-list'],['uris','text/uri-list'],['ustar',['application/x-ustar','multipart/x-ustar']],['utz','application/vnd.uiq.theme'],['uu',['application/octet-stream','text/x-uuencode']],['uue','text/x-uuencode'],['uva','audio/vnd.dece.audio'],['uvh','video/vnd.dece.hd'],['uvi','image/vnd.dece.graphic'],['uvm','video/vnd.dece.mobile'],['uvp','video/vnd.dece.pd'],['uvs','video/vnd.dece.sd'],['uvu','video/vnd.uvvu.mp4'],['uvv','video/vnd.dece.video'],['vcd','application/x-cdlink'],['vcf','text/x-vcard'],['vcg','application/vnd.groove-vcard'],['vcs','text/x-vcalendar'],['vcx','application/vnd.vcx'],['vda','application/vda'],['vdo','video/vdo'],['vew','application/groupwise'],['vis','application/vnd.visionary'],['viv',['video/vivo','video/vnd.vivo']],['vivo',['video/vivo','video/vnd.vivo']],['vmd','application/vocaltec-media-desc'],['vmf','application/vocaltec-media-file'],['voc',['audio/voc','audio/x-voc']],['vos','video/vosaic'],['vox','audio/voxware'],['vqe','audio/x-twinvq-plugin'],['vqf','audio/x-twinvq'],['vql','audio/x-twinvq-plugin'],['vrml',['model/vrml','x-world/x-vrml','application/x-vrml']],['vrt','x-world/x-vrt'],['vsd',['application/vnd.visio','application/x-visio']],['vsf','application/vnd.vsf'],['vst','application/x-visio'],['vsw','application/x-visio'],['vtu','model/vnd.vtu'],['vxml','application/voicexml+xml'],['w60','application/wordperfect6.0'],['w61','application/wordperfect6.1'],['w6w','application/msword'],['wad','application/x-doom'],['wav',['audio/wav','audio/x-wav']],['wax','audio/x-ms-wax'],['wb1','application/x-qpro'],['wbmp','image/vnd.wap.wbmp'],['wbs','application/vnd.criticaltools.wbs+xml'],['wbxml','application/vnd.wap.wbxml'],['wcm','application/vnd.ms-works'],['wdb','application/vnd.ms-works'],['web','application/vnd.xara'],['weba','audio/webm'],['webm','video/webm'],['webp','image/webp'],['wg','application/vnd.pmi.widget'],['wgt','application/widget'],['wiz','application/msword'],['wk1','application/x-123'],['wks','application/vnd.ms-works'],['wm','video/x-ms-wm'],['wma','audio/x-ms-wma'],['wmd','application/x-ms-wmd'],['wmf',['windows/metafile','application/x-msmetafile']],['wml','text/vnd.wap.wml'],['wmlc','application/vnd.wap.wmlc'],['wmls','text/vnd.wap.wmlscript'],['wmlsc','application/vnd.wap.wmlscriptc'],['wmv','video/x-ms-wmv'],['wmx','video/x-ms-wmx'],['wmz','application/x-ms-wmz'],['woff','application/x-font-woff'],['word','application/msword'],['wp','application/wordperfect'],['wp5',['application/wordperfect','application/wordperfect6.0']],['wp6','application/wordperfect'],['wpd',['application/wordperfect','application/vnd.wordperfect','application/x-wpwin']],['wpl','application/vnd.ms-wpl'],['wps','application/vnd.ms-works'],['wq1','application/x-lotus'],['wqd','application/vnd.wqd'],['wri',['application/mswrite','application/x-wri','application/x-mswrite']],['wrl',['model/vrml','x-world/x-vrml','application/x-world']],['wrz',['model/vrml','x-world/x-vrml']],['wsc','text/scriplet'],['wsdl','application/wsdl+xml'],['wspolicy','application/wspolicy+xml'],['wsrc','application/x-wais-source'],['wtb','application/vnd.webturbo'],['wtk','application/x-wintalk'],['wvx','video/x-ms-wvx'],['x-png','image/png'],['x3d','application/vnd.hzn-3d-crossword'],['xaf','x-world/x-vrml'],['xap','application/x-silverlight-app'],['xar','application/vnd.xara'],['xbap','application/x-ms-xbap'],['xbd','application/vnd.fujixerox.docuworks.binder'],['xbm',['image/xbm','image/x-xbm','image/x-xbitmap']],['xdf','application/xcap-diff+xml'],['xdm','application/vnd.syncml.dm+xml'],['xdp','application/vnd.adobe.xdp+xml'],['xdr','video/x-amt-demorun'],['xdssc','application/dssc+xml'],['xdw','application/vnd.fujixerox.docuworks'],['xenc','application/xenc+xml'],['xer','application/patch-ops-error+xml'],['xfdf','application/vnd.adobe.xfdf'],['xfdl','application/vnd.xfdl'],['xgz','xgl/drawing'],['xhtml','application/xhtml+xml'],['xif','image/vnd.xiff'],['xl','application/excel'],['xla',['application/vnd.ms-excel','application/excel','application/x-msexcel','application/x-excel']],['xlam','application/vnd.ms-excel.addin.macroenabled.12'],['xlb',['application/excel','application/vnd.ms-excel','application/x-excel']],['xlc',['application/vnd.ms-excel','application/excel','application/x-excel']],['xld',['application/excel','application/x-excel']],['xlk',['application/excel','application/x-excel']],['xll',['application/excel','application/vnd.ms-excel','application/x-excel']],['xlm',['application/vnd.ms-excel','application/excel','application/x-excel']],['xls',['application/vnd.ms-excel','application/excel','application/x-msexcel','application/x-excel']],['xlsb','application/vnd.ms-excel.sheet.binary.macroenabled.12'],['xlsm','application/vnd.ms-excel.sheet.macroenabled.12'],['xlsx','application/vnd.openxmlformats-officedocument.spreadsheetml.sheet'],['xlt',['application/vnd.ms-excel','application/excel','application/x-excel']],['xltm','application/vnd.ms-excel.template.macroenabled.12'],['xltx','application/vnd.openxmlformats-officedocument.spreadsheetml.template'],['xlv',['application/excel','application/x-excel']],['xlw',['application/vnd.ms-excel','application/excel','application/x-msexcel','application/x-excel']],['xm','audio/xm'],['xml',['application/xml','text/xml','application/atom+xml','application/rss+xml']],['xmz','xgl/movie'],['xo','application/vnd.olpc-sugar'],['xof','x-world/x-vrml'],['xop','application/xop+xml'],['xpi','application/x-xpinstall'],['xpix','application/x-vnd.ls-xpix'],['xpm',['image/xpm','image/x-xpixmap']],['xpr','application/vnd.is-xpr'],['xps','application/vnd.ms-xpsdocument'],['xpw','application/vnd.intercon.formnet'],['xslt','application/xslt+xml'],['xsm','application/vnd.syncml+xml'],['xspf','application/xspf+xml'],['xsr','video/x-amt-showrun'],['xul','application/vnd.mozilla.xul+xml'],['xwd',['image/x-xwd','image/x-xwindowdump']],['xyz',['chemical/x-xyz','chemical/x-pdb']],['yang','application/yang'],['yin','application/yin+xml'],['z',['application/x-compressed','application/x-compress']],['zaz','application/vnd.zzazz.deck+xml'],['zip',['application/zip','multipart/x-zip','application/x-zip-compressed','application/x-compressed']],['zir','application/vnd.zul'],['zmm','application/vnd.handheld-entertainment+xml'],['zoo','application/octet-stream'],['zsh','text/x-script.zsh']]);m.exports={detectMimeType(n){if(!n)return t;let c=p.parse(n),l=(c.ext.substr(1)||c.name||'').split('?').shift().trim().toLowerCase(),s=t;return o.has(l)&&(s=o.get(l)),Array.isArray(s)?s[0]:s},detectExtension(p){if(!p)return"bin";let t=(p||'').toLowerCase().trim().split('/'),o=t.shift().trim(),c=t.join('/').trim();if(n.has(o+'/'+c)){let p=n.get(o+'/'+c);return Array.isArray(p)?p[0]:p}return'text'===o?'txt':'bin'}}},7132,[995]);
__d(function(g,r,_i,a,m,e,d){'use strict';const t=r(d[0]),i=r(d[1]),s=r(d[2]).parseDataURI;m.exports=class{constructor(t){this.mail=t||{},this.message=!1}compile(){return this._alternatives=this.getAlternatives(),this._htmlNode=this._alternatives.filter(t=>/^text\/html\b/i.test(t.contentType)).pop(),this._attachments=this.getAttachments(!!this._htmlNode),this._useRelated=!(!this._htmlNode||!this._attachments.related.length),this._useAlternative=this._alternatives.length>1,this._useMixed=this._attachments.attached.length>1||this._alternatives.length&&1===this._attachments.attached.length,this.mail.raw?this.message=new t('message/rfc822',{newline:this.mail.newline}).setRaw(this.mail.raw):this._useMixed?this.message=this._createMixed():this._useAlternative?this.message=this._createAlternative():this._useRelated?this.message=this._createRelated():this.message=this._createContentNode(!1,[].concat(this._alternatives||[]).concat(this._attachments.attached||[]).shift()||{contentType:'text/plain',content:''}),this.mail.headers&&this.message.addHeader(this.mail.headers),['from','sender','to','cc','bcc','reply-to','in-reply-to','references','subject','message-id','date'].forEach(t=>{let i=t.replace(/-(\w)/g,(t,i)=>i.toUpperCase());this.mail[i]&&this.message.setHeader(t,this.mail[i])}),this.mail.envelope&&this.message.setEnvelope(this.mail.envelope),this.message.messageId(),this.message}getAttachments(t){let s,n,l=[].concat(this.mail.attachments||[]).map((t,s)=>{let n;/^data:/i.test(t.path||t.href)&&(t=this._processDataUrl(t));let l,c=t.contentType||i.detectMimeType(t.filename||t.path||t.href||'bin'),h=/^image\//i.test(c),o=/^message\//i.test(c),p=t.contentDisposition||(o||h&&t.cid?'inline':'attachment');return l='contentTransferEncoding'in t?t.contentTransferEncoding:o?'7bit':'base64',n={contentType:c,contentDisposition:p,contentTransferEncoding:l},t.filename?n.filename=t.filename:o||!1===t.filename||(n.filename=(t.path||t.href||'').split('/').pop().split('?').shift()||'attachment-'+(s+1),n.filename.indexOf('.')<0&&(n.filename+='.'+i.detectExtension(n.contentType))),/^https?:\/\//i.test(t.path)&&(t.href=t.path,t.path=void 0),t.cid&&(n.cid=t.cid),t.raw?n.raw=t.raw:t.path?n.content={path:t.path}:t.href?n.content={href:t.href,httpHeaders:t.httpHeaders}:n.content=t.content||'',t.encoding&&(n.encoding=t.encoding),t.headers&&(n.headers=t.headers),n});return this.mail.icalEvent&&(s='object'==typeof this.mail.icalEvent&&(this.mail.icalEvent.content||this.mail.icalEvent.path||this.mail.icalEvent.href||this.mail.icalEvent.raw)?this.mail.icalEvent:{content:this.mail.icalEvent},n={},Object.keys(s).forEach(t=>{n[t]=s[t]}),n.contentType='application/ics',n.headers||(n.headers={}),n.filename=n.filename||'invite.ics',n.headers['Content-Disposition']='attachment',n.headers['Content-Transfer-Encoding']='base64'),t?{attached:l.filter(t=>!t.cid).concat(n||[]),related:l.filter(t=>!!t.cid)}:{attached:l.concat(n||[]),related:[]}}getAlternatives(){let t,s,n,l,c,h,o=[];return this.mail.text&&(t='object'==typeof this.mail.text&&(this.mail.text.content||this.mail.text.path||this.mail.text.href||this.mail.text.raw)?this.mail.text:{content:this.mail.text},t.contentType='text/plain; charset=utf-8'),this.mail.watchHtml&&(n='object'==typeof this.mail.watchHtml&&(this.mail.watchHtml.content||this.mail.watchHtml.path||this.mail.watchHtml.href||this.mail.watchHtml.raw)?this.mail.watchHtml:{content:this.mail.watchHtml},n.contentType='text/watch-html; charset=utf-8'),this.mail.amp&&(l='object'==typeof this.mail.amp&&(this.mail.amp.content||this.mail.amp.path||this.mail.amp.href||this.mail.amp.raw)?this.mail.amp:{content:this.mail.amp},l.contentType='text/x-amp-html; charset=utf-8'),this.mail.icalEvent&&(c='object'==typeof this.mail.icalEvent&&(this.mail.icalEvent.content||this.mail.icalEvent.path||this.mail.icalEvent.href||this.mail.icalEvent.raw)?this.mail.icalEvent:{content:this.mail.icalEvent},h={},Object.keys(c).forEach(t=>{h[t]=c[t]}),h.content&&'object'==typeof h.content&&(h.content._resolve=!0),h.filename=!1,h.contentType='text/calendar; charset=utf-8; method='+(h.method||'PUBLISH').toString().trim().toUpperCase(),h.headers||(h.headers={})),this.mail.html&&(s='object'==typeof this.mail.html&&(this.mail.html.content||this.mail.html.path||this.mail.html.href||this.mail.html.raw)?this.mail.html:{content:this.mail.html},s.contentType='text/html; charset=utf-8'),[].concat(t||[]).concat(n||[]).concat(l||[]).concat(s||[]).concat(h||[]).concat(this.mail.alternatives||[]).forEach(t=>{let s;/^data:/i.test(t.path||t.href)&&(t=this._processDataUrl(t)),s={contentType:t.contentType||i.detectMimeType(t.filename||t.path||t.href||'txt'),contentTransferEncoding:t.contentTransferEncoding},t.filename&&(s.filename=t.filename),/^https?:\/\//i.test(t.path)&&(t.href=t.path,t.path=void 0),t.raw?s.raw=t.raw:t.path?s.content={path:t.path}:t.href?s.content={href:t.href}:s.content=t.content||'',t.encoding&&(s.encoding=t.encoding),t.headers&&(s.headers=t.headers),o.push(s)}),o}_createMixed(i){let s;return s=i?i.createChild('multipart/mixed',{disableUrlAccess:this.mail.disableUrlAccess,disableFileAccess:this.mail.disableFileAccess,normalizeHeaderKey:this.mail.normalizeHeaderKey,newline:this.mail.newline}):new t('multipart/mixed',{baseBoundary:this.mail.baseBoundary,textEncoding:this.mail.textEncoding,boundaryPrefix:this.mail.boundaryPrefix,disableUrlAccess:this.mail.disableUrlAccess,disableFileAccess:this.mail.disableFileAccess,normalizeHeaderKey:this.mail.normalizeHeaderKey,newline:this.mail.newline}),this._useAlternative?this._createAlternative(s):this._useRelated&&this._createRelated(s),[].concat(!this._useAlternative&&this._alternatives||[]).concat(this._attachments.attached||[]).forEach(t=>{this._useRelated&&t===this._htmlNode||this._createContentNode(s,t)}),s}_createAlternative(i){let s;return s=i?i.createChild('multipart/alternative',{disableUrlAccess:this.mail.disableUrlAccess,disableFileAccess:this.mail.disableFileAccess,normalizeHeaderKey:this.mail.normalizeHeaderKey,newline:this.mail.newline}):new t('multipart/alternative',{baseBoundary:this.mail.baseBoundary,textEncoding:this.mail.textEncoding,boundaryPrefix:this.mail.boundaryPrefix,disableUrlAccess:this.mail.disableUrlAccess,disableFileAccess:this.mail.disableFileAccess,normalizeHeaderKey:this.mail.normalizeHeaderKey,newline:this.mail.newline}),this._alternatives.forEach(t=>{this._useRelated&&this._htmlNode===t?this._createRelated(s):this._createContentNode(s,t)}),s}_createRelated(i){let s;return s=i?i.createChild('multipart/related; type="text/html"',{disableUrlAccess:this.mail.disableUrlAccess,disableFileAccess:this.mail.disableFileAccess,normalizeHeaderKey:this.mail.normalizeHeaderKey,newline:this.mail.newline}):new t('multipart/related; type="text/html"',{baseBoundary:this.mail.baseBoundary,textEncoding:this.mail.textEncoding,boundaryPrefix:this.mail.boundaryPrefix,disableUrlAccess:this.mail.disableUrlAccess,disableFileAccess:this.mail.disableFileAccess,normalizeHeaderKey:this.mail.normalizeHeaderKey,newline:this.mail.newline}),this._createContentNode(s,this._htmlNode),this._attachments.related.forEach(t=>this._createContentNode(s,t)),s}_createContentNode(i,s){let n;(s=s||{}).content=s.content||'';let l=(s.encoding||'utf8').toString().toLowerCase().replace(/[-_\s]/g,'');return n=i?i.createChild(s.contentType,{filename:s.filename,textEncoding:this.mail.textEncoding,disableUrlAccess:this.mail.disableUrlAccess,disableFileAccess:this.mail.disableFileAccess,normalizeHeaderKey:this.mail.normalizeHeaderKey,newline:this.mail.newline}):new t(s.contentType,{filename:s.filename,baseBoundary:this.mail.baseBoundary,textEncoding:this.mail.textEncoding,boundaryPrefix:this.mail.boundaryPrefix,disableUrlAccess:this.mail.disableUrlAccess,disableFileAccess:this.mail.disableFileAccess,normalizeHeaderKey:this.mail.normalizeHeaderKey,newline:this.mail.newline}),s.headers&&n.addHeader(s.headers),s.cid&&n.setHeader('Content-Id','<'+s.cid.replace(/[<>]/g,'')+'>'),s.contentTransferEncoding?n.setHeader('Content-Transfer-Encoding',s.contentTransferEncoding):this.mail.encoding&&/^text\//i.test(s.contentType)&&n.setHeader('Content-Transfer-Encoding',this.mail.encoding),/^text\//i.test(s.contentType)&&!s.contentDisposition||n.setHeader('Content-Disposition',s.contentDisposition||(s.cid&&/^image\//i.test(s.contentType)?'inline':'attachment')),'string'!=typeof s.content||['utf8','usascii','ascii'].includes(l)||(s.content=Buffer.from(s.content,l)),s.raw?n.setRaw(s.raw):n.setContent(s.content),n}_processDataUrl(t){const i=t.path||t.href;if(!i||'string'!=typeof i)return t;if(!i.startsWith('data:'))return t;if(i.length>52428800){let s='application/octet-stream';const n=i.indexOf(',');if(n>0&&n<200){const t=i.substring(5,n).split(';');t[0]&&t[0].includes('/')&&(s=t[0].trim())}return Object.assign({},t,{path:!1,href:!1,content:Buffer.alloc(0),contentType:t.contentType||s})}let n;try{n=s(i)}catch(i){return t}return n?(t.content=n.data,t.contentType=t.contentType||n.contentType,'path'in t&&(t.path=!1),'href'in t&&(t.href=!1),t):t}}},7133,[7134,7136,7127]);
__d(function(g,r,_i,_a,m,e,d){'use strict';const t=r(d[0]),s=r(d[1]),n=r(d[2]),i=r(d[3]).PassThrough,o=r(d[4]),a=r(d[5]),h=r(d[6]),c=r(d[7]),l=r(d[8]),p=r(d[9]),u=r(d[10]),f=r(d[11]),_=r(d[12]);class y{constructor(s,n){this.nodeCounter=0,n=n||{},this.baseBoundary=n.baseBoundary||t.randomBytes(8).toString('hex'),this.boundaryPrefix=n.boundaryPrefix||'--_NmP',this.disableFileAccess=!!n.disableFileAccess,this.disableUrlAccess=!!n.disableUrlAccess,this.normalizeHeaderKey=n.normalizeHeaderKey,this.date=new Date,this.rootNode=n.rootNode||this,this.keepBcc=!!n.keepBcc,n.filename&&(this.filename=n.filename,s||(s=a.detectMimeType(this.filename.split('.').pop()))),this.textEncoding=(n.textEncoding||'').toString().trim().charAt(0).toUpperCase(),this.parentNode=n.parentNode,this.hostname=n.hostname,this.newline=n.newline,this.childNodes=[],this._nodeId=++this.rootNode.nodeCounter,this._headers=[],this._isPlainText=!1,this._hasLongLines=!1,this._envelope=!1,this._raw=!1,this._transforms=[],this._processFuncs=[],s&&this.setHeader('Content-Type',s)}createChild(t,s){s||'object'!=typeof t||(s=t,t=void 0);let n=new y(t,s);return this.appendChild(n),n}appendChild(t){return t.rootNode!==this.rootNode&&(t.rootNode=this.rootNode,t._nodeId=++this.rootNode.nodeCounter),t.parentNode=this,this.childNodes.push(t),t}replace(t){return t===this?this:(this.parentNode.childNodes.forEach((s,n)=>{s===this&&(t.rootNode=this.rootNode,t.parentNode=this.parentNode,t._nodeId=this._nodeId,this.rootNode=this,this.parentNode=void 0,t.parentNode.childNodes[n]=t)}),t)}remove(){if(!this.parentNode)return this;for(let t=this.parentNode.childNodes.length-1;t>=0;t--)if(this.parentNode.childNodes[t]===this)return this.parentNode.childNodes.splice(t,1),this.parentNode=void 0,this.rootNode=this,this}setHeader(t,s){let n,i=!1;if(!s&&t&&'object'==typeof t)return t.key&&'value'in t?this.setHeader(t.key,t.value):Array.isArray(t)?t.forEach(t=>{this.setHeader(t.key,t.value)}):Object.keys(t).forEach(s=>{this.setHeader(s,t[s])}),this;n={key:t=this._normalizeHeaderKey(t),value:s};for(let s=0,o=this._headers.length;s<o;s++)this._headers[s].key===t&&(i?(this._headers.splice(s,1),s--,o--):(this._headers[s]=n,i=!0));return i||this._headers.push(n),this}addHeader(t,s){return!s&&t&&'object'==typeof t?(t.key&&t.value?this.addHeader(t.key,t.value):Array.isArray(t)?t.forEach(t=>{this.addHeader(t.key,t.value)}):Object.keys(t).forEach(s=>{this.addHeader(s,t[s])}),this):Array.isArray(s)?(s.forEach(s=>{this.addHeader(t,s)}),this):(this._headers.push({key:this._normalizeHeaderKey(t),value:s}),this)}getHeader(t){t=this._normalizeHeaderKey(t);for(let s=0,n=this._headers.length;s<n;s++)if(this._headers[s].key===t)return this._headers[s].value}setContent(t){return this.content=t,'function'==typeof this.content.pipe?(this._contentErrorHandler=t=>{this.content.removeListener('error',this._contentErrorHandler),this.content=t},this.content.once('error',this._contentErrorHandler)):'string'==typeof this.content&&(this._isPlainText=a.isPlainText(this.content),this._isPlainText&&a.hasLongerLines(this.content,76)&&(this._hasLongLines=!0)),this}build(t){let s;t||(s=new Promise((s,n)=>{t=o.callbackPromise(s,n)}));let n=this.createReadStream(),i=[],a=0,h=!1;return n.on('readable',()=>{let t;for(;null!==(t=n.read());)i.push(t),a+=t.length}),n.once('error',s=>{if(!h)return h=!0,t(s)}),n.once('end',s=>{if(!h)return h=!0,s&&s.length&&(i.push(s),a+=s.length),t(null,Buffer.concat(i,a))}),s}getTransferEncoding(){let t=!1,s=(this.getHeader('Content-Type')||'').toString().toLowerCase().trim();return this.content&&(t=(this.getHeader('Content-Transfer-Encoding')||'').toString().toLowerCase().trim(),t&&['base64','quoted-printable'].includes(t)||(/^text\//i.test(s)?t=this._isPlainText&&!this._hasLongLines?'7bit':'string'==typeof this.content||this.content instanceof Buffer?'Q'===this._getTextEncoding(this.content)?'quoted-printable':'base64':'B'===this.textEncoding?'base64':'quoted-printable':/^(multipart|message)\//i.test(s)||(t=t||'base64'))),t}buildHeaders(){let t=this.getTransferEncoding(),s=[];if(t&&this.setHeader('Content-Transfer-Encoding',t),this.filename&&!this.getHeader('Content-Disposition')&&this.setHeader('Content-Disposition','attachment'),this.rootNode===this){this.getHeader('Date')||this.setHeader('Date',this.date.toUTCString().replace(/GMT/,'+0000')),this.messageId(),this.getHeader('MIME-Version')||this.setHeader('MIME-Version','1.0');for(let t=this._headers.length-2;t>=0;t--){let s=this._headers[t];'Content-Type'===s.key&&(this._headers.splice(t,1),this._headers.push(s))}}return this._headers.forEach(t=>{let n,i,o=t.key,h=t.value,c={};if(!h||'object'!=typeof h||['From','Sender','To','Cc','Bcc','Reply-To','Date','References'].includes(o)||(Object.keys(h).forEach(t=>{'value'!==t&&(c[t]=h[t])}),h=(h.value||'').toString(),h.trim()))if(c.prepared)c.foldLines?s.push(a.foldLines(o+': '+h)):s.push(o+': '+h);else{switch(t.key){case'Content-Disposition':n=a.parseHeaderValue(h),this.filename&&(n.params.filename=this.filename),h=a.buildHeaderValue(n);break;case'Content-Type':n=a.parseHeaderValue(h),this._handleContentType(n),n.value.match(/^text\/plain\b/)&&'string'==typeof this.content&&/[\u0080-\uFFFF]/.test(this.content)&&(n.params.charset='utf-8'),h=a.buildHeaderValue(n),this.filename&&(i=this._encodeWords(this.filename),(i!==this.filename||/[\s'"\\;:/=(),<>@[\]?]|^-/.test(i))&&(i='"'+i+'"'),h+='; name='+i);break;case'Bcc':if(!this.keepBcc)return}if(h=this._encodeHeaderValue(o,h),(h||'').toString().trim()){if('function'==typeof this.normalizeHeaderKey){let t=this.normalizeHeaderKey(o,h);t&&'string'==typeof t&&t.length&&(o=t)}s.push(a.foldLines(o+': '+h,76))}}}),s.join('\r\n')}createReadStream(t){let s,n=new i(t=t||{}),o=n;this.stream(n,t,t=>{t?o.emit('error',t):n.end()});for(let t=0,n=this._transforms.length;t<n;t++)s='function'==typeof this._transforms[t]?this._transforms[t]():this._transforms[t],o.once('error',t=>{s.emit('error',t)}),o=o.pipe(s);s=new u,o.once('error',t=>{s.emit('error',t)}),o=o.pipe(s);for(let t=0,n=this._processFuncs.length;t<n;t++)s=this._processFuncs[t],o=s(o);if(this.newline){const t=['win','windows','dos','\r\n'].includes(this.newline.toString().toLowerCase())?new f:new _,s=o.pipe(t);return o.on('error',t=>s.emit('error',t)),s}return o}transform(t){this._transforms.push(t)}processFunc(t){this._processFuncs.push(t)}stream(t,s,n){let i,o,a=this.getTransferEncoding(),l=!1,p=t=>{l||(l=!0,n(t))},u=()=>{let n=0,i=()=>{if(n>=this.childNodes.length)return t.write('\r\n--'+this.boundary+'--\r\n'),p();let o=this.childNodes[n++];t.write((n>1?'\r\n':'')+'--'+this.boundary+'\r\n'),o.stream(t,s,t=>{if(t)return p(t);setImmediate(i)})};if(!this.multipart)return p();setImmediate(i)},f=()=>{if(this.content){if('[object Error]'===Object.prototype.toString.call(this.content))return p(this.content);'function'==typeof this.content.pipe&&(this.content.removeListener('error',this._contentErrorHandler),this._contentErrorHandler=t=>p(t),this.content.once('error',this._contentErrorHandler));let n=()=>{['quoted-printable','base64'].includes(a)?(i=new('base64'===a?c:h).Encoder(s),i.pipe(t,{end:!1}),i.once('end',u),i.once('error',t=>p(t)),o=this._getStream(this.content),o.pipe(i)):(o=this._getStream(this.content),o.pipe(t,{end:!1}),o.once('end',u)),o.once('error',t=>p(t))};if(this.content._resolve){let t=[],s=0,i=!1,o=this._getStream(this.content);o.on('error',t=>{i||(i=!0,p(t))}),o.on('readable',()=>{let n;for(;null!==(n=o.read());)t.push(n),s+=n.length}),o.on('end',()=>{i||(i=!0,this.content._resolve=!1,this.content._resolvedValue=Buffer.concat(t,s),setImmediate(n))})}else setImmediate(n);return}return setImmediate(u)};this._raw?setImmediate(()=>{if('[object Error]'===Object.prototype.toString.call(this._raw))return p(this._raw);'function'==typeof this._raw.pipe&&this._raw.removeListener('error',this._contentErrorHandler);let s=this._getStream(this._raw);s.pipe(t,{end:!1}),s.on('error',s=>t.emit('error',s)),s.on('end',u)}):(t.write(this.buildHeaders()+'\r\n\r\n'),setImmediate(f))}setEnvelope(t){let s;this._envelope={from:!1,to:[]},t.from&&(s=[],this._convertAddresses(this._parseAddresses(t.from),s),s=s.filter(t=>t&&t.address),s.length&&s[0]&&(this._envelope.from=s[0].address)),['to','cc','bcc'].forEach(s=>{t[s]&&this._convertAddresses(this._parseAddresses(t[s]),this._envelope.to)}),this._envelope.to=this._envelope.to.map(t=>t.address).filter(t=>t);let n=['to','cc','bcc','from'];return Object.keys(t).forEach(s=>{n.includes(s)||(this._envelope[s]=t[s])}),this}getAddresses(){let t={};return this._headers.forEach(s=>{let n=s.key.toLowerCase();['from','sender','reply-to','to','cc','bcc'].includes(n)&&(Array.isArray(t[n])||(t[n]=[]),this._convertAddresses(this._parseAddresses(s.value),t[n]))}),t}getEnvelope(){if(this._envelope)return this._envelope;let t={from:!1,to:[]};return this._headers.forEach(s=>{let n=[];'From'===s.key||!t.from&&['Reply-To','Sender'].includes(s.key)?(this._convertAddresses(this._parseAddresses(s.value),n),n.length&&n[0]&&(t.from=n[0].address)):['To','Cc','Bcc'].includes(s.key)&&this._convertAddresses(this._parseAddresses(s.value),t.to)}),t.to=t.to.map(t=>t.address),t}messageId(){let t=this.getHeader('Message-ID');return t||(t=this._generateMessageId(),this.setHeader('Message-ID',t)),t}setRaw(t){return this._raw=t,this._raw&&'function'==typeof this._raw.pipe&&(this._contentErrorHandler=t=>{this._raw.removeListener('error',this._contentErrorHandler),this._raw=t},this._raw.once('error',this._contentErrorHandler)),this}_getStream(t){let n;return t._resolvedValue?(n=new i,setImmediate(()=>{try{n.end(t._resolvedValue)}catch(t){n.emit('error',t)}}),n):'function'==typeof t.pipe?t:t&&'string'==typeof t.path&&!t.href?this.disableFileAccess?(n=new i,setImmediate(()=>n.emit('error',new Error('File access rejected for '+t.path))),n):s.createReadStream(t.path):t&&'string'==typeof t.href?this.disableUrlAccess?(n=new i,setImmediate(()=>n.emit('error',new Error('Url access rejected for '+t.href))),n):p(t.href,{headers:t.httpHeaders}):(n=new i,setImmediate(()=>{try{n.end(t||'')}catch(t){n.emit('error',t)}}),n)}_parseAddresses(t){return[].concat.apply([],[].concat(t).map(t=>t&&t.address?(t.address=this._normalizeAddress(t.address),t.name=t.name||'',[t]):l(t)))}_normalizeHeaderKey(t){return t=(t||'').toString().replace(/\r?\n|\r/g,' ').trim().toLowerCase().replace(/^X-SMTPAPI$|^(MIME|DKIM|ARC|BIMI)\b|^[a-z]|-(SPF|FBL|ID|MD5)$|-[a-z]/gi,t=>t.toUpperCase()).replace(/^Content-Features$/i,'Content-features')}_handleContentType(t){this.contentType=t.value.trim().toLowerCase(),this.multipart=!!/^multipart\//i.test(this.contentType)&&this.contentType.substr(this.contentType.indexOf('/')+1),this.multipart?this.boundary=t.params.boundary=t.params.boundary||this.boundary||this._generateBoundary():this.boundary=!1}_generateBoundary(){return this.rootNode.boundaryPrefix+'-'+this.rootNode.baseBoundary+'-Part_'+this._nodeId}_encodeHeaderValue(t,s){switch(t=this._normalizeHeaderKey(t)){case'From':case'Sender':case'To':case'Cc':case'Bcc':case'Reply-To':return this._convertAddresses(this._parseAddresses(s));case'Message-ID':case'In-Reply-To':case'Content-Id':return'<'!==(s=(s||'').toString().replace(/\r?\n|\r/g,' ')).charAt(0)&&(s='<'+s),'>'!==s.charAt(s.length-1)&&(s+='>'),s;case'References':return(s=[].concat.apply([],[].concat(s||'').map(t=>(t=(t||'').toString().replace(/\r?\n|\r/g,' ').trim()).replace(/<[^>]*>/g,t=>t.replace(/\s/g,'')).split(/\s+/))).map(t=>('<'!==t.charAt(0)&&(t='<'+t),'>'!==t.charAt(t.length-1)&&(t+='>'),t))).join(' ').trim();case'Date':return'[object Date]'===Object.prototype.toString.call(s)?s.toUTCString().replace(/GMT/,'+0000'):(s=(s||'').toString().replace(/\r?\n|\r/g,' '),this._encodeWords(s));case'Content-Type':case'Content-Disposition':return(s||'').toString().replace(/\r?\n|\r/g,' ');default:return s=(s||'').toString().replace(/\r?\n|\r/g,' '),this._encodeWords(s)}}_convertAddresses(t,s){let n=[];return s=s||[],[].concat(t||[]).forEach(t=>{if(t.address)t.address=this._normalizeAddress(t.address),t.name?t.name&&n.push(`${this._encodeAddressName(t.name)} <${t.address}>`):n.push(t.address.indexOf(' ')>=0?`<${t.address}>`:`${t.address}`),t.address&&(s.filter(s=>s.address===t.address).length||s.push(t));else if(t.group){let i=(t.group.length?this._convertAddresses(t.group,s):'').trim();n.push(`${this._encodeAddressName(t.name)}:${i};`)}}),n.join(', ')}_normalizeAddress(t){let s=(t=(t||'').toString().replace(/[\x00-\x1F<>]+/g,' ').trim()).lastIndexOf('@');if(s<0)return t;let i,o=t.substr(0,s),a=t.substr(s+1);try{i=n.toASCII(a.toLowerCase())}catch(t){}return o.indexOf(' ')>=0&&('"'!==o.charAt(0)&&(o='"'+o),'"'!==o.substr(-1)&&(o+='"')),`${o}@${i}`}_encodeAddressName(t){return/^[\w ]*$/.test(t)?t:/^[\x20-\x7e]*$/.test(t)?'"'+t.replace(/([\\"])/g,'\\$1')+'"':a.encodeWord(t,this._getTextEncoding(t),52)}_encodeWords(t){return a.encodeWords(t,this._getTextEncoding(t),52,!0)}_getTextEncoding(t){t=(t||'').toString();let s,n,i=this.textEncoding;return i||(n=(t.match(/[\x00-\x08\x0B\x0C\x0E-\x1F\u0080-\uFFFF]/g)||[]).length,s=(t.match(/[a-z]/gi)||[]).length,i=n<s?'Q':'B'),i}_generateMessageId(){return'<'+[2,2,2,6].reduce((s,n)=>s+'-'+t.randomBytes(n).toString('hex'),t.randomBytes(4).toString('hex'))+'@'+(this.getEnvelope().from||this.hostname||'localhost').split('@').pop()+'>'}}m.exports=y},7134,[467,994,7135,469,7127,7136,7138,7137,7139,7128,7140,7141,7142]);
__d(function(g,r,_i,a,_m,e,d){'use strict';const t=2147483647,n=36,o=/^xn--/,c=/[^\0-\x7F]/,i=/[\x2E\u3002\uFF0E\uFF61]/g,s={overflow:'Overflow: input needs wider integers to process','not-basic':'Illegal input >= 0x80 (not a basic code point)','invalid-input':'Invalid input'},u=Math.floor,f=String.fromCharCode;function l(t){throw new RangeError(s[t])}function h(t,n){const o=[];let c=t.length;for(;c--;)o[c]=n(t[c]);return o}function p(t,n){const o=t.split('@');let c='';o.length>1&&(c=o[0]+'@',t=o[1]);return c+h((t=t.replace(i,'.')).split('.'),n).join('.')}function v(t){const n=[];let o=0;const c=t.length;for(;o<c;){const i=t.charCodeAt(o++);if(i>=55296&&i<=56319&&o<c){const c=t.charCodeAt(o++);56320==(64512&c)?n.push(((1023&i)<<10)+(1023&c)+65536):(n.push(i),o--)}else n.push(i)}return n}const w=function(t){return t>=48&&t<58?t-48+26:t>=65&&t<91?t-65:t>=97&&t<123?t-97:n},C=function(t,n){return t+22+75*(t<26)-((0!=n)<<5)},x=function(t,o,c){let i=0;for(t=c?u(t/700):t>>1,t+=u(t/o);t>455;i+=n)t=u(t/35);return u(i+36*t/(t+38))},A=function(o){const c=[],i=o.length;let s=0,f=128,h=72,p=o.lastIndexOf("-");p<0&&(p=0);for(let t=0;t<p;++t)o.charCodeAt(t)>=128&&l('not-basic'),c.push(o.charCodeAt(t));for(let v=p>0?p+1:0;v<i;){const p=s;for(let c=1,f=n;;f+=n){v>=i&&l('invalid-input');const p=w(o.charCodeAt(v++));p>=n&&l('invalid-input'),p>u((t-s)/c)&&l('overflow'),s+=p*c;const C=f<=h?1:f>=h+26?26:f-h;if(p<C)break;const x=n-C;c>u(t/x)&&l('overflow'),c*=x}const C=c.length+1;h=x(s-p,C,0==p),u(s/C)>t-f&&l('overflow'),f+=u(s/C),s%=C,c.splice(s++,0,f)}return String.fromCodePoint(...c)},b=function(o){const c=[],i=(o=v(o)).length;let s=128,h=0,p=72;for(const t of o)t<128&&c.push(f(t));const w=c.length;let A=w;for(w&&c.push("-");A<i;){let i=t;for(const t of o)t>=s&&t<i&&(i=t);const v=A+1;i-s>u((t-h)/v)&&l('overflow'),h+=(i-s)*v,s=i;for(const i of o)if(i<s&&++h>t&&l('overflow'),i===s){let t=h;for(let o=n;;o+=n){const i=o<=p?1:o>=p+26?26:o-p;if(t<i)break;const s=t-i,l=n-i;c.push(f(C(i+s%l,0))),t=u(s/l)}c.push(f(C(t,0))),p=x(h,v,A===w),h=0,++A}++h,++s}return c.join('')},F={version:'2.3.1',ucs2:{decode:v,encode:t=>String.fromCodePoint(...t)},decode:A,encode:b,toASCII:function(t){return p(t,function(t){return c.test(t)?'xn--'+b(t):t})},toUnicode:function(t){return p(t,function(t){return o.test(t)?A(t.slice(4).toLowerCase()):t})}};_m.exports=F},7135,[]);
__d(function(g,r,_i,a,m,e,d){'use strict';const t=r(d[0]),n=r(d[1]),s=r(d[2]);m.exports={isPlainText:(t,n)=>'string'==typeof t&&!(n?/[\x00-\x08\x0b\x0c\x0e-\x1f"\u0080-\uFFFF]/:/[\x00-\x08\x0b\x0c\x0e-\x1f\u0080-\uFFFF]/).test(t),hasLongerLines:(t,n)=>t.length>131072||new RegExp('^.{'+(n+1)+',}','m').test(t),encodeWord(s,l,i){let h;if((i=i||0)&&i>12&&(i-=12),'Q'===(l=(l||'Q').toString().toUpperCase().trim().charAt(0))?h=n.encode(s).replace(/[^a-z0-9!*+\-/=]/gi,t=>{let n=t.charCodeAt(0).toString(16).toUpperCase();return' '===t?'_':'='+(1===n.length?'0'+n:n)}):'B'===l&&(h='string'==typeof s?s:t.encode(s),i=i?Math.max(3,(i-i%4)/4*3):0),i&&('B'!==l?h:t.encode(s)).length>i)if('Q'===l)h=this.splitMimeEncodedString(h,i).join("?= =?UTF-8?"+l+'?');else{let n=[],s='';for(let l=0,o=h.length;l<o;l++){let u=h.charAt(l);/[\ud83c\ud83d\ud83e]/.test(u)&&l<o-1&&(u+=h.charAt(++l)),Buffer.byteLength(s+u)<=i||0===l?s+=u:(n.push(t.encode(s)),s=u)}s&&n.push(t.encode(s)),h=n.length>1?n.join("?= =?UTF-8?"+l+'?'):n.join('')}else'B'===l&&(h=t.encode(s));return"=?UTF-8?"+l+'?'+h+('?='===h.substr(-2)?'':'?=')},encodeWords(t,n,s,l){let i;s=s||0;let h=t.match(/(?:^|\s)([^\s]*["\u0080-\uFFFF])/);if(!h)return t;if(l)return this.encodeWord(t,n,s);let o=t.match(/(["\u0080-\uFFFF][^\s]*)[^"\u0080-\uFFFF]*$/);if(!o)return t;let u=h.index+(h[0].match(/[^\s]/)||{index:0}).index,c=o.index+(o[1]||'').length;return i=(u?t.substr(0,u):'')+this.encodeWord(t.substring(u,c),n||'Q',s)+(c<t.length?t.substr(c):''),i},buildHeaderValue(t){let n=[];return Object.keys(t.params||{}).forEach(s=>{let l=t.params[s];!this.isPlainText(l,!0)||l.length>=75?this.buildHeaderParam(s,l,50).forEach(t=>{/[\s"\\;:/=(),<>@[\]?]|^[-']|'$/.test(t.value)&&'*'!==t.key.substr(-1)?n.push(t.key+'='+JSON.stringify(t.value)):n.push(t.key+'='+t.value)}):/[\s'"\\;:/=(),<>@[\]?]|^-/.test(l)?n.push(s+'='+JSON.stringify(l)):n.push(s+'='+l)}),t.value+(n.length?'; '+n.join('; '):'')},buildHeaderParam(t,n,s){let l,i,h,o,u,c,p=[],f='string'==typeof n?n:(n||'').toString(),F=0;if(s=s||50,this.isPlainText(n,!0)){if(f.length<=s)return[{key:t,value:f}];f=f.replace(new RegExp('.{'+s+'}','g'),t=>(p.push({line:t}),'')),f&&p.push({line:f})}else{if(/[\uD800-\uDBFF]/.test(f)){for(l=[],u=0,c=f.length;u<c;u++)i=f.charAt(u),h=i.charCodeAt(0),h>=55296&&h<=56319&&u<c-1?(i+=f.charAt(u+1),l.push(i),u++):l.push(i);f=l}o="utf-8''";let t=!0;for(F=0,u=0,c=f.length;u<c;u++){if(i=f[u],t)i=this.safeEncodeURIComponent(i);else if(i=' '===i?i:this.safeEncodeURIComponent(i),i!==f[u]){if(!((this.safeEncodeURIComponent(o)+i).length>=s)){t=!0,u=F,o='';continue}p.push({line:o,encoded:t}),o='',F=u-1}(o+i).length>=s?(p.push({line:o,encoded:t}),o=i=' '===f[u]?' ':this.safeEncodeURIComponent(f[u]),i===f[u]?(t=!1,F=u-1):t=!0):o+=i}o&&p.push({line:o,encoded:t})}return p.map((n,s)=>({key:t+'*'+s+(n.encoded?'*':''),value:n.line}))},parseHeaderValue(t){let n,s={value:!1,params:{}},l=!1,i='',h='value',o=!1,u=!1;for(let c=0,p=t.length;c<p;c++)if(n=t.charAt(c),'key'===h){if('='===n){l=i.trim().toLowerCase(),h='value',i='';continue}i+=n}else{if(u)i+=n;else{if('\\'===n){u=!0;continue}o&&n===o?o=!1:o||'"'!==n?o||';'!==n?i+=n:(!1===l?s.value=i.trim():s.params[l]=i.trim(),h='key',i=''):o=n}u=!1}return'value'===h?!1===l?s.value=i.trim():s.params[l]=i.trim():i.trim()&&(s.params[i.trim().toLowerCase()]=''),Object.keys(s.params).forEach(t=>{let n,l,i,h;(i=t.match(/(\*(\d+)|\*(\d+)\*|\*)$/))&&(n=t.substr(0,i.index),l=Number(i[2]||i[3])||0,s.params[n]&&'object'==typeof s.params[n]||(s.params[n]={charset:!1,values:[]}),h=s.params[t],0===l&&'*'===i[0].substr(-1)&&(i=h.match(/^([^']*)'[^']*'(.*)$/))&&(s.params[n].charset=i[1]||'iso-8859-1',h=i[2]),s.params[n].values[l]=h,delete s.params[t])}),Object.keys(s.params).forEach(t=>{let n;s.params[t]&&Array.isArray(s.params[t].values)&&(n=s.params[t].values.map(t=>t||'').join(''),s.params[t].charset?s.params[t]='=?'+s.params[t].charset+'?Q?'+n.replace(/[=?_\s]/g,t=>{let n=t.charCodeAt(0).toString(16);return' '===t?'_':'%'+(n.length<2?'0':'')+n}).replace(/%/g,'=')+'?=':s.params[t]=n)}),s},detectExtension:t=>s.detectExtension(t),detectMimeType:t=>s.detectMimeType(t),foldLines(t,n,s){n=n||76;let l,i,h=0,o=(t=(t||'').toString()).length,u='';for(;h<o;){if(l=t.substr(h,n),l.length<n){u+=l;break}(i=l.match(/^[^\n\r]*(\r?\n|\r)/))?(l=i[0],u+=l,h+=l.length):((i=l.match(/(\s+)[^\s]*$/))&&i[0].length-(s?(i[1]||'').length:0)<l.length?l=l.substr(0,l.length-(i[0].length-(s?(i[1]||'').length:0))):(i=t.substr(h+l.length).match(/^[^\s]+(\s*)/))&&(l+=i[0].substr(0,i[0].length-(s?0:(i[1]||'').length))),u+=l,h+=l.length,h<o&&(u+='\r\n'))}return u},splitMimeEncodedString:(t,n)=>{let s,l,i,h,o=[];for(n=Math.max(n||0,12);t.length;){for(s=t.substr(0,n),(l=s.match(/[=][0-9A-F]?$/i))&&(s=s.substr(0,l.index)),h=!1;!h;)h=!0,(l=t.substr(s.length).match(/^[=]([0-9A-F]{2})/i))&&(i=parseInt(l[1],16),i<194&&i>127&&(s=s.substr(0,s.length-3),h=!1));s.length&&o.push(s),t=t.substr(s.length)}return o},encodeURICharComponent:t=>{let n='',s=t.charCodeAt(0).toString(16).toUpperCase();if(s.length%2&&(s='0'+s),s.length>2)for(let t=0,l=s.length/2;t<l;t++)n+='%'+s.substr(t,2);else n+='%'+s;return n},safeEncodeURIComponent(t){t=(t||'').toString();try{t=encodeURIComponent(t)}catch(n){return t.replace(/[^\x00-\x1F *'()<>@,;:\\"[\]?=\u007F-\uFFFF]+/g,'')}return t.replace(/[\x00-\x1F *'()<>@,;:\\"[\]?=\u007F-\uFFFF]/g,t=>this.encodeURICharComponent(t))}}},7136,[7137,7138,7132]);
__d(function(g,r,i,a,m,e,d){'use strict';const t=r(d[0]).Transform;function n(t){return'string'==typeof t&&(t=Buffer.from(t,'utf-8')),t.toString('base64')}function s(t,n){if(n=n||76,(t=(t||'').toString()).length<=n)return t;let s=[],h=0,u=1024*n;for(;h<t.length;){let o=t.substr(h,u).replace(new RegExp('.{'+n+'}','g'),'$&\r\n');s.push(o),h+=u}return s.join('')}m.exports={encode:n,wrap:s,Encoder:class extends t{constructor(t){super(),this.options=t||{},!1!==this.options.lineLength&&(this.options.lineLength=this.options.lineLength||76),this._curLine='',this._remainingBytes=!1,this.inputBytes=0,this.outputBytes=0}_transform(t,h,u){if('buffer'!==h&&(t=Buffer.from(t,h)),!t||!t.length)return setImmediate(u);this.inputBytes+=t.length,this._remainingBytes&&this._remainingBytes.length&&(t=Buffer.concat([this._remainingBytes,t],this._remainingBytes.length+t.length),this._remainingBytes=!1),t.length%3?(this._remainingBytes=t.slice(t.length-t.length%3),t=t.slice(0,t.length-t.length%3)):this._remainingBytes=!1;let o=this._curLine+n(t);if(this.options.lineLength){o=s(o,this.options.lineLength);let t=o.lastIndexOf('\n');t<0?(this._curLine=o,o=''):(this._curLine=o.substring(t+1),o=o.substring(0,t+1),o&&!o.endsWith('\r\n')&&(o+='\r\n'))}else this._curLine='';o&&(this.outputBytes+=o.length,this.push(Buffer.from(o,'ascii'))),setImmediate(u)}_flush(t){this._remainingBytes&&this._remainingBytes.length&&(this._curLine+=n(this._remainingBytes)),this._curLine&&(this.outputBytes+=this._curLine.length,this.push(Buffer.from(this._curLine,'ascii')),this._curLine=''),t()}}}},7137,[469]);
__d(function(g,r,_i,a,m,e,d){'use strict';const t=r(d[0]).Transform;function n(t){'string'==typeof t&&(t=Buffer.from(t,'utf-8'));let n,s=[[9],[10],[13],[32,60],[62,126]],i='';for(let l=0,u=t.length;l<u;l++)n=t[l],h(n,s)&&(32!==n&&9!==n||l!==u-1&&10!==t[l+1]&&13!==t[l+1])?i+=String.fromCharCode(n):i+='='+(n<16?'0':'')+n.toString(16).toUpperCase();return i}function s(t,n){if(n=n||76,(t=(t||'').toString()).length<=n)return t;let s,h,i,l=0,u=t.length,o=Math.floor(n/3),f='';for(;l<u;)if(i=t.substr(l,n),s=i.match(/\r\n/))i=i.substr(0,s.index+s[0].length),f+=i,l+=i.length;else if('\n'!==i.substr(-1))if(s=i.substr(-o).match(/\n.*?$/))i=i.substr(0,i.length-(s[0].length-1)),f+=i,l+=i.length;else{if(i.length>n-o&&(s=i.substr(-o).match(/[ \t.,!?][^ \t.,!?]*$/)))i=i.substr(0,i.length-(s[0].length-1));else if(i.match(/[=][\da-f]{0,2}$/i))for((s=i.match(/[=][\da-f]{0,1}$/i))&&(i=i.substr(0,i.length-s[0].length));i.length>3&&i.length<u-l&&!i.match(/^(?:=[\da-f]{2}){1,4}$/i)&&(s=i.match(/[=][\da-f]{2}$/gi))&&(h=parseInt(s[0].substr(1,2),16),!(h<128))&&(i=i.substr(0,i.length-3),!(h>=192)););l+i.length<u&&'\n'!==i.substr(-1)?(i.length===n&&i.match(/[=][\da-f]{2}$/i)?i=i.substr(0,i.length-3):i.length===n&&(i=i.substr(0,i.length-1)),l+=i.length,i+='=\r\n'):l+=i.length,f+=i}else f+=i,l+=i.length;return f}function h(t,n){for(let s=n.length-1;s>=0;s--)if(n[s].length){if(1===n[s].length&&t===n[s][0])return!0;if(2===n[s].length&&t>=n[s][0]&&t<=n[s][1])return!0}return!1}m.exports={encode:n,wrap:s,Encoder:class extends t{constructor(t){super(),this.options=t||{},!1!==this.options.lineLength&&(this.options.lineLength=this.options.lineLength||76),this._curLine='',this.inputBytes=0,this.outputBytes=0}_transform(t,h,i){let l;if('buffer'!==h&&(t=Buffer.from(t,h)),!t||!t.length)return i();this.inputBytes+=t.length,this.options.lineLength?(l=this._curLine+n(t),l=s(l,this.options.lineLength),l=l.replace(/(^|\n)([^\n]*)$/,(t,n,s)=>(this._curLine=s,n)),l&&(this.outputBytes+=l.length,this.push(l))):(l=n(t),this.outputBytes+=l.length,this.push(l,'ascii')),i()}_flush(t){this._curLine&&(this.outputBytes+=this._curLine.length,this.push(this._curLine,'ascii')),t()}}}},7138,[469]);
__d(function(g,r,_i,a,m,e,d){'use strict';function t(t){let s,o,i,h=!1,l='text',u=[],c={address:[],comment:[],group:[],text:[],textWasQuoted:[]},p=!1;for(o=0,i=t.length;o<i;o++){let s=t[o],n=o?t[o-1]:null;if('operator'===s.type)switch(s.value){case'<':l='address',p=!1;break;case'(':l='comment',p=!1;break;case':':l='group',h=!0,p=!1;break;case'"':p=!p,l='text';break;default:l='text',p=!1}else s.value&&('address'===l&&(s.value=s.value.replace(/^[^<]*<\s*/,'')),n&&n.noBreak&&c[l].length?(c[l][c[l].length-1]+=s.value,'text'===l&&p&&(c.textWasQuoted[c.textWasQuoted.length-1]=!0)):(c[l].push(s.value),'text'===l&&c.textWasQuoted.push(p)))}if(!c.text.length&&c.comment.length&&(c.text=c.comment,c.comment=[]),h){c.text=c.text.join(' ');let t=[];if(c.group.length){n(c.group.join(',')).forEach(s=>{s.group?t=t.concat(s.group):t.push(s)})}u.push({name:c.text||s&&s.name,group:t})}else{if(!c.address.length&&c.text.length){for(o=c.text.length-1;o>=0;o--)if(!c.textWasQuoted[o]&&c.text[o].match(/^[^@\s]+@[^@\s]+$/)){c.address=c.text.splice(o,1),c.textWasQuoted.splice(o,1);break}let t=function(t){return c.address.length?t:(c.address=[t.trim()],' ')};if(!c.address.length)for(o=c.text.length-1;o>=0&&(c.textWasQuoted[o]||(c.text[o]=c.text[o].replace(/\s*\b[^@\s]+@[^\s]+\b\s*/,t).trim(),!c.address.length));o--);}if(!c.text.length&&c.comment.length&&(c.text=c.comment,c.comment=[]),c.address.length>1&&(c.text=c.text.concat(c.address.splice(1))),c.text=c.text.join(' '),c.address=c.address.join(' '),!c.address&&h)return[];s={address:c.address||c.text||'',name:c.text||c.address||''},s.address===s.name&&((s.address||'').match(/@/)?s.name='':s.address=''),u.push(s)}return u}class s{constructor(t){this.str=(t||'').toString(),this.operatorCurrent='',this.operatorExpecting='',this.node=null,this.escaped=!1,this.list=[],this.operators={'"':'"','(':')','<':'>',',':'',':':';',';':''}}tokenize(){let t=[];for(let t=0,s=this.str.length;t<s;t++){let n=this.str.charAt(t),o=t<s-1?this.str.charAt(t+1):null;this.checkChar(n,o)}return this.list.forEach(s=>{s.value=(s.value||'').toString().trim(),s.value&&t.push(s)}),t}checkChar(t,s){if(this.escaped);else{if(t===this.operatorExpecting)return this.node={type:'operator',value:t},s&&![' ','\t','\r','\n',',',';'].includes(s)&&(this.node.noBreak=!0),this.list.push(this.node),this.node=null,this.operatorExpecting='',void(this.escaped=!1);if(!this.operatorExpecting&&t in this.operators)return this.node={type:'operator',value:t},this.list.push(this.node),this.node=null,this.operatorExpecting=this.operators[t],void(this.escaped=!1);if(['"',"'"].includes(this.operatorExpecting)&&'\\'===t)return void(this.escaped=!0)}this.node||(this.node={type:'text',value:''},this.list.push(this.node)),'\n'===t&&(t=' '),(t.charCodeAt(0)>=33||[' ','\t'].includes(t))&&(this.node.value+=t),this.escaped=!1}}function n(n,o){o=o||{};let i=new s(n).tokenize(),h=[],l=[],u=[];if(i.forEach(t=>{'operator'!==t.type||','!==t.value&&';'!==t.value?l.push(t):(l.length&&h.push(l),l=[])}),l.length&&h.push(l),h.forEach(s=>{(s=t(s)).length&&(u=u.concat(s))}),o.flatten){let t=[],s=n=>{n.forEach(n=>{if(n.group)return s(n.group);t.push(n)})};return s(u),t}return u}m.exports=n},7139,[]);
__d(function(g,r,i,a,m,e,d){'use strict';const t=r(d[0]).Transform;m.exports=class extends t{constructor(){super(),this.lastByte=!1}_transform(t,s,h){t.length&&(this.lastByte=t[t.length-1]),this.push(t),h()}_flush(t){return 10===this.lastByte?t():13===this.lastByte?(this.push(Buffer.from('\n')),t()):(this.push(Buffer.from('\r\n')),t())}}},7140,[469]);
__d(function(g,r,_i,a,m,e,d){'use strict';const s=r(d[0]).Transform;m.exports=class extends s{constructor(s){super(s),this.options=s||{},this.lastByte=!1}_transform(s,t,h){let i,n=0;for(let t=0,h=s.length;t<h;t++)10===s[t]&&(t&&13!==s[t-1]||!t&&13!==this.lastByte)&&(t>n&&(i=s.slice(n,t),this.push(i)),this.push(Buffer.from('\r\n')),n=t+1);n&&n<s.length?(i=s.slice(n),this.push(i)):n||this.push(s),this.lastByte=s[s.length-1],h()}}},7141,[469]);
__d(function(g,r,_i,a,m,e,d){'use strict';const s=r(d[0]).Transform;m.exports=class extends s{constructor(s){super(s),this.options=s||{}}_transform(s,t,n){let o,h=0;for(let t=0,n=s.length;t<n;t++)13===s[t]&&(o=s.slice(h,t),h=t+1,this.push(o));h&&h<s.length?(o=s.slice(h),this.push(o)):h||this.push(s),n()}}},7142,[469]);
__d(function(g,r,i,a,m,e,d){'use strict';const t=r(d[0]),s=r(d[1]),h=r(d[2]),o=r(d[3]).PassThrough,n=r(d[4]),c=r(d[5]),u=r(d[6]);class l{constructor(t,s,h,o){this.options=t||{},this.keys=s,this.cacheTreshold=Number(this.options.cacheTreshold)||2097152,this.hashAlgo=this.options.hashAlgo||"sha256",this.cacheDir=this.options.cacheDir||!1,this.chunks=[],this.chunklen=0,this.readPos=0,this.cachePath=!!this.cacheDir&&c.join(this.cacheDir,'message.'+Date.now()+'-'+u.randomBytes(14).toString('hex')),this.cache=!1,this.headers=!1,this.bodyHash=!1,this.parser=!1,this.relaxedBody=!1,this.input=h,this.output=o,this.output.usingCache=!1,this.hasErrored=!1,this.input.on('error',t=>{this.hasErrored=!0,this.cleanup(),o.emit('error',t)})}cleanup(){this.cache&&this.cachePath&&n.unlink(this.cachePath,()=>!1)}createReadCache(){this.cache=n.createReadStream(this.cachePath),this.cache.once('error',t=>{this.cleanup(),this.output.emit('error',t)}),this.cache.once('close',()=>{this.cleanup()}),this.cache.pipe(this.output)}sendNextChunk(){if(this.hasErrored)return;if(this.readPos>=this.chunks.length)return this.cache?this.createReadCache():this.output.end();let t=this.chunks[this.readPos++];if(!1===this.output.write(t))return this.output.once('drain',()=>{this.sendNextChunk()});setImmediate(()=>this.sendNextChunk())}sendSignedOutput(){let t=0,s=()=>{if(t>=this.keys.length)return this.output.write(this.parser.rawHeaders),setImmediate(()=>this.sendNextChunk());let o=this.keys[t++],n=h(this.headers,this.hashAlgo,this.bodyHash,{domainName:o.domainName,keySelector:o.keySelector,privateKey:o.privateKey,headerFieldNames:this.options.headerFieldNames,skipFields:this.options.skipFields});return n&&this.output.write(Buffer.from(n+'\r\n')),setImmediate(s)};if(this.bodyHash&&this.headers)return s();this.output.write(this.parser.rawHeaders),this.sendNextChunk()}createWriteCache(){this.output.usingCache=!0,this.cache=n.createWriteStream(this.cachePath),this.cache.once('error',t=>{this.cleanup(),this.relaxedBody.unpipe(this.cache),this.relaxedBody.on('readable',()=>{for(;null!==this.relaxedBody.read(););}),this.hasErrored=!0,this.output.emit('error',t)}),this.cache.once('close',()=>{this.sendSignedOutput()}),this.relaxedBody.removeAllListeners('readable'),this.relaxedBody.pipe(this.cache)}signStream(){this.parser=new t,this.relaxedBody=new s({hashAlgo:this.hashAlgo}),this.parser.on('headers',t=>{this.headers=t}),this.relaxedBody.on('hash',t=>{this.bodyHash=t}),this.relaxedBody.on('readable',()=>{let t;if(!this.cache)for(;null!==(t=this.relaxedBody.read());)if(this.chunks.push(t),this.chunklen+=t.length,this.chunklen>=this.cacheTreshold&&this.cachePath)return this.createWriteCache()}),this.relaxedBody.on('end',()=>{this.cache||this.sendSignedOutput()}),this.parser.pipe(this.relaxedBody),setImmediate(()=>this.input.pipe(this.parser))}}m.exports=class{constructor(t){this.options=t||{},this.keys=[].concat(this.options.keys||{domainName:t.domainName,keySelector:t.keySelector,privateKey:t.privateKey})}sign(t,s){let h=new o,n=t,c=!1;Buffer.isBuffer(t)?(c=t,n=new o):'string'==typeof t&&(c=Buffer.from(t),n=new o);let u=this.options;s&&Object.keys(s).length&&(u={},Object.keys(this.options||{}).forEach(t=>{u[t]=this.options[t]}),Object.keys(s||{}).forEach(t=>{t in u||(u[t]=s[t])}));let p=new l(u,this.keys,n,h);return setImmediate(()=>{p.signStream(),c&&setImmediate(()=>{n.end(c)})}),h}}},7143,[7144,7145,7146,469,994,995,467]);
__d(function(g,r,_i,a,m,e,d){'use strict';const t=r(d[0]).Transform;m.exports=class extends t{constructor(t){super(t),this.lastBytes=Buffer.alloc(4),this.headersParsed=!1,this.headerBytes=0,this.headerChunks=[],this.rawHeaders=!1,this.bodySize=0}updateLastBytes(t){let s=this.lastBytes.length,h=Math.min(t.length,s);for(let t=0,i=s-h;t<i;t++)this.lastBytes[t]=this.lastBytes[t+h];for(let i=1;i<=h;i++)this.lastBytes[s-i]=t[t.length-i]}checkHeaders(t){if(this.headersParsed)return!0;let s=this.lastBytes.length,h=0;this.curLinePos=0;for(let i=0,l=this.lastBytes.length+t.length;i<l;i++){let l;if(l=i<s?this.lastBytes[i]:t[i-s],10===l&&i){let l=i-1<s?this.lastBytes[i-1]:t[i-1-s],n=i>1&&(i-2<s?this.lastBytes[i-2]:t[i-2-s]);if(10===l){this.headersParsed=!0,h=i-s+1,this.headerBytes+=h;break}if(13===l&&10===n){this.headersParsed=!0,h=i-s+1,this.headerBytes+=h;break}}}if(this.headersParsed){if(this.headerChunks.push(t.slice(0,h)),this.rawHeaders=Buffer.concat(this.headerChunks,this.headerBytes),this.headerChunks=null,this.emit('headers',this.parseHeaders()),t.length-1>h){let s=t.slice(h);this.bodySize+=s.length,setImmediate(()=>this.push(s))}return!1}return this.headerBytes+=t.length,this.headerChunks.push(t),this.updateLastBytes(t),!1}_transform(t,s,h){if(!t||!t.length)return h();let i;'string'==typeof t&&(t=Buffer.from(t,s));try{i=this.checkHeaders(t)}catch(t){return h(t)}i&&(this.bodySize+=t.length,this.push(t)),setImmediate(h)}_flush(t){if(this.headerChunks){let t=Buffer.concat(this.headerChunks,this.headerBytes);this.bodySize+=t.length,this.push(t),this.headerChunks=null}t()}parseHeaders(){let t=(this.rawHeaders||'').toString().split(/\r?\n/);for(let s=t.length-1;s>0;s--)/^\s/.test(t[s])&&(t[s-1]+='\n'+t[s],t.splice(s,1));return t.filter(t=>t.trim()).map(t=>({key:t.substr(0,t.indexOf(':')).trim().toLowerCase(),line:t}))}}},7144,[469]);
__d(function(g,r,_i,a,m,e,d){'use strict';const t=r(d[0]).Transform,i=r(d[1]);m.exports=class extends t{constructor(t){super(),t=t||{},this.chunkBuffer=[],this.chunkBufferLen=0,this.bodyHash=i.createHash(t.hashAlgo||'sha1'),this.remainder='',this.byteLength=0,this.debug=t.debug,this._debugBody=!!t.debug&&[]}updateHash(t){let i,s='',h='file';for(let i=t.length-1;i>=0;i--){let n=t[i];if('file'!==h||10!==n&&13!==n)if('file'!==h||9!==n&&32!==n)if('line'!==h||9!==n&&32!==n){if(('file'===h||'line'===h)&&(h='body',i===t.length-1))break}else;else h='line';else;if(0===i){if('file'===h&&(!this.remainder||/[\r\n]$/.test(this.remainder))||'line'===h&&(!this.remainder||/[ \t]$/.test(this.remainder)))return void(this.remainder+=t.toString('binary'));if('line'===h||'file'===h){s=t.toString('binary'),t=!1;break}}if('body'===h){s=t.slice(i+1).toString('binary'),t=t.slice(0,i+1);break}}let n=!!this.remainder;if(t&&!n)for(let i=0,s=t.length;i<s;i++){if(i&&10===t[i]&&13!==t[i-1]){n=!0;break}if(i&&13===t[i]&&32===t[i-1]){n=!0;break}if(i&&32===t[i]&&32===t[i-1]){n=!0;break}if(9===t[i]){n=!0;break}}n?(i=this.remainder+(t?t.toString('binary'):''),this.remainder=s,i=i.replace(/\r?\n/g,'\n').replace(/[ \t]*$/gm,'').replace(/[ \t]+/gm,' ').replace(/\n/g,'\r\n'),t=Buffer.from(i,'binary')):s&&(this.remainder=s),this.debug&&this._debugBody.push(t),this.bodyHash.update(t)}_transform(t,i,s){if(!t||!t.length)return s();'string'==typeof t&&(t=Buffer.from(t,i)),this.updateHash(t),this.byteLength+=t.length,this.push(t),s()}_flush(t){/[\r\n]$/.test(this.remainder)&&this.byteLength>2&&this.bodyHash.update(Buffer.from('\r\n')),this.byteLength||this.push(Buffer.from('\r\n')),this.emit('hash',this.bodyHash.digest('base64'),!!this.debug&&Buffer.concat(this._debugBody)),t()}}},7145,[469,467]);
__d(function(g,r,_i,a,m,e,d){'use strict';const t=r(d[0]),s=r(d[1]),n=r(d[2]);function i(n,i,o,c,l){let p=['v=1','a=rsa-'+c,'c=relaxed/relaxed','d='+t.toASCII(n),'q=dns/txt','s='+i,'bh='+l,'h='+o].join('; ');return s.foldLines('DKIM-Signature: '+p,76)+';\r\n b='}function o(t,s,n){let i=new Set,o=new Set,l=new Map;(n||'').toLowerCase().split(':').forEach(t=>{o.add(t.trim())}),(s||'').toLowerCase().split(':').filter(t=>!o.has(t.trim())).forEach(t=>{i.add(t.trim())});for(let s=t.length-1;s>=0;s--){let n=t[s];i.has(n.key)&&!l.has(n.key)&&l.set(n.key,c(n.line))}let p=[],u=[];return i.forEach(t=>{l.has(t)&&(u.push(t),p.push(t+':'+l.get(t)))}),{headers:p.join('\r\n')+'\r\n',fieldNames:u.join(':')}}function c(t){return t.substr(t.indexOf(':')+1).replace(/\r?\n/g,'').replace(/\s+/g,' ').trim()}m.exports=(t,s,l,p)=>{let u,h,f=o(t,(p=p||{}).headerFieldNames||"From:Sender:Reply-To:Subject:Date:Message-ID:To:Cc:MIME-Version:Content-Type:Content-Transfer-Encoding:Content-ID:Content-Description:Resent-Date:Resent-From:Resent-Sender:Resent-To:Resent-Cc:Resent-Message-ID:In-Reply-To:References:List-Id:List-Help:List-Unsubscribe:List-Subscribe:List-Post:List-Owner:List-Archive",p.skipFields),C=i(p.domainName,p.keySelector,f.fieldNames,s,l);f.headers+='dkim-signature:'+c(C),u=n.createSign(('rsa-'+s).toUpperCase()),u.update(f.headers);try{h=u.sign(p.privateKey,'base64')}catch(t){return!1}return C+h.replace(/(^.{73}|.{75}(?!\r?\n|\r))/g,'$&\r\n ').trim()},m.exports.relaxedHeaders=o},7146,[7135,7136,467]);
__d(function(g,r,i,a,m,e,d){'use strict';const t=r(d[0]),o=r(d[1]),n=r(d[2]);m.exports=function s(c,u,h,f){let l,p,b,y=n.parse(c);l={host:y.hostname,port:Number(y.port)?Number(y.port):'https:'===y.protocol?443:80},'https:'===y.protocol?(l.rejectUnauthorized=!1,p=o.connect.bind(o)):p=t.connect.bind(t);let T=!1,x=t=>{if(!T){T=!0;try{b.destroy()}catch(t){}f(t)}},E=()=>{let t=new Error('Proxy socket timed out');t.code='ETIMEDOUT',x(t)};b=p(l,()=>{if(T)return;let t={Host:h+':'+u,Connection:'close'};y.auth&&(t['Proxy-Authorization']='Basic '+Buffer.from(y.auth).toString('base64')),b.write('CONNECT '+h+':'+u+' HTTP/1.1\r\n'+Object.keys(t).map(o=>o+': '+t[o]).join('\r\n')+'\r\n\r\n');let o='',n=t=>{let s,c;if(!T&&(o+=t.toString('binary'),s=o.match(/\r\n\r\n/))){if(b.removeListener('data',n),c=o.substr(s.index+s[0].length),o=o.substr(0,s.index),c&&b.unshift(Buffer.from(c,'binary')),T=!0,s=o.match(/^HTTP\/\d+\.\d+ (\d+)/i),!s||'2'!==(s[1]||'').charAt(0)){try{b.destroy()}catch(t){}return f(new Error('Invalid response from proxy'+(s&&': '+s[1]||'')))}return b.removeListener('error',x),b.removeListener('timeout',E),b.setTimeout(0),f(null,b)}};b.on('data',n)}),b.setTimeout(s.timeout||3e4),b.on('timeout',E),b.once('error',x)}},7147,[985,986,987]);
__d(function(g,r,_i,a,m,e,d){'use strict';const t=r(d[0]),s=r(d[1]),i=r(d[2]);m.exports=class{constructor(t,s){this.mailer=t,this.data={},this.message=null,s=s||{};let i=t.options||{},n=t._defaults||{};Object.keys(s).forEach(t=>{this.data[t]=s[t]}),this.data.headers=this.data.headers||{},Object.keys(n).forEach(t=>{t in this.data?'headers'===t&&Object.keys(n.headers).forEach(t=>{t in this.data.headers||(this.data.headers[t]=n.headers[t])}):this.data[t]=n[t]}),['disableFileAccess','disableUrlAccess','normalizeHeaderKey'].forEach(t=>{t in i&&(this.data[t]=i[t])})}resolveContent(...s){return t.resolveContent(...s)}resolveAll(n){let o=[[this.data,'html'],[this.data,'text'],[this.data,'watchHtml'],[this.data,'amp'],[this.data,'icalEvent']];this.data.alternatives&&this.data.alternatives.length&&this.data.alternatives.forEach((t,s)=>{o.push([this.data.alternatives,s])}),this.data.attachments&&this.data.attachments.length&&this.data.attachments.forEach((t,s)=>{t.filename||(t.filename=(t.path||t.href||'').split('/').pop().split('?').shift()||'attachment-'+(s+1),t.filename.indexOf('.')<0&&(t.filename+='.'+i.detectExtension(t.contentType))),t.contentType||(t.contentType=i.detectMimeType(t.filename||t.path||t.href||'bin')),o.push([this.data.attachments,s])});let h=new s;['from','to','cc','bcc','sender','replyTo'].forEach(t=>{let s;this.message?s=[].concat(h._parseAddresses(this.message.getHeader('replyTo'===t?'reply-to':t))||[]):this.data[t]&&(s=[].concat(h._parseAddresses(this.data[t])||[])),s&&s.length?this.data[t]=s:t in this.data&&(this.data[t]=null)});['from','sender'].forEach(t=>{this.data[t]&&(this.data[t]=this.data[t].shift())});let l=0,c=()=>{if(l>=o.length)return n(null,this.data);let s=o[l++];if(!s[0]||!s[0][s[1]])return c();t.resolveContent(...s,(t,i)=>{if(t)return n(t);let o={content:i};s[0][s[1]]&&'object'==typeof s[0][s[1]]&&!Buffer.isBuffer(s[0][s[1]])&&Object.keys(s[0][s[1]]).forEach(t=>{t in o||['content','path','href','raw'].includes(t)||(o[t]=s[0][s[1]][t])}),s[0][s[1]]=o,c()})};setImmediate(()=>c())}normalize(t){let s=this.data.envelope||this.message.getEnvelope(),i=this.message.messageId();this.resolveAll((n,o)=>{if(n)return t(n);if(o.envelope=s,o.messageId=i,['html','text','watchHtml','amp'].forEach(t=>{o[t]&&o[t].content&&('string'==typeof o[t].content?o[t]=o[t].content:Buffer.isBuffer(o[t].content)&&(o[t]=o[t].content.toString()))}),o.icalEvent&&Buffer.isBuffer(o.icalEvent.content)&&(o.icalEvent.content=o.icalEvent.content.toString('base64'),o.icalEvent.encoding='base64'),o.alternatives&&o.alternatives.length&&o.alternatives.forEach(t=>{t&&t.content&&Buffer.isBuffer(t.content)&&(t.content=t.content.toString('base64'),t.encoding='base64')}),o.attachments&&o.attachments.length&&o.attachments.forEach(t=>{t&&t.content&&Buffer.isBuffer(t.content)&&(t.content=t.content.toString('base64'),t.encoding='base64')}),o.normalizedHeaders={},Object.keys(o.headers||{}).forEach(t=>{let s=[].concat(o.headers[t]||[]).shift();s=s&&s.value||s,s&&(['references','in-reply-to','message-id','content-id'].includes(t)&&(s=this.message._encodeHeaderValue(t,s)),o.normalizedHeaders[t]=s)}),o.list&&'object'==typeof o.list){this._getListHeaders(o.list).forEach(t=>{o.normalizedHeaders[t.key]=t.value.map(t=>t&&t.value||t).join(', ')})}return o.references&&(o.normalizedHeaders.references=this.message._encodeHeaderValue('references',o.references)),o.inReplyTo&&(o.normalizedHeaders['in-reply-to']=this.message._encodeHeaderValue('in-reply-to',o.inReplyTo)),t(null,o)})}setMailerHeader(){this.message&&this.data.xMailer&&this.message.setHeader('X-Mailer',this.data.xMailer)}setPriorityHeaders(){if(this.message&&this.data.priority)switch((this.data.priority||'').toString().toLowerCase()){case'high':this.message.setHeader('X-Priority','1 (Highest)'),this.message.setHeader('X-MSMail-Priority','High'),this.message.setHeader('Importance','High');break;case'low':this.message.setHeader('X-Priority','5 (Lowest)'),this.message.setHeader('X-MSMail-Priority','Low'),this.message.setHeader('Importance','Low')}}setListHeaders(){this.message&&this.data.list&&'object'==typeof this.data.list&&this.data.list&&'object'==typeof this.data.list&&this._getListHeaders(this.data.list).forEach(t=>{t.value.forEach(s=>{this.message.addHeader(t.key,s)})})}_getListHeaders(t){return Object.keys(t).map(s=>({key:'list-'+s.toLowerCase().trim(),value:[].concat(t[s]||[]).map(t=>({prepared:!0,foldLines:!0,value:[].concat(t||[]).map(t=>{if('string'==typeof t&&(t={url:t}),t&&t.url){if('id'===s.toLowerCase().trim()){let s=t.comment||'';return s=i.isPlainText(s)?'"'+s+'"':i.encodeWord(s),(t.comment?s+' ':'')+this._formatListUrl(t.url).replace(/^<[^:]+\/{,2}/,'')}let n=t.comment||'';return i.isPlainText(n)||(n=i.encodeWord(n)),this._formatListUrl(t.url)+(t.comment?' ('+n+')':'')}return''}).filter(t=>t).join(', ')}))}))}_formatListUrl(t){return t=t.replace(/[\s<]+|[\s>]+/g,''),/^(https?|mailto|ftp):/.test(t)?'<'+t+'>':/^[^@]+@[^@]+$/.test(t)?'<mailto:'+t+'>':'<http://'+t+'>'}}},7148,[7127,7134,7136]);
__d(function(g,r,_i,a,m,e,d){'use strict';const t=r(d[0]),i=r(d[1]),s=r(d[2]),n=r(d[3]),o=r(d[4]),c=r(d[5]);m.exports=class extends t{constructor(t){let i;super(),'string'==typeof(t=t||{})&&(t={url:t});let l=t.service;'function'==typeof t.getSocket&&(this.getSocket=t.getSocket),t.url&&(i=o.parseConnectionUrl(t.url),l=l||i.service),this.options=o.assign(!1,t,i,l&&n(l)),this.options.maxConnections=this.options.maxConnections||5,this.options.maxMessages=this.options.maxMessages||100,this.logger=o.getLogger(this.options,{component:this.options.component||'smtp-pool'});let u=new s(this.options);this.name='SMTP (pool)',this.version=c.version+'[client:'+u.version+']',this._rateLimit={counter:0,timeout:null,waiting:[],checkpoint:!1,delta:Number(this.options.rateDelta)||1e3,limit:Number(this.options.rateLimit)||0},this._closed=!1,this._queue=[],this._connections=[],this._connectionCounter=0,this.idling=!0,setImmediate(()=>{this.idling&&this.emit('idle')})}getSocket(t,i){return setImmediate(()=>i(null,!1))}send(t,i){return!this._closed&&(this._queue.push({mail:t,requeueAttempts:0,callback:i}),this.idling&&this._queue.length>=this.options.maxConnections&&(this.idling=!1),setImmediate(()=>this._processMessages()),!0)}close(){let t,i=this._connections.length;if(this._closed=!0,clearTimeout(this._rateLimit.timeout),!i&&!this._queue.length)return;for(let s=i-1;s>=0;s--)this._connections[s]&&this._connections[s].available&&(t=this._connections[s],t.close(),this.logger.info({tnx:'connection',cid:t.id,action:'removed'},'Connection #%s removed',t.id));if(i&&!this._connections.length&&this.logger.debug({tnx:'connection'},'All connections removed'),!this._queue.length)return;let s=()=>{if(!this._queue.length)return void this.logger.debug({tnx:'connection'},'Pending queue entries cleared');let i=this._queue.shift();if(i&&'function'==typeof i.callback)try{i.callback(new Error('Connection pool was closed'))}catch(i){this.logger.error({err:i,tnx:'callback',cid:t.id},'Callback error for #%s: %s',t.id,i.message)}setImmediate(s)};setImmediate(s)}_processMessages(){let t,i,s;if(this._closed)return;if(!this._queue.length)return void(this.idling||(this.idling=!0,this.emit('idle')));for(i=0,s=this._connections.length;i<s;i++)if(this._connections[i].available){t=this._connections[i];break}if(!t&&this._connections.length<this.options.maxConnections&&(t=this._createConnection()),!t)return void(this.idling=!1);!this.idling&&this._queue.length<this.options.maxConnections&&(this.idling=!0,this.emit('idle'));let n=t.queueEntry=this._queue.shift();n.messageId=(t.queueEntry.mail.message.getHeader('message-id')||'').replace(/[<>\s]/g,''),t.available=!1,this.logger.debug({tnx:'pool',cid:t.id,messageId:n.messageId,action:'assign'},'Assigned message <%s> to #%s (%s)',n.messageId,t.id,t.messages+1),this._rateLimit.limit&&(this._rateLimit.counter++,this._rateLimit.checkpoint||(this._rateLimit.checkpoint=Date.now())),t.send(n.mail,(i,s)=>{if(n===t.queueEntry){try{n.callback(i,s)}catch(i){this.logger.error({err:i,tnx:'callback',cid:t.id},'Callback error for #%s: %s',t.id,i.message)}t.queueEntry=!1}})}_createConnection(){let t=new i(this);return t.id=++this._connectionCounter,this.logger.info({tnx:'pool',cid:t.id,action:'conection'},'Created new pool resource #%s',t.id),t.on('available',()=>{this.logger.debug({tnx:'connection',cid:t.id,action:'available'},'Connection #%s became available',t.id),this._closed?this.close():this._processMessages()}),t.once('error',i=>{if('EMAXLIMIT'!==i.code?this.logger.error({err:i,tnx:'pool',cid:t.id},'Pool Error for #%s: %s',t.id,i.message):this.logger.debug({tnx:'pool',cid:t.id,action:'maxlimit'},'Max messages limit exchausted for #%s',t.id),t.queueEntry){try{t.queueEntry.callback(i)}catch(i){this.logger.error({err:i,tnx:'callback',cid:t.id},'Callback error for #%s: %s',t.id,i.message)}t.queueEntry=!1}this._removeConnection(t),this._continueProcessing()}),t.once('close',()=>{this.logger.info({tnx:'connection',cid:t.id,action:'closed'},'Connection #%s was closed',t.id),this._removeConnection(t),t.queueEntry?setTimeout(()=>{t.queueEntry&&(this._shouldRequeuOnConnectionClose(t.queueEntry)?this._requeueEntryOnConnectionClose(t):this._failDeliveryOnConnectionClose(t)),this._continueProcessing()},50):(this._closed||!this.idling||this._connections.length||this.emit('clear'),this._continueProcessing())}),this._connections.push(t),t}_shouldRequeuOnConnectionClose(t){return void 0===this.options.maxRequeues||this.options.maxRequeues<0||t.requeueAttempts<this.options.maxRequeues}_failDeliveryOnConnectionClose(t){if(t.queueEntry&&t.queueEntry.callback){try{t.queueEntry.callback(new Error('Reached maximum number of retries after connection was closed'))}catch(i){this.logger.error({err:i,tnx:'callback',messageId:t.queueEntry.messageId,cid:t.id},'Callback error for #%s: %s',t.id,i.message)}t.queueEntry=!1}}_requeueEntryOnConnectionClose(t){t.queueEntry.requeueAttempts=t.queueEntry.requeueAttempts+1,this.logger.debug({tnx:'pool',cid:t.id,messageId:t.queueEntry.messageId,action:'requeue'},'Re-queued message <%s> for #%s. Attempt: #%s',t.queueEntry.messageId,t.id,t.queueEntry.requeueAttempts),this._queue.unshift(t.queueEntry),t.queueEntry=!1}_continueProcessing(){this._closed?this.close():setTimeout(()=>this._processMessages(),100)}_removeConnection(t){let i=this._connections.indexOf(t);-1!==i&&this._connections.splice(i,1)}_checkRateLimit(t){if(!this._rateLimit.limit)return t();let i=Date.now();return this._rateLimit.counter<this._rateLimit.limit?t():(this._rateLimit.waiting.push(t),this._rateLimit.checkpoint<=i-this._rateLimit.delta?this._clearRateLimit():void(this._rateLimit.timeout||(this._rateLimit.timeout=setTimeout(()=>this._clearRateLimit(),this._rateLimit.delta-(i-this._rateLimit.checkpoint)),this._rateLimit.checkpoint=i)))}_clearRateLimit(){for(clearTimeout(this._rateLimit.timeout),this._rateLimit.timeout=null,this._rateLimit.counter=0,this._rateLimit.checkpoint=!1;this._rateLimit.waiting.length;){let t=this._rateLimit.waiting.shift();setImmediate(t)}}isIdle(){return this.idling}verify(t){let n;t||(n=new Promise((i,s)=>{t=o.callbackPromise(i,s)}));let c=new i(this).auth;return this.getSocket(this.options,(i,n)=>{if(i)return t(i);let l=this.options;n&&n.connection&&(this.logger.info({tnx:'proxy',remoteAddress:n.connection.remoteAddress,remotePort:n.connection.remotePort,destHost:l.host||'',destPort:l.port||'',action:'connected'},'Using proxied socket from %s:%s to %s:%s',n.connection.remoteAddress,n.connection.remotePort,l.host||'',l.port||''),l=o.assign(!1,l),Object.keys(n).forEach(t=>{l[t]=n[t]}));let u=new s(l),h=!1;u.once('error',i=>{if(!h)return h=!0,u.close(),t(i)}),u.once('end',()=>{if(!h)return h=!0,t(new Error('Connection closed'))});let _=()=>{if(!h)return h=!0,u.quit(),t(null,!0)};u.connect(()=>{if(!h)if(c&&(u.allowsAuth||l.forceAuth))u.login(c,i=>{if(!h)return i?(h=!0,u.close(),t(i)):void _()});else{if(!c&&u.allowsAuth&&l.forceAuth){let i=new Error('Authentication info was not provided');return i.code='NoAuth',h=!0,u.close(),t(i)}_()}})}),n}}},7149,[984,7150,7151,7154,7127,7130]);
__d(function(g,r,i,a,m,e,d){'use strict';const t=r(d[0]),o=r(d[1]).assign,s=r(d[2]),n=r(d[3]);m.exports=class extends n{constructor(t){if(super(),this.pool=t,this.options=t.options,this.logger=this.pool.logger,this.options.auth)switch((this.options.auth.type||'').toString().toUpperCase()){case'OAUTH2':{let t=new s(this.options.auth,this.logger);t.provisionCallback=this.pool.mailer&&this.pool.mailer.get('oauth2_provision_cb')||t.provisionCallback,this.auth={type:'OAUTH2',user:this.options.auth.user,oauth2:t,method:'XOAUTH2'},t.on('token',t=>this.pool.mailer.emit('token',t)),t.on('error',t=>this.emit('error',t));break}default:if(!this.options.auth.user&&!this.options.auth.pass)break;this.auth={type:(this.options.auth.type||'').toString().toUpperCase()||'LOGIN',user:this.options.auth.user,credentials:{user:this.options.auth.user||'',pass:this.options.auth.pass,options:this.options.auth.options},method:(this.options.auth.method||'').trim().toUpperCase()||this.options.authMethod||!1}}this._connection=!1,this._connected=!1,this.messages=0,this.available=!0}connect(s){this.pool.getSocket(this.options,(n,h)=>{if(n)return s(n);let c=!1,l=this.options;h&&h.connection&&(this.logger.info({tnx:'proxy',remoteAddress:h.connection.remoteAddress,remotePort:h.connection.remotePort,destHost:l.host||'',destPort:l.port||'',action:'connected'},'Using proxied socket from %s:%s to %s:%s',h.connection.remoteAddress,h.connection.remotePort,l.host||'',l.port||''),l=o(!1,l),Object.keys(h).forEach(t=>{l[t]=h[t]})),this.connection=new t(l),this.connection.once('error',t=>{if(this.emit('error',t),!c)return c=!0,s(t)}),this.connection.once('end',()=>{if(this.close(),c)return;c=!0;let t=setTimeout(()=>{if(c)return;let t=new Error('Unexpected socket close');this.connection&&this.connection._socket&&this.connection._socket.upgrading&&(t.code='ETLS'),s(t)},1e3);try{t.unref()}catch(t){}}),this.connection.connect(()=>{if(!c)return this.auth&&(this.connection.allowsAuth||l.forceAuth)?void this.connection.login(this.auth,t=>{if(!c){if(c=!0,t)return this.connection.close(),this.emit('error',t),s(t);this._connected=!0,s(null,!0)}}):(c=!0,this._connected=!0,s(null,!0))})})}send(t,o){if(!this._connected)return this.connect(s=>s?o(s):this.send(t,o));let s=t.message.getEnvelope(),n=t.message.messageId(),h=[].concat(s.to||[]);h.length>3&&h.push('...and '+h.splice(2).length+' more'),this.logger.info({tnx:'send',messageId:n,cid:this.id},'Sending message %s using #%s to <%s>',n,this.id,h.join(', ')),t.data.dsn&&(s.dsn=t.data.dsn),this.connection.send(s,t.message.createReadStream(),(t,h)=>{if(this.messages++,t)return this.connection.close(),this.emit('error',t),o(t);h.envelope={from:s.from,to:s.to},h.messageId=n,setImmediate(()=>{let t;this.messages>=this.options.maxMessages?(t=new Error('Resource exhausted'),t.code='EMAXLIMIT',this.connection.close(),this.emit('error',t)):this.pool._checkRateLimit(()=>{this.available=!0,this.emit('available')})}),o(null,h)})}close(){this._connected=!1,this.auth&&this.auth.oauth2&&this.auth.oauth2.removeAllListeners(),this.connection&&this.connection.close(),this.emit('close')}}},7150,[7151,7127,7153,984]);
__d(function(g,r,_i,a,m,e,d){'use strict';const t=r(d[0]),s=r(d[1]).EventEmitter,i=r(d[2]),o=r(d[3]),n=r(d[4]),h=r(d[5]),c=r(d[6]),u=r(d[7]).PassThrough,_=r(d[8]),p=6e5;m.exports=class extends s{constructor(s){super(s),this.id=h.randomBytes(8).toString('base64').replace(/\W/g,''),this.stage='init',this.options=s||{},this.secureConnection=!!this.options.secure,this.alreadySecured=!!this.options.secured,this.port=Number(this.options.port)||(this.secureConnection?465:587),this.host=this.options.host||'localhost',this.servername=this.options.servername?this.options.servername:!i.isIP(this.host)&&this.host,this.allowInternalNetworkInterfaces=this.options.allowInternalNetworkInterfaces||!1,void 0===this.options.secure&&465===this.port&&(this.secureConnection=!0),this.name=this.options.name||this._getHostname(),this.logger=_.getLogger(this.options,{component:this.options.component||'smtp-connection',sid:this.id}),this.customAuth=new Map,Object.keys(this.options.customAuth||{}).forEach(t=>{let s=(t||'').toString().trim().toUpperCase();s&&this.customAuth.set(s,this.options.customAuth[t])}),this.version=t.version,this.authenticated=!1,this.destroyed=!1,this.secure=!!this.secureConnection,this._remainder='',this._responseQueue=[],this.lastServerResponse=!1,this._socket=!1,this._supportedAuth=[],this.allowsAuth=!1,this._envelope=!1,this._supportedExtensions=[],this._maxAllowedSize=0,this._responseActions=[],this._recipientQueue=[],this._greetingTimeout=!1,this._connectionTimeout=!1,this._destroyed=!1,this._closing=!1,this._onSocketData=t=>this._onData(t),this._onSocketError=t=>this._onError(t,'ESOCKET',!1,'CONN'),this._onSocketClose=()=>this._onClose(),this._onSocketEnd=()=>this._onEnd(),this._onSocketTimeout=()=>this._onTimeout()}connect(t){if('function'==typeof t){this.once('connect',()=>{this.logger.debug({tnx:'smtp'},'SMTP handshake finished'),t()});const s=this._isDestroyedMessage('connect');if(s)return t(this._formatError(s,'ECONNECTION',!1,'CONN'))}let s={port:this.port,host:this.host,allowInternalNetworkInterfaces:this.allowInternalNetworkInterfaces,timeout:this.options.dnsTimeout||3e4};this.options.localAddress&&(s.localAddress=this.options.localAddress);let n=()=>{this._connectionTimeout=setTimeout(()=>{this._onError('Connection timeout','ETIMEDOUT',!1,'CONN')},this.options.connectionTimeout||12e4),this._socket.on('error',this._onSocketError)};return this.options.connection?(this._socket=this.options.connection,n(),void(this.secureConnection&&!this.alreadySecured?setImmediate(()=>this._upgradeConnection(t=>{t?this._onError(new Error('Error initiating TLS - '+(t.message||t)),'ETLS',!1,'CONN'):this._onConnect()})):setImmediate(()=>this._onConnect()))):this.options.socket?(this._socket=this.options.socket,_.resolveHostname(s,(t,i)=>{if(t)return setImmediate(()=>this._onError(t,'EDNS',!1,'CONN'));this.logger.debug({tnx:'dns',source:s.host,resolved:i.host,cached:!!i.cached},'Resolved %s as %s [cache %s]',s.host,i.host,i.cached?'hit':'miss'),Object.keys(i).forEach(t=>{'_'!==t.charAt(0)&&i[t]&&(s[t]=i[t])});try{this._socket.connect(this.port,this.host,()=>{this._socket.setKeepAlive(!0),this._onConnect()}),n()}catch(t){return setImmediate(()=>this._onError(t,'ECONNECTION',!1,'CONN'))}})):this.secureConnection?(this.options.tls&&Object.keys(this.options.tls).forEach(t=>{s[t]=this.options.tls[t]}),this.servername&&!s.servername&&(s.servername=this.servername),_.resolveHostname(s,(t,i)=>{if(t)return setImmediate(()=>this._onError(t,'EDNS',!1,'CONN'));this.logger.debug({tnx:'dns',source:s.host,resolved:i.host,cached:!!i.cached},'Resolved %s as %s [cache %s]',s.host,i.host,i.cached?'hit':'miss'),Object.keys(i).forEach(t=>{'_'!==t.charAt(0)&&i[t]&&(s[t]=i[t])});try{this._socket=o.connect(s,()=>{this._socket.setKeepAlive(!0),this._onConnect()}),n()}catch(t){return setImmediate(()=>this._onError(t,'ECONNECTION',!1,'CONN'))}})):_.resolveHostname(s,(t,o)=>{if(t)return setImmediate(()=>this._onError(t,'EDNS',!1,'CONN'));this.logger.debug({tnx:'dns',source:s.host,resolved:o.host,cached:!!o.cached},'Resolved %s as %s [cache %s]',s.host,o.host,o.cached?'hit':'miss'),Object.keys(o).forEach(t=>{'_'!==t.charAt(0)&&o[t]&&(s[t]=o[t])});try{this._socket=i.connect(s,()=>{this._socket.setKeepAlive(!0),this._onConnect()}),n()}catch(t){return setImmediate(()=>this._onError(t,'ECONNECTION',!1,'CONN'))}})}quit(){this._sendCommand('QUIT'),this._responseActions.push(this.close)}close(){if(clearTimeout(this._connectionTimeout),clearTimeout(this._greetingTimeout),this._responseActions=[],this._closing)return;this._closing=!0;let t='end';'init'===this.stage&&(t='destroy'),this.logger.debug({tnx:'smtp'},'Closing connection to the server using "%s"',t);let s=this._socket&&this._socket.socket||this._socket;if(s&&!s.destroyed)try{s[t]()}catch(t){}this._destroy()}login(t,s){const i=this._isDestroyedMessage('login');if(i)return s(this._formatError(i,'ECONNECTION',!1,'API'));if(this._auth=t||{},this._authMethod=(this._auth.method||'').toString().trim().toUpperCase()||!1,this._authMethod||!this._auth.oauth2||this._auth.credentials?this._authMethod&&('XOAUTH2'!==this._authMethod||this._auth.oauth2)||(this._authMethod=(this._supportedAuth[0]||'PLAIN').toUpperCase().trim()):this._authMethod='XOAUTH2',!('XOAUTH2'===this._authMethod||this._auth.credentials&&this._auth.credentials.user&&this._auth.credentials.pass)){if(!(this._auth.user&&this._auth.pass||this.customAuth.has(this._authMethod)))return s(this._formatError('Missing credentials for "'+this._authMethod+'"','EAUTH',!1,'API'));this._auth.credentials={user:this._auth.user,pass:this._auth.pass,options:this._auth.options}}if(this.customAuth.has(this._authMethod)){let t,i=this.customAuth.get(this._authMethod),o=!1,n=()=>{o||(o=!0,this.logger.info({tnx:'smtp',username:this._auth.user,action:'authenticated',method:this._authMethod},'User %s authenticated',JSON.stringify(this._auth.user)),this.authenticated=!0,s(null,!0))},h=i=>{o||(o=!0,s(this._formatError(i,'EAUTH',t,'AUTH '+this._authMethod)))},c=i({auth:this._auth,method:this._authMethod,extensions:[].concat(this._supportedExtensions),authMethods:[].concat(this._supportedAuth),maxAllowedSize:this._maxAllowedSize||!1,sendCommand:(s,i)=>{let o;return i||(o=new Promise((t,s)=>{i=_.callbackPromise(t,s)})),this._responseActions.push(o=>{t=o;let n=o.match(/^(\d+)(?:\s(\d+\.\d+\.\d+))?\s/),h={command:s,response:o};n?(h.status=Number(n[1])||0,n[2]&&(h.code=n[2]),h.text=o.substr(n[0].length)):(h.text=o,h.status=0),i(null,h)}),setImmediate(()=>this._sendCommand(s)),o},resolve:n,reject:h});return void(c&&'function'==typeof c.catch&&c.then(n).catch(h))}switch(this._authMethod){case'XOAUTH2':return void this._handleXOauth2Token(!1,s);case'LOGIN':return this._responseActions.push(t=>{this._actionAUTH_LOGIN_USER(t,s)}),void this._sendCommand('AUTH LOGIN');case'PLAIN':return this._responseActions.push(t=>{this._actionAUTHComplete(t,s)}),void this._sendCommand('AUTH PLAIN '+Buffer.from('\0'+this._auth.credentials.user+'\0'+this._auth.credentials.pass,'utf-8').toString('base64'),'AUTH PLAIN '+Buffer.from('\0'+this._auth.credentials.user+"\0/* secret */",'utf-8').toString('base64'));case'CRAM-MD5':return this._responseActions.push(t=>{this._actionAUTH_CRAM_MD5(t,s)}),void this._sendCommand('AUTH CRAM-MD5')}return s(this._formatError('Unknown authentication method "'+this._authMethod+'"','EAUTH',!1,'API'))}send(t,s,i){if(!s)return i(this._formatError('Empty message','EMESSAGE',!1,'API'));const o=this._isDestroyedMessage('send message');if(o)return i(this._formatError(o,'ECONNECTION',!1,'API'));if(this._maxAllowedSize&&t.size>this._maxAllowedSize)return setImmediate(()=>{i(this._formatError('Message size larger than allowed '+this._maxAllowedSize,'EMESSAGE',!1,'MAIL FROM'))});let n=!1,h=function(){n||(n=!0,i(...arguments))};'function'==typeof s.on&&s.on('error',t=>h(this._formatError(t,'ESTREAM',!1,'API')));let c=Date.now();this._setEnvelope(t,(t,i)=>{if(t){let i=new u;return'function'==typeof s.pipe?s.pipe(i):(i.write(s),i.end()),h(t)}let o=Date.now(),n=this._createSendStream((t,s)=>t?h(t):(i.envelopeTime=o-c,i.messageTime=Date.now()-o,i.messageSize=n.outByteCount,i.response=s,h(null,i)));'function'==typeof s.pipe?s.pipe(n):(n.write(s),n.end())})}reset(t){this._sendCommand('RSET'),this._responseActions.push(s=>'2'!==s.charAt(0)?t(this._formatError('Could not reset session state. response='+s,'EPROTOCOL',s,'RSET')):(this._envelope=!1,t(null,!0)))}_onConnect(){clearTimeout(this._connectionTimeout),this.logger.info({tnx:'network',localAddress:this._socket.localAddress,localPort:this._socket.localPort,remoteAddress:this._socket.remoteAddress,remotePort:this._socket.remotePort},'%s established to %s:%s',this.secure?'Secure connection':'Connection',this._socket.remoteAddress,this._socket.remotePort),this._destroyed?this.close():(this.stage='connected',this._socket.removeListener('data',this._onSocketData),this._socket.removeListener('timeout',this._onSocketTimeout),this._socket.removeListener('close',this._onSocketClose),this._socket.removeListener('end',this._onSocketEnd),this._socket.on('data',this._onSocketData),this._socket.once('close',this._onSocketClose),this._socket.once('end',this._onSocketEnd),this._socket.setTimeout(this.options.socketTimeout||p),this._socket.on('timeout',this._onSocketTimeout),this._greetingTimeout=setTimeout(()=>{this._socket&&!this._destroyed&&this._responseActions[0]===this._actionGreeting&&this._onError('Greeting never received','ETIMEDOUT',!1,'CONN')},this.options.greetingTimeout||3e4),this._responseActions.push(this._actionGreeting),this._socket.resume())}_onData(t){if(this._destroyed||!t||!t.length)return;let s,i=(t||'').toString('binary'),o=(this._remainder+i).split(/\r?\n/);this._remainder=o.pop();for(let t=0,i=o.length;t<i;t++)this._responseQueue.length&&(s=this._responseQueue[this._responseQueue.length-1],/^\d+-/.test(s.split('\n').pop()))?this._responseQueue[this._responseQueue.length-1]+='\n'+o[t]:this._responseQueue.push(o[t]);this._responseQueue.length&&(s=this._responseQueue[this._responseQueue.length-1],/^\d+-/.test(s.split('\n').pop()))||this._processResponse()}_onError(t,s,i,o){clearTimeout(this._connectionTimeout),clearTimeout(this._greetingTimeout),this._destroyed||(t=this._formatError(t,s,i,o),this.logger.error(i,t.message),this.emit('error',t),this.close())}_formatError(t,s,i,o){let n;n=/Error\]$/i.test(Object.prototype.toString.call(t))?t:new Error(t),s&&'Error'!==s&&(n.code=s),i&&(n.response=i,n.message+=': '+i);let h='string'==typeof i&&Number((i.match(/^\d+/)||[])[0])||!1;return h&&(n.responseCode=h),o&&(n.command=o),n}_onClose(){let t=!1;return this._remainder&&this._remainder.trim()&&((this.options.debug||this.options.transactionLog)&&this.logger.debug({tnx:'server'},this._remainder.replace(/\r?\n$/,'')),this.lastServerResponse=t=this._remainder.trim()),this.logger.info({tnx:'network'},'Connection closed'),this.upgrading&&!this._destroyed?this._onError(new Error('Connection closed unexpectedly'),'ETLS',t,'CONN'):[this._actionGreeting,this.close].includes(this._responseActions[0])||this._destroyed?/^[45]\d{2}\b/.test(t)?this._onError(new Error('Connection closed unexpectedly'),'ECONNECTION',t,'CONN'):void this._destroy():this._onError(new Error('Connection closed unexpectedly'),'ECONNECTION',t,'CONN')}_onEnd(){this._socket&&!this._socket.destroyed&&this._socket.destroy()}_onTimeout(){return this._onError(new Error('Timeout'),'ETIMEDOUT',!1,'CONN')}_destroy(){this._destroyed||(this._destroyed=!0,this.emit('end'))}_upgradeConnection(t){this._socket.removeListener('data',this._onSocketData),this._socket.removeListener('timeout',this._onSocketTimeout);let s=this._socket,i={socket:this._socket,host:this.host};Object.keys(this.options.tls||{}).forEach(t=>{i[t]=this.options.tls[t]}),this.servername&&!i.servername&&(i.servername=this.servername),this.upgrading=!0;try{this._socket=o.connect(i,()=>(this.secure=!0,this.upgrading=!1,this._socket.on('data',this._onSocketData),s.removeListener('close',this._onSocketClose),s.removeListener('end',this._onSocketEnd),t(null,!0)))}catch(s){return t(s)}this._socket.on('error',this._onSocketError),this._socket.once('close',this._onSocketClose),this._socket.once('end',this._onSocketEnd),this._socket.setTimeout(this.options.socketTimeout||p),this._socket.on('timeout',this._onSocketTimeout),s.resume()}_processResponse(){if(!this._responseQueue.length)return!1;let t=this.lastServerResponse=(this._responseQueue.shift()||'').toString();if(/^\d+-/.test(t.split('\n').pop()))return;(this.options.debug||this.options.transactionLog)&&this.logger.debug({tnx:'server'},t.replace(/\r?\n$/,'')),t.trim()||setImmediate(()=>this._processResponse());let s=this._responseActions.shift();if('function'!=typeof s)return this._onError(new Error('Unexpected Response'),'EPROTOCOL',t,'CONN');s.call(this,t),setImmediate(()=>this._processResponse())}_sendCommand(t,s){if(!this._destroyed){if(this._socket.destroyed)return this.close();(this.options.debug||this.options.transactionLog)&&this.logger.debug({tnx:'client'},(s||t||'').toString().replace(/\r?\n$/,'')),this._socket.write(Buffer.from(t+'\r\n','utf-8'))}}_setEnvelope(t,s){let i=[],o=!1;if(this._envelope=t||{},this._envelope.from=(this._envelope.from&&this._envelope.from.address||this._envelope.from||'').toString().trim(),this._envelope.to=[].concat(this._envelope.to||[]).map(t=>(t&&t.address||t||'').toString().trim()),!this._envelope.to.length)return s(this._formatError('No recipients defined','EENVELOPE',!1,'API'));if(this._envelope.from&&/[\r\n<>]/.test(this._envelope.from))return s(this._formatError('Invalid sender '+JSON.stringify(this._envelope.from),'EENVELOPE',!1,'API'));/[\x80-\uFFFF]/.test(this._envelope.from)&&(o=!0);for(let t=0,i=this._envelope.to.length;t<i;t++){if(!this._envelope.to[t]||/[\r\n<>]/.test(this._envelope.to[t]))return s(this._formatError('Invalid recipient '+JSON.stringify(this._envelope.to[t]),'EENVELOPE',!1,'API'));/[\x80-\uFFFF]/.test(this._envelope.to[t])&&(o=!0)}if(this._envelope.rcptQueue=JSON.parse(JSON.stringify(this._envelope.to||[])),this._envelope.rejected=[],this._envelope.rejectedErrors=[],this._envelope.accepted=[],this._envelope.dsn)try{this._envelope.dsn=this._setDsnEnvelope(this._envelope.dsn)}catch(t){return s(this._formatError('Invalid DSN '+t.message,'EENVELOPE',!1,'API'))}this._responseActions.push(t=>{this._actionMAIL(t,s)}),o&&this._supportedExtensions.includes('SMTPUTF8')&&(i.push('SMTPUTF8'),this._usingSmtpUtf8=!0),this._envelope.use8BitMime&&this._supportedExtensions.includes('8BITMIME')&&(i.push('BODY=8BITMIME'),this._using8BitMime=!0),this._envelope.size&&this._supportedExtensions.includes('SIZE')&&i.push('SIZE='+this._envelope.size),this._envelope.dsn&&this._supportedExtensions.includes('DSN')&&(this._envelope.dsn.ret&&i.push('RET='+_.encodeXText(this._envelope.dsn.ret)),this._envelope.dsn.envid&&i.push('ENVID='+_.encodeXText(this._envelope.dsn.envid))),this._sendCommand('MAIL FROM:<'+this._envelope.from+'>'+(i.length?' '+i.join(' '):''))}_setDsnEnvelope(t){let s=(t.ret||t.return||'').toString().toUpperCase()||null;if(s)switch(s){case'HDRS':case'HEADERS':s='HDRS';break;case'FULL':case'BODY':s='FULL'}if(s&&!['FULL','HDRS'].includes(s))throw new Error('ret: '+JSON.stringify(s));let i=(t.envid||t.id||'').toString()||null,o=t.notify||null;if(o){'string'==typeof o&&(o=o.split(',')),o=o.map(t=>t.trim().toUpperCase());let t=['NEVER','SUCCESS','FAILURE','DELAY'];if(o.filter(s=>!t.includes(s)).length||o.length>1&&o.includes('NEVER'))throw new Error('notify: '+JSON.stringify(o.join(',')));o=o.join(',')}let n=(t.recipient||t.orcpt||'').toString()||null;return n&&n.indexOf(';')<0&&(n='rfc822;'+n),{ret:s,envid:i,notify:o,orcpt:n}}_getDsnRcptToArgs(){let t=[];return this._envelope.dsn&&this._supportedExtensions.includes('DSN')&&(this._envelope.dsn.notify&&t.push('NOTIFY='+_.encodeXText(this._envelope.dsn.notify)),this._envelope.dsn.orcpt&&t.push('ORCPT='+_.encodeXText(this._envelope.dsn.orcpt))),t.length?' '+t.join(' '):''}_createSendStream(t){let s,i=new c;return this.options.lmtp?this._envelope.accepted.forEach((s,i)=>{let o=i===this._envelope.accepted.length-1;this._responseActions.push(i=>{this._actionLMTPStream(s,o,i,t)})}):this._responseActions.push(s=>{this._actionSMTPStream(s,t)}),i.pipe(this._socket,{end:!1}),this.options.debug&&(s=new u,s.on('readable',()=>{let t;for(;t=s.read();)this.logger.debug({tnx:'message'},t.toString('binary').replace(/\r?\n$/,''))}),i.pipe(s)),i.once('end',()=>{this.logger.info({tnx:'message',inByteCount:i.inByteCount,outByteCount:i.outByteCount},'<%s bytes encoded mime message (source size %s bytes)>',i.outByteCount,i.inByteCount)}),i}_actionGreeting(t){clearTimeout(this._greetingTimeout),'220'===t.substr(0,3)?this.options.lmtp?(this._responseActions.push(this._actionLHLO),this._sendCommand('LHLO '+this.name)):(this._responseActions.push(this._actionEHLO),this._sendCommand('EHLO '+this.name)):this._onError(new Error('Invalid greeting. response='+t),'EPROTOCOL',t,'CONN')}_actionLHLO(t){'2'===t.charAt(0)?this._actionEHLO(t):this._onError(new Error('Invalid LHLO. response='+t),'EPROTOCOL',t,'LHLO')}_actionEHLO(t){let s;if('421'!==t.substr(0,3)){if('2'!==t.charAt(0))return this.options.requireTLS?void this._onError(new Error('EHLO failed but HELO does not support required STARTTLS. response='+t),'ECONNECTION',t,'EHLO'):(this._responseActions.push(this._actionHELO),void this._sendCommand('HELO '+this.name));if(this._ehloLines=t.split(/\r?\n/).map(t=>t.replace(/^\d+[ -]/,'').trim()).filter(t=>t).slice(1),!this.secure&&!this.options.ignoreTLS&&(/[ -]STARTTLS\b/im.test(t)||this.options.requireTLS))return this._sendCommand('STARTTLS'),void this._responseActions.push(this._actionSTARTTLS);/[ -]SMTPUTF8\b/im.test(t)&&this._supportedExtensions.push('SMTPUTF8'),/[ -]DSN\b/im.test(t)&&this._supportedExtensions.push('DSN'),/[ -]8BITMIME\b/im.test(t)&&this._supportedExtensions.push('8BITMIME'),/[ -]PIPELINING\b/im.test(t)&&this._supportedExtensions.push('PIPELINING'),/[ -]AUTH\b/i.test(t)&&(this.allowsAuth=!0),/[ -]AUTH(?:(\s+|=)[^\n]*\s+|\s+|=)PLAIN/i.test(t)&&this._supportedAuth.push('PLAIN'),/[ -]AUTH(?:(\s+|=)[^\n]*\s+|\s+|=)LOGIN/i.test(t)&&this._supportedAuth.push('LOGIN'),/[ -]AUTH(?:(\s+|=)[^\n]*\s+|\s+|=)CRAM-MD5/i.test(t)&&this._supportedAuth.push('CRAM-MD5'),/[ -]AUTH(?:(\s+|=)[^\n]*\s+|\s+|=)XOAUTH2/i.test(t)&&this._supportedAuth.push('XOAUTH2'),(s=t.match(/[ -]SIZE(?:[ \t]+(\d+))?/im))&&(this._supportedExtensions.push('SIZE'),this._maxAllowedSize=Number(s[1])||0),this.emit('connect')}else this._onError(new Error('Server terminates connection. response='+t),'ECONNECTION',t,'EHLO')}_actionHELO(t){'2'===t.charAt(0)?(this.allowsAuth=!0,this.emit('connect')):this._onError(new Error('Invalid HELO. response='+t),'EPROTOCOL',t,'HELO')}_actionSTARTTLS(t){if('2'!==t.charAt(0))return this.options.opportunisticTLS?(this.logger.info({tnx:'smtp'},'Failed STARTTLS upgrade, continuing unencrypted'),this.emit('connect')):void this._onError(new Error('Error upgrading connection with STARTTLS'),'ETLS',t,'STARTTLS');this._upgradeConnection((t,s)=>{t?this._onError(new Error('Error initiating TLS - '+(t.message||t)),'ETLS',!1,'STARTTLS'):(this.logger.info({tnx:'smtp'},'Connection upgraded with STARTTLS'),s?this.options.lmtp?(this._responseActions.push(this._actionLHLO),this._sendCommand('LHLO '+this.name)):(this._responseActions.push(this._actionEHLO),this._sendCommand('EHLO '+this.name)):this.emit('connect'))})}_actionAUTH_LOGIN_USER(t,s){/^334[ -]/.test(t)?(this._responseActions.push(t=>{this._actionAUTH_LOGIN_PASS(t,s)}),this._sendCommand(Buffer.from(this._auth.credentials.user+'','utf-8').toString('base64'))):s(this._formatError('Invalid login sequence while waiting for "334 VXNlcm5hbWU6"','EAUTH',t,'AUTH LOGIN'))}_actionAUTH_CRAM_MD5(t,s){let i=t.match(/^334\s+(.+)$/),o='';if(!i)return s(this._formatError('Invalid login sequence while waiting for server challenge string','EAUTH',t,'AUTH CRAM-MD5'));o=i[1];let n=Buffer.from(o,'base64').toString('ascii'),c=h.createHmac('md5',this._auth.credentials.pass);c.update(n);let u=this._auth.credentials.user+' '+c.digest('hex');this._responseActions.push(t=>{this._actionAUTH_CRAM_MD5_PASS(t,s)}),this._sendCommand(Buffer.from(u).toString('base64'),Buffer.from(this._auth.credentials.user+' /* secret */').toString('base64'))}_actionAUTH_CRAM_MD5_PASS(t,s){if(!t.match(/^235\s+/))return s(this._formatError('Invalid login sequence while waiting for "235"','EAUTH',t,'AUTH CRAM-MD5'));this.logger.info({tnx:'smtp',username:this._auth.user,action:'authenticated',method:this._authMethod},'User %s authenticated',JSON.stringify(this._auth.user)),this.authenticated=!0,s(null,!0)}_actionAUTH_LOGIN_PASS(t,s){if(!/^334[ -]/.test(t))return s(this._formatError('Invalid login sequence while waiting for "334 UGFzc3dvcmQ6"','EAUTH',t,'AUTH LOGIN'));this._responseActions.push(t=>{this._actionAUTHComplete(t,s)}),this._sendCommand(Buffer.from((this._auth.credentials.pass||'').toString(),'utf-8').toString('base64'),Buffer.from('/* secret */','utf-8').toString('base64'))}_actionAUTHComplete(t,s,i){return i||'function'!=typeof s||(i=s,s=!1),'334'===t.substr(0,3)?(this._responseActions.push(t=>{s||'XOAUTH2'!==this._authMethod?this._actionAUTHComplete(t,!0,i):setImmediate(()=>this._handleXOauth2Token(!0,i))}),void this._sendCommand('')):'2'!==t.charAt(0)?(this.logger.info({tnx:'smtp',username:this._auth.user,action:'authfail',method:this._authMethod},'User %s failed to authenticate',JSON.stringify(this._auth.user)),i(this._formatError('Invalid login','EAUTH',t,'AUTH '+this._authMethod))):(this.logger.info({tnx:'smtp',username:this._auth.user,action:'authenticated',method:this._authMethod},'User %s authenticated',JSON.stringify(this._auth.user)),this.authenticated=!0,void i(null,!0))}_actionMAIL(t,s){let i,o;if(2!==Number(t.charAt(0)))return i=this._usingSmtpUtf8&&/^550 /.test(t)&&/[\x80-\uFFFF]/.test(this._envelope.from)?'Internationalized mailbox name not allowed':'Mail command failed',s(this._formatError(i,'EENVELOPE',t,'MAIL FROM'));if(!this._envelope.rcptQueue.length)return s(this._formatError("Can't send mail - no recipients defined",'EENVELOPE',!1,'API'));if(this._recipientQueue=[],this._supportedExtensions.includes('PIPELINING'))for(;this._envelope.rcptQueue.length;)o=this._envelope.rcptQueue.shift(),this._recipientQueue.push(o),this._responseActions.push(t=>{this._actionRCPT(t,s)}),this._sendCommand('RCPT TO:<'+o+'>'+this._getDsnRcptToArgs());else o=this._envelope.rcptQueue.shift(),this._recipientQueue.push(o),this._responseActions.push(t=>{this._actionRCPT(t,s)}),this._sendCommand('RCPT TO:<'+o+'>'+this._getDsnRcptToArgs())}_actionRCPT(t,s){let i,o,n=this._recipientQueue.shift();if(2!==Number(t.charAt(0))?(i=this._usingSmtpUtf8&&/^553 /.test(t)&&/[\x80-\uFFFF]/.test(n)?'Internationalized mailbox name not allowed':'Recipient command failed',this._envelope.rejected.push(n),o=this._formatError(i,'EENVELOPE',t,'RCPT TO'),o.recipient=n,this._envelope.rejectedErrors.push(o)):this._envelope.accepted.push(n),this._envelope.rcptQueue.length||this._recipientQueue.length)this._envelope.rcptQueue.length&&(n=this._envelope.rcptQueue.shift(),this._recipientQueue.push(n),this._responseActions.push(t=>{this._actionRCPT(t,s)}),this._sendCommand('RCPT TO:<'+n+'>'+this._getDsnRcptToArgs()));else{if(!(this._envelope.rejected.length<this._envelope.to.length))return o=this._formatError("Can't send mail - all recipients were rejected",'EENVELOPE',t,'RCPT TO'),o.rejected=this._envelope.rejected,o.rejectedErrors=this._envelope.rejectedErrors,s(o);this._responseActions.push(t=>{this._actionDATA(t,s)}),this._sendCommand('DATA')}}_actionDATA(t,s){if(!/^[23]/.test(t))return s(this._formatError('Data command failed','EENVELOPE',t,'DATA'));let i={accepted:this._envelope.accepted,rejected:this._envelope.rejected};this._ehloLines&&this._ehloLines.length&&(i.ehlo=this._ehloLines),this._envelope.rejectedErrors.length&&(i.rejectedErrors=this._envelope.rejectedErrors),s(null,i)}_actionSMTPStream(t,s){return 2!==Number(t.charAt(0))?s(this._formatError('Message failed','EMESSAGE',t,'DATA')):s(null,t)}_actionLMTPStream(t,s,i,o){let n;if(2!==Number(i.charAt(0))){n=this._formatError('Message failed for recipient '+t,'EMESSAGE',i,'DATA'),n.recipient=t,this._envelope.rejected.push(t),this._envelope.rejectedErrors.push(n);for(let s=0,i=this._envelope.accepted.length;s<i;s++)this._envelope.accepted[s]===t&&this._envelope.accepted.splice(s,1)}if(s)return o(null,i)}_handleXOauth2Token(t,s){this._auth.oauth2.getToken(t,(i,o)=>{if(i)return this.logger.info({tnx:'smtp',username:this._auth.user,action:'authfail',method:this._authMethod},'User %s failed to authenticate',JSON.stringify(this._auth.user)),s(this._formatError(i,'EAUTH',!1,'AUTH XOAUTH2'));this._responseActions.push(i=>{this._actionAUTHComplete(i,t,s)}),this._sendCommand('AUTH XOAUTH2 '+this._auth.oauth2.buildXOAuth2Token(o),'AUTH XOAUTH2 '+this._auth.oauth2.buildXOAuth2Token('/* secret */'))})}_isDestroyedMessage(t){if(this._destroyed)return'Cannot '+t+' - smtp connection is already destroyed.';if(this._socket){if(this._socket.destroyed)return'Cannot '+t+' - smtp connection socket is already destroyed.';if(!this._socket.writable)return'Cannot '+t+' - smtp connection socket is already half-closed.'}}_getHostname(){let t;try{t=n.hostname()||''}catch(s){t='localhost'}return(!t||t.indexOf('.')<0)&&(t='[127.0.0.1]'),t.match(/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/)&&(t='['+t+']'),t}}},7151,[7130,984,985,986,996,467,7152,469,7127]);
__d(function(g,r,_i,a,m,e,d){'use strict';const t=r(d[0]).Transform;m.exports=class extends t{constructor(t){super(t),this.options=t||{},this._curLine='',this.inByteCount=0,this.outByteCount=0,this.lastByte=!1}_transform(t,s,h){let n,u,i,o=[],f=0,l=0;if(!t||!t.length)return h();for('string'==typeof t&&(t=Buffer.from(t)),this.inByteCount+=t.length,n=0,u=t.length;n<u;n++)46===t[n]?(n&&10===t[n-1]||!n&&(!this.lastByte||10===this.lastByte))&&(i=t.slice(l,n+1),o.push(i),o.push(Buffer.from('.')),f+=i.length+1,l=n+1):10===t[n]&&(n&&13!==t[n-1]||!n&&13!==this.lastByte)&&(n>l?(i=t.slice(l,n),o.push(i),f+=i.length+2):f+=2,o.push(Buffer.from('\r\n')),l=n+1);f?(l<t.length&&(i=t.slice(l),o.push(i),f+=i.length),this.outByteCount+=f,this.push(Buffer.concat(o,f))):(this.outByteCount+=t.length,this.push(t)),this.lastByte=t[t.length-1],h()}_flush(t){let s;s=10===this.lastByte?Buffer.from('.\r\n'):13===this.lastByte?Buffer.from('\n.\r\n'):Buffer.from('\r\n.\r\n'),this.outByteCount+=s.length,this.push(s),t()}}},7152,[469]);
__d(function(g,r,i,a,m,e,d){'use strict';const t=r(d[0]).Stream,s=r(d[1]),o=r(d[2]),n=r(d[3]);m.exports=class extends t{constructor(t,s){if(super(),this.options=t||{},t&&t.serviceClient){if(!t.privateKey||!t.user)return void setImmediate(()=>this.emit('error',new Error('Options "privateKey" and "user" are required for service account!')));let s=Math.min(Math.max(Number(this.options.serviceRequestTimeout)||0,0),3600);this.options.serviceRequestTimeout=s||300}if(this.logger=n.getLogger({logger:s},{component:this.options.component||'OAuth2'}),this.provisionCallback='function'==typeof this.options.provisionCallback&&this.options.provisionCallback,this.options.accessUrl=this.options.accessUrl||'https://accounts.google.com/o/oauth2/token',this.options.customHeaders=this.options.customHeaders||{},this.options.customParams=this.options.customParams||{},this.accessToken=this.options.accessToken||!1,this.options.expires&&Number(this.options.expires))this.expires=this.options.expires;else{let t=Math.max(Number(this.options.timeout)||0,0);this.expires=t&&Date.now()+1e3*t||0}this.renewing=!1,this.renewalQueue=[]}getToken(t,s){if(!t&&this.accessToken&&(!this.expires||this.expires>Date.now()))return this.logger.debug({tnx:'OAUTH2',user:this.options.user,action:'reuse'},'Reusing existing access token for %s',this.options.user),s(null,this.accessToken);if(!this.provisionCallback&&!this.options.refreshToken&&!this.options.serviceClient)return this.accessToken?(this.logger.debug({tnx:'OAUTH2',user:this.options.user,action:'reuse'},'Reusing existing access token (no refresh capability) for %s',this.options.user),s(null,this.accessToken)):(this.logger.error({tnx:'OAUTH2',user:this.options.user,action:'renew'},'Cannot renew access token for %s: No refresh mechanism available',this.options.user),s(new Error("Can't create new access token for user")));if(this.renewing)return this.renewalQueue.push({renew:t,callback:s});this.renewing=!0;const o=(t,o)=>{this.renewalQueue.forEach(s=>s.callback(t,o)),this.renewalQueue=[],this.renewing=!1,t?this.logger.error({err:t,tnx:'OAUTH2',user:this.options.user,action:'renew'},'Failed generating new Access Token for %s',this.options.user):this.logger.info({tnx:'OAUTH2',user:this.options.user,action:'renew'},'Generated new Access Token for %s',this.options.user),s(t,o)};this.provisionCallback?this.provisionCallback(this.options.user,!!t,(t,s,n)=>{!t&&s&&(this.accessToken=s,this.expires=n||0),o(t,s)}):this.generateToken(o)}updateToken(t,s){this.accessToken=t,s=Math.max(Number(s)||0,0),this.expires=s&&Date.now()+1e3*s||0,this.emit('token',{user:this.options.user,accessToken:t||'',expires:this.expires})}generateToken(t){let s,o;if(this.options.serviceClient){let n,c=Math.floor(Date.now()/1e3),h={iss:this.options.serviceClient,scope:this.options.scope||'https://mail.google.com/',sub:this.options.user,aud:this.options.accessUrl,iat:c,exp:c+this.options.serviceRequestTimeout};try{n=this.jwtSignRS256(h)}catch(s){return t(new Error("Can't generate token. Check your auth options"))}s={grant_type:'urn:ietf:params:oauth:grant-type:jwt-bearer',assertion:n},o={grant_type:'urn:ietf:params:oauth:grant-type:jwt-bearer',assertion:h}}else{if(!this.options.refreshToken)return t(new Error("Can't create new access token for user"));s={client_id:this.options.clientId||'',client_secret:this.options.clientSecret||'',refresh_token:this.options.refreshToken,grant_type:'refresh_token'},o={client_id:this.options.clientId||'',client_secret:(this.options.clientSecret||'').substr(0,6)+'...',refresh_token:(this.options.refreshToken||'').substr(0,6)+'...',grant_type:'refresh_token'}}Object.keys(this.options.customParams).forEach(t=>{s[t]=this.options.customParams[t],o[t]=this.options.customParams[t]}),this.logger.debug({tnx:'OAUTH2',user:this.options.user,action:'generate'},'Requesting token using: %s',JSON.stringify(o)),this.postRequest(this.options.accessUrl,s,this.options,(s,o)=>{let n;if(s)return t(s);try{n=JSON.parse(o.toString())}catch(s){return t(s)}if(!n||'object'!=typeof n)return this.logger.debug({tnx:'OAUTH2',user:this.options.user,action:'post'},'Response: %s',(o||'').toString()),t(new Error('Invalid authentication response'));let c={};if(Object.keys(n).forEach(t=>{c[t]='access_token'!==t?n[t]:(n[t]||'').toString().substr(0,6)+'...'}),this.logger.debug({tnx:'OAUTH2',user:this.options.user,action:'post'},'Response: %s',JSON.stringify(c)),n.error){let s=n.error;return n.error_description&&(s+=': '+n.error_description),n.error_uri&&(s+=' ('+n.error_uri+')'),t(new Error(s))}return n.access_token?(this.updateToken(n.access_token,n.expires_in),t(null,this.accessToken)):t(new Error('No access token'))})}buildXOAuth2Token(t){let s=['user='+(this.options.user||''),'auth=Bearer '+(t||this.accessToken),'',''];return Buffer.from(s.join('\x01'),'utf-8').toString('base64')}postRequest(t,o,n,c){let h=!1,u=[],p=0,l=s(t,{method:'post',headers:n.customHeaders,body:o,allowErrorResponse:!0});l.on('readable',()=>{let t;for(;null!==(t=l.read());)u.push(t),p+=t.length}),l.once('error',t=>{if(!h)return h=!0,c(t)}),l.once('end',()=>{if(!h)return h=!0,c(null,Buffer.concat(u,p))})}toBase64URL(t){return'string'==typeof t&&(t=Buffer.from(t)),t.toString('base64').replace(/[=]+/g,'').replace(/\+/g,'-').replace(/\//g,'_')}jwtSignRS256(t){t=['{"alg":"RS256","typ":"JWT"}',JSON.stringify(t)].map(t=>this.toBase64URL(t)).join('.');let s=o.createSign('RSA-SHA256').update(t).sign(this.options.privateKey);return t+'.'+this.toBase64URL(s)}}},7153,[469,7128,467,7127]);
__d(function(g,r,i,a,m,e,d){'use strict';const t=r(d[0]),c={};function n(t){return t.replace(/[^a-zA-Z0-9.-]/g,'').toLowerCase()}function o(t){let c=['domains','aliases'],n={};return Object.keys(t).forEach(o=>{c.indexOf(o)<0&&(n[o]=t[o])}),n}Object.keys(t).forEach(s=>{let f=t[s];c[n(s)]=o(f),[].concat(f.aliases||[]).forEach(t=>{c[n(t)]=o(f)}),[].concat(f.domains||[]).forEach(t=>{c[n(t)]=o(f)})}),m.exports=function(t){return t=n(t.split('@').pop()),c[t]||!1}},7154,[7155]);
__d(function(o,i,s,e,t,a,r){t.exports={"1und1":{description:"1&1 Mail (German hosting provider)",host:"smtp.1und1.de",port:465,secure:!0,authMethod:"LOGIN"},126:{description:"126 Mail (NetEase)",host:"smtp.126.com",port:465,secure:!0},163:{description:"163 Mail (NetEase)",host:"smtp.163.com",port:465,secure:!0},Aliyun:{description:"Alibaba Cloud Mail",domains:["aliyun.com"],host:"smtp.aliyun.com",port:465,secure:!0},AliyunQiye:{description:"Alibaba Cloud Enterprise Mail",host:"smtp.qiye.aliyun.com",port:465,secure:!0},AOL:{description:"AOL Mail",domains:["aol.com"],host:"smtp.aol.com",port:587},Aruba:{description:"Aruba PEC (Italian email provider)",domains:["aruba.it","pec.aruba.it"],aliases:["Aruba PEC"],host:"smtps.aruba.it",port:465,secure:!0,authMethod:"LOGIN"},Bluewin:{description:"Bluewin (Swiss email provider)",host:"smtpauths.bluewin.ch",domains:["bluewin.ch"],port:465},BOL:{description:"BOL Mail (Brazilian provider)",domains:["bol.com.br"],host:"smtp.bol.com.br",port:587,requireTLS:!0},DebugMail:{description:"DebugMail (email testing service)",host:"debugmail.io",port:25},Disroot:{description:"Disroot (privacy-focused provider)",domains:["disroot.org"],host:"disroot.org",port:587,secure:!1,authMethod:"LOGIN"},DynectEmail:{description:"Dyn Email Delivery",aliases:["Dynect"],host:"smtp.dynect.net",port:25},ElasticEmail:{description:"Elastic Email",aliases:["Elastic Email"],host:"smtp.elasticemail.com",port:465,secure:!0},Ethereal:{description:"Ethereal Email (email testing service)",aliases:["ethereal.email"],host:"smtp.ethereal.email",port:587},FastMail:{description:"FastMail",domains:["fastmail.fm"],host:"smtp.fastmail.com",port:465,secure:!0},"Feishu Mail":{description:"Feishu Mail (Lark)",aliases:["Feishu","FeishuMail"],domains:["www.feishu.cn"],host:"smtp.feishu.cn",port:465,secure:!0},"Forward Email":{description:"Forward Email (email forwarding service)",aliases:["FE","ForwardEmail"],domains:["forwardemail.net"],host:"smtp.forwardemail.net",port:465,secure:!0},GandiMail:{description:"Gandi Mail",aliases:["Gandi","Gandi Mail"],host:"mail.gandi.net",port:587},Gmail:{description:"Gmail",aliases:["Google Mail"],domains:["gmail.com","googlemail.com"],host:"smtp.gmail.com",port:465,secure:!0},GMX:{description:"GMX Mail",domains:["gmx.com","gmx.net","gmx.de"],host:"mail.gmx.com",port:587},Godaddy:{description:"GoDaddy Email (US)",host:"smtpout.secureserver.net",port:25},GodaddyAsia:{description:"GoDaddy Email (Asia)",host:"smtp.asia.secureserver.net",port:25},GodaddyEurope:{description:"GoDaddy Email (Europe)",host:"smtp.europe.secureserver.net",port:25},"hot.ee":{description:"Hot.ee (Estonian email provider)",host:"mail.hot.ee"},Hotmail:{description:"Outlook.com / Hotmail",aliases:["Outlook","Outlook.com","Hotmail.com"],domains:["hotmail.com","outlook.com"],host:"smtp-mail.outlook.com",port:587},iCloud:{description:"iCloud Mail",aliases:["Me","Mac"],domains:["me.com","mac.com"],host:"smtp.mail.me.com",port:587},Infomaniak:{description:"Infomaniak Mail (Swiss hosting provider)",host:"mail.infomaniak.com",domains:["ik.me","ikmail.com","etik.com"],port:587},KolabNow:{description:"KolabNow (secure email service)",domains:["kolabnow.com"],aliases:["Kolab"],host:"smtp.kolabnow.com",port:465,secure:!0,authMethod:"LOGIN"},Loopia:{description:"Loopia (Swedish hosting provider)",host:"mailcluster.loopia.se",port:465},Loops:{description:"Loops",host:"smtp.loops.so",port:587},"mail.ee":{description:"Mail.ee (Estonian email provider)",host:"smtp.mail.ee"},"Mail.ru":{description:"Mail.ru",host:"smtp.mail.ru",port:465,secure:!0},"Mailcatch.app":{description:"Mailcatch (email testing service)",host:"sandbox-smtp.mailcatch.app",port:2525},Maildev:{description:"MailDev (local email testing)",port:1025,ignoreTLS:!0},MailerSend:{description:"MailerSend",host:"smtp.mailersend.net",port:587},Mailgun:{description:"Mailgun",host:"smtp.mailgun.org",port:465,secure:!0},Mailjet:{description:"Mailjet",host:"in.mailjet.com",port:587},Mailosaur:{description:"Mailosaur (email testing service)",host:"mailosaur.io",port:25},Mailtrap:{description:"Mailtrap",host:"live.smtp.mailtrap.io",port:587},Mandrill:{description:"Mandrill (by Mailchimp)",host:"smtp.mandrillapp.com",port:587},Naver:{description:"Naver Mail (Korean email provider)",host:"smtp.naver.com",port:587},OhMySMTP:{description:"OhMySMTP (email delivery service)",host:"smtp.ohmysmtp.com",port:587,secure:!1},One:{description:"One.com Email",host:"send.one.com",port:465,secure:!0},OpenMailBox:{description:"OpenMailBox",aliases:["OMB","openmailbox.org"],host:"smtp.openmailbox.org",port:465,secure:!0},Outlook365:{description:"Microsoft 365 / Office 365",host:"smtp.office365.com",port:587,secure:!1},Postmark:{description:"Postmark",aliases:["PostmarkApp"],host:"smtp.postmarkapp.com",port:2525},Proton:{description:"Proton Mail",aliases:["ProtonMail","Proton.me","Protonmail.com","Protonmail.ch"],domains:["proton.me","protonmail.com","pm.me","protonmail.ch"],host:"smtp.protonmail.ch",port:587,requireTLS:!0},"qiye.aliyun":{description:"Alibaba Mail Enterprise Edition",host:"smtp.mxhichina.com",port:"465",secure:!0},QQ:{description:"QQ Mail",domains:["qq.com"],host:"smtp.qq.com",port:465,secure:!0},QQex:{description:"QQ Enterprise Mail",aliases:["QQ Enterprise"],domains:["exmail.qq.com"],host:"smtp.exmail.qq.com",port:465,secure:!0},Resend:{description:"Resend",host:"smtp.resend.com",port:465,secure:!0},Runbox:{description:"Runbox (Norwegian email provider)",domains:["runbox.com"],host:"smtp.runbox.com",port:465,secure:!0},SendCloud:{description:"SendCloud (Chinese email delivery)",host:"smtp.sendcloud.net",port:2525},SendGrid:{description:"SendGrid",host:"smtp.sendgrid.net",port:587},SendinBlue:{description:"Brevo (formerly Sendinblue)",aliases:["Brevo"],host:"smtp-relay.brevo.com",port:587},SendPulse:{description:"SendPulse",host:"smtp-pulse.com",port:465,secure:!0},SES:{description:"AWS SES US East (N. Virginia)",host:"email-smtp.us-east-1.amazonaws.com",port:465,secure:!0},"SES-AP-NORTHEAST-1":{description:"AWS SES Asia Pacific (Tokyo)",host:"email-smtp.ap-northeast-1.amazonaws.com",port:465,secure:!0},"SES-AP-NORTHEAST-2":{description:"AWS SES Asia Pacific (Seoul)",host:"email-smtp.ap-northeast-2.amazonaws.com",port:465,secure:!0},"SES-AP-NORTHEAST-3":{description:"AWS SES Asia Pacific (Osaka)",host:"email-smtp.ap-northeast-3.amazonaws.com",port:465,secure:!0},"SES-AP-SOUTH-1":{description:"AWS SES Asia Pacific (Mumbai)",host:"email-smtp.ap-south-1.amazonaws.com",port:465,secure:!0},"SES-AP-SOUTHEAST-1":{description:"AWS SES Asia Pacific (Singapore)",host:"email-smtp.ap-southeast-1.amazonaws.com",port:465,secure:!0},"SES-AP-SOUTHEAST-2":{description:"AWS SES Asia Pacific (Sydney)",host:"email-smtp.ap-southeast-2.amazonaws.com",port:465,secure:!0},"SES-CA-CENTRAL-1":{description:"AWS SES Canada (Central)",host:"email-smtp.ca-central-1.amazonaws.com",port:465,secure:!0},"SES-EU-CENTRAL-1":{description:"AWS SES Europe (Frankfurt)",host:"email-smtp.eu-central-1.amazonaws.com",port:465,secure:!0},"SES-EU-NORTH-1":{description:"AWS SES Europe (Stockholm)",host:"email-smtp.eu-north-1.amazonaws.com",port:465,secure:!0},"SES-EU-WEST-1":{description:"AWS SES Europe (Ireland)",host:"email-smtp.eu-west-1.amazonaws.com",port:465,secure:!0},"SES-EU-WEST-2":{description:"AWS SES Europe (London)",host:"email-smtp.eu-west-2.amazonaws.com",port:465,secure:!0},"SES-EU-WEST-3":{description:"AWS SES Europe (Paris)",host:"email-smtp.eu-west-3.amazonaws.com",port:465,secure:!0},"SES-SA-EAST-1":{description:"AWS SES South America (S\xe3o Paulo)",host:"email-smtp.sa-east-1.amazonaws.com",port:465,secure:!0},"SES-US-EAST-1":{description:"AWS SES US East (N. Virginia)",host:"email-smtp.us-east-1.amazonaws.com",port:465,secure:!0},"SES-US-EAST-2":{description:"AWS SES US East (Ohio)",host:"email-smtp.us-east-2.amazonaws.com",port:465,secure:!0},"SES-US-GOV-EAST-1":{description:"AWS SES GovCloud (US-East)",host:"email-smtp.us-gov-east-1.amazonaws.com",port:465,secure:!0},"SES-US-GOV-WEST-1":{description:"AWS SES GovCloud (US-West)",host:"email-smtp.us-gov-west-1.amazonaws.com",port:465,secure:!0},"SES-US-WEST-1":{description:"AWS SES US West (N. California)",host:"email-smtp.us-west-1.amazonaws.com",port:465,secure:!0},"SES-US-WEST-2":{description:"AWS SES US West (Oregon)",host:"email-smtp.us-west-2.amazonaws.com",port:465,secure:!0},Seznam:{description:"Seznam Email (Czech email provider)",aliases:["Seznam Email"],domains:["seznam.cz","email.cz","post.cz","spoluzaci.cz"],host:"smtp.seznam.cz",port:465,secure:!0},SMTP2GO:{description:"SMTP2GO",host:"mail.smtp2go.com",port:2525},Sparkpost:{description:"SparkPost",aliases:["SparkPost","SparkPost Mail"],domains:["sparkpost.com"],host:"smtp.sparkpostmail.com",port:587,secure:!1},Tipimail:{description:"Tipimail (email delivery service)",host:"smtp.tipimail.com",port:587},Tutanota:{description:"Tutanota (Tuta Mail)",domains:["tutanota.com","tuta.com","tutanota.de","tuta.io"],host:"smtp.tutanota.com",port:465,secure:!0},Yahoo:{description:"Yahoo Mail",domains:["yahoo.com"],host:"smtp.mail.yahoo.com",port:465,secure:!0},Yandex:{description:"Yandex Mail",domains:["yandex.ru"],host:"smtp.yandex.ru",port:465,secure:!0},Zimbra:{description:"Zimbra Mail Server",aliases:["Zimbra Collaboration"],host:"smtp.zimbra.com",port:587,requireTLS:!0},Zoho:{description:"Zoho Mail",host:"smtp.zoho.com",port:465,secure:!0,authMethod:"LOGIN"}}},7155,[]);
__d(function(g,r,i,a,m,e,d){'use strict';const t=r(d[0]),o=r(d[1]),s=r(d[2]),n=r(d[3]),c=r(d[4]),h=r(d[5]);m.exports=class extends t{constructor(t){let c;super(),'string'==typeof(t=t||{})&&(t={url:t});let l=t.service;'function'==typeof t.getSocket&&(this.getSocket=t.getSocket),t.url&&(c=n.parseConnectionUrl(t.url),l=l||c.service),this.options=n.assign(!1,t,c,l&&s(l)),this.logger=n.getLogger(this.options,{component:this.options.component||'smtp-transport'});let u=new o(this.options);this.name='SMTP',this.version=h.version+'[client:'+u.version+']',this.options.auth&&(this.auth=this.getAuth({}))}getSocket(t,o){return setImmediate(()=>o(null,!1))}getAuth(t){if(!t)return this.auth;let o=!1,s={};if(this.options.auth&&'object'==typeof this.options.auth&&Object.keys(this.options.auth).forEach(t=>{o=!0,s[t]=this.options.auth[t]}),t&&'object'==typeof t&&Object.keys(t).forEach(n=>{o=!0,s[n]=t[n]}),!o)return!1;if('OAUTH2'===(s.type||'').toString().toUpperCase()){if(!s.service&&!s.user)return!1;let t=new c(s,this.logger);return t.provisionCallback=this.mailer&&this.mailer.get('oauth2_provision_cb')||t.provisionCallback,t.on('token',t=>this.mailer.emit('token',t)),t.on('error',t=>this.emit('error',t)),{type:'OAUTH2',user:s.user,oauth2:t,method:'XOAUTH2'}}return{type:(s.type||'').toString().toUpperCase()||'LOGIN',user:s.user,credentials:{user:s.user||'',pass:s.pass,options:s.options},method:(s.method||'').trim().toUpperCase()||this.options.authMethod||!1}}send(t,s){this.getSocket(this.options,(c,h)=>{if(c)return s(c);let l=!1,u=this.options;h&&h.connection&&(this.logger.info({tnx:'proxy',remoteAddress:h.connection.remoteAddress,remotePort:h.connection.remotePort,destHost:u.host||'',destPort:u.port||'',action:'connected'},'Using proxied socket from %s:%s to %s:%s',h.connection.remoteAddress,h.connection.remotePort,u.host||'',u.port||''),u=n.assign(!1,u),Object.keys(h).forEach(t=>{u[t]=h[t]}));let p=new o(u);p.once('error',t=>{if(!l)return l=!0,p.close(),s(t)}),p.once('end',()=>{if(l)return;let t=setTimeout(()=>{if(l)return;l=!0;let t=new Error('Unexpected socket close');p&&p._socket&&p._socket.upgrading&&(t.code='ETLS'),s(t)},1e3);try{t.unref()}catch(t){}});let f=()=>{let o=t.message.getEnvelope(),n=t.message.messageId(),c=[].concat(o.to||[]);c.length>3&&c.push('...and '+c.splice(2).length+' more'),t.data.dsn&&(o.dsn=t.data.dsn),this.logger.info({tnx:'send',messageId:n},'Sending message %s to <%s>',n,c.join(', ')),p.send(o,t.message.createReadStream(),(t,c)=>{if(l=!0,p.close(),t)return this.logger.error({err:t,tnx:'send'},'Send error for %s: %s',n,t.message),s(t);c.envelope={from:o.from,to:o.to},c.messageId=n;try{return s(null,c)}catch(t){this.logger.error({err:t,tnx:'callback'},'Callback error for %s: %s',n,t.message)}})};p.connect(()=>{if(l)return;let o=this.getAuth(t.data.auth);o&&(p.allowsAuth||u.forceAuth)?p.login(o,t=>{if(o&&o!==this.auth&&o.oauth2&&o.oauth2.removeAllListeners(),!l)return t?(l=!0,p.close(),s(t)):void f()}):f()})})}verify(t){let s;return t||(s=new Promise((o,s)=>{t=n.callbackPromise(o,s)})),this.getSocket(this.options,(s,c)=>{if(s)return t(s);let h=this.options;c&&c.connection&&(this.logger.info({tnx:'proxy',remoteAddress:c.connection.remoteAddress,remotePort:c.connection.remotePort,destHost:h.host||'',destPort:h.port||'',action:'connected'},'Using proxied socket from %s:%s to %s:%s',c.connection.remoteAddress,c.connection.remotePort,h.host||'',h.port||''),h=n.assign(!1,h),Object.keys(c).forEach(t=>{h[t]=c[t]}));let l=new o(h),u=!1;l.once('error',o=>{if(!u)return u=!0,l.close(),t(o)}),l.once('end',()=>{if(!u)return u=!0,t(new Error('Connection closed'))});let p=()=>{if(!u)return u=!0,l.quit(),t(null,!0)};l.connect(()=>{if(u)return;let o=this.getAuth({});if(o&&(l.allowsAuth||h.forceAuth))l.login(o,o=>{if(!u)return o?(u=!0,l.close(),t(o)):void p()});else{if(!o&&l.allowsAuth&&h.forceAuth){let o=new Error('Authentication info was not provided');return o.code='NoAuth',u=!0,l.close(),t(o)}p()}})}),s}close(){this.auth&&this.auth.oauth2&&this.auth.oauth2.removeAllListeners(),this.emit('close')}}},7156,[984,7151,7154,7127,7153,7130]);
__d(function(g,r,i,a,m,e,d){'use strict';const s=r(d[0]).spawn,n=r(d[1]),t=r(d[2]);m.exports=class{constructor(o){o=o||{},this._spawn=s,this.options=o||{},this.name='Sendmail',this.version=n.version,this.path='sendmail',this.args=!1,this.winbreak=!1,this.logger=t.getLogger(this.options,{component:this.options.component||'sendmail'}),o&&('string'==typeof o?this.path=o:'object'==typeof o&&(o.path&&(this.path=o.path),Array.isArray(o.args)&&(this.args=o.args),this.winbreak=['win','windows','dos','\r\n'].includes((o.newline||'').toString().toLowerCase())))}send(s,n){s.message.keepBcc=!0;let t,o,c,l=s.data.envelope||s.message.getEnvelope(),h=s.message.messageId();if([].concat(l.from||[]).concat(l.to||[]).some(s=>/^-/.test(s)))return n(new Error('Can not send mail. Invalid envelope addresses.'));t=this.args?['-i'].concat(this.args).concat(l.to):['-i'].concat(l.from?['-f',l.from]:[]).concat(l.to);let p=t=>{if(!c)return c=!0,'function'==typeof n?t?n(t):n(null,{envelope:s.data.envelope||s.message.getEnvelope(),messageId:h,response:'Messages queued for delivery'}):void 0};try{o=this._spawn(this.path,t)}catch(s){return this.logger.error({err:s,tnx:'spawn',messageId:h},'Error occurred while spawning sendmail. %s',s.message),p(s)}if(!o)return p(new Error('sendmail was not found'));{o.on('error',s=>{this.logger.error({err:s,tnx:'spawn',messageId:h},'Error occurred when sending message %s. %s',h,s.message),p(s)}),o.once('exit',s=>{if(!s)return p();let n;n=127===s?new Error('Sendmail command not found, process exited with code '+s):new Error('Sendmail exited with code '+s),this.logger.error({err:n,tnx:'stdin',messageId:h},'Error sending message %s to sendmail. %s',h,n.message),p(n)}),o.once('close',p),o.stdin.on('error',s=>{this.logger.error({err:s,tnx:'stdin',messageId:h},'Error occurred when piping message %s to sendmail. %s',h,s.message),p(s)});let n=[].concat(l.to||[]);n.length>3&&n.push('...and '+n.splice(2).length+' more'),this.logger.info({tnx:'send',messageId:h},'Sending message %s to <%s>',h,n.join(', '));let t=s.message.createReadStream();t.once('error',s=>{this.logger.error({err:s,tnx:'stdin',messageId:h},'Error occurred when generating message %s. %s',h,s.message),o.kill('SIGINT'),p(s)}),t.pipe(o.stdin)}}}},7157,[7158,7130,7127]);
__d(function(g,r,i,a,m,e,d){m.exports=$$require_external('node:child_process')},7158,[]);
__d(function(g,r,i,a,m,e,d){'use strict';const s=r(d[0]),n=r(d[1]);m.exports=class{constructor(t){t=t||{},this.options=t||{},this.name='StreamTransport',this.version=s.version,this.logger=n.getLogger(this.options,{component:this.options.component||'stream-transport'}),this.winbreak=['win','windows','dos','\r\n'].includes((t.newline||'').toString().toLowerCase())}send(s,n){s.message.keepBcc=!0;let t=s.data.envelope||s.message.getEnvelope(),o=s.message.messageId(),l=[].concat(t.to||[]);l.length>3&&l.push('...and '+l.splice(2).length+' more'),this.logger.info({tnx:'send',messageId:o},'Sending message %s to <%s> using %s line breaks',o,l.join(', '),this.winbreak?'<CR><LF>':'<LF>'),setImmediate(()=>{let t;try{t=s.message.createReadStream()}catch(s){return this.logger.error({err:s,tnx:'send',messageId:o},'Creating send stream failed for %s. %s',o,s.message),n(s)}if(!this.options.buffer)return t.once('error',s=>{this.logger.error({err:s,tnx:'send',messageId:o},'Failed creating message for %s. %s',o,s.message)}),n(null,{envelope:s.data.envelope||s.message.getEnvelope(),messageId:o,message:t});let l=[],c=0;t.on('readable',()=>{let s;for(;null!==(s=t.read());)l.push(s),c+=s.length}),t.once('error',s=>(this.logger.error({err:s,tnx:'send',messageId:o},'Failed creating message for %s. %s',o,s.message),n(s))),t.on('end',()=>n(null,{envelope:s.data.envelope||s.message.getEnvelope(),messageId:o,message:Buffer.concat(l,c)}))})}}},7159,[7130,7127]);
__d(function(g,r,i,a,m,e,d){'use strict';const s=r(d[0]),t=r(d[1]);m.exports=class{constructor(o){o=o||{},this.options=o||{},this.name='JSONTransport',this.version=s.version,this.logger=t.getLogger(this.options,{component:this.options.component||'json-transport'})}send(s,t){s.message.keepBcc=!0;let o=s.data.envelope||s.message.getEnvelope(),n=s.message.messageId(),l=[].concat(o.to||[]);l.length>3&&l.push('...and '+l.splice(2).length+' more'),this.logger.info({tnx:'send',messageId:n},'Composing JSON structure of %s to <%s>',n,l.join(', ')),setImmediate(()=>{s.normalize((s,l)=>s?(this.logger.error({err:s,tnx:'send',messageId:n},'Failed building JSON structure for %s. %s',n,s.message),t(s)):(delete l.envelope,delete l.normalizedHeaders,t(null,{envelope:o,messageId:n,message:this.options.skipEncoding?l:JSON.stringify(l)})))})}}},7160,[7130,7127]);
__d(function(g,r,i,a,m,e,d){'use strict';const s=r(d[0]),n=r(d[1]),t=r(d[2]),o=r(d[3]),l=r(d[4]);m.exports=class extends s{constructor(s){super(),s=s||{},this.options=s||{},this.ses=this.options.SES,this.name='SESTransport',this.version=n.version,this.logger=t.getLogger(this.options,{component:this.options.component||'ses-transport'})}getRegion(s){return this.ses.sesClient.config&&'function'==typeof this.ses.sesClient.config.region?this.ses.sesClient.config.region().then(n=>s(null,n)).catch(n=>s(n)):s(null,!1)}send(s,n){let t={ts:Date.now(),pending:!0},c=s.message._headers.find(s=>/^from$/i.test(s.key));if(c){let s=new l('text/plain');c=s._convertAddresses(s._parseAddresses(c.value))}let h=s.data.envelope||s.message.getEnvelope(),p=s.message.messageId(),u=[].concat(h.to||[]);u.length>3&&u.push('...and '+u.splice(2).length+' more'),this.logger.info({tnx:'send',messageId:p},'Sending message %s to <%s>',p,u.join(', '));let f=n=>{s.data._dkim||(s.data._dkim={}),s.data._dkim.skipFields&&'string'==typeof s.data._dkim.skipFields?s.data._dkim.skipFields+=':date:message-id':s.data._dkim.skipFields='date:message-id';let t=s.message.createReadStream(),l=t.pipe(new o),c=[],h=0;l.on('readable',()=>{let s;for(;null!==(s=l.read());)c.push(s),h+=s.length}),t.once('error',s=>l.emit('error',s)),l.once('error',s=>{n(s)}),l.once('end',()=>n(null,Buffer.concat(c,h)))};setImmediate(()=>f((o,l)=>{if(o)return this.logger.error({err:o,tnx:'send',messageId:p},'Failed creating message for %s. %s',p,o.message),t.pending=!1,n(o);let u={Content:{Raw:{Data:l}},FromEmailAddress:c||h.from,Destination:{ToAddresses:h.to}};Object.keys(s.data.ses||{}).forEach(n=>{u[n]=s.data.ses[n]}),this.getRegion((s,o)=>{!s&&o||(o='us-east-1');const c=new this.ses.SendEmailCommand(u);this.ses.sesClient.send(c).then(s=>{'us-east-1'===o&&(o='email'),t.pending=!0,n(null,{envelope:{from:h.from,to:h.to},messageId:'<'+s.MessageId+(/@/.test(s.MessageId)?'':'@'+o+'.amazonses.com')+'>',response:s.MessageId,raw:l})}).catch(s=>{this.logger.error({err:s,tnx:'send'},'Send error for %s: %s',p,s.message),t.pending=!1,n(s)})})}))}verify(s){let n;s||(n=new Promise((n,o)=>{s=t.callbackPromise(n,o)}));const o=n=>n&&!['InvalidParameterValue','MessageRejected'].includes(n.code||n.Code||n.name)?s(n):s(null,!0),l={Content:{Raw:{Data:Buffer.from('From: <invalid@invalid>\r\nTo: <invalid@invalid>\r\n Subject: Invalid\r\n\r\nInvalid')}},FromEmailAddress:'invalid@invalid',Destination:{ToAddresses:['invalid@invalid']}};return this.getRegion((s,n)=>{!s&&n||(n='us-east-1');const t=new this.ses.SendEmailCommand(l);this.ses.sesClient.send(t).then(s=>o(null)).catch(s=>o(s))}),n}}},7161,[984,7130,7127,7141,7134]);
__d(function(g,r,i,a,m,e,d){var n=r(d[0]);Object.defineProperty(e,"__esModule",{value:!0}),e.POST=async function(n){try{const t=await n.json(),{email:o,userName:l}=t;if(!o||!/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(o))return new Response(JSON.stringify({error:'Valid email is required'}),{status:400,headers:{'Content-Type':'application/json'}});if(!(process.env.NODEMAILER_HOST&&process.env.NODEMAILER_PORT&&process.env.NODEMAILER_USER&&process.env.NODEMAILER_PASS&&process.env.NODEMAILER_FROM))return console.warn('Email service not configured, skipping deletion confirmation email'),new Response(JSON.stringify({success:!0,message:'Account deleted (email service not configured)'}),{status:200,headers:{'Content-Type':'application/json'}});const c=process.env.NODEMAILER_HOST||'',p=c.includes('brevo.com')||c.includes('sendinblue.com'),u=s.default.createTransport({host:c,port:parseInt(process.env.NODEMAILER_PORT||'587'),secure:!1,auth:{user:process.env.NODEMAILER_USER,pass:process.env.NODEMAILER_PASS},tls:{rejectUnauthorized:!0,servername:p?'smtp-relay.sendinblue.com':void 0,checkServerIdentity:p?()=>{}:void 0},requireTLS:!0}),f=l||o.split('@')[0],y=(new Date).toLocaleDateString('en-US',{year:'numeric',month:'long',day:'numeric',hour:'2-digit',minute:'2-digit'}),h={from:`HashPass <${process.env.NODEMAILER_FROM}>`,to:o.trim(),subject:'Your HashPass Account Has Been Deleted',html:`\n        <div style="font-family: Arial, sans-serif; max-width: 600px; margin: 0 auto; padding: 20px; background-color: #f9fafb;">\n          <div style="background-color: #ffffff; border-radius: 8px; padding: 30px; box-shadow: 0 2px 4px rgba(0,0,0,0.1);">\n            <div style="text-align: center; margin-bottom: 30px;">\n              <div style="background-color: #F44336; width: 60px; height: 60px; border-radius: 50%; margin: 0 auto 20px; display: flex; align-items: center; justify-content: center;">\n                <span style="color: #ffffff; font-size: 30px;">\u2713</span>\n              </div>\n              <h1 style="color: #1f2937; margin: 0; font-size: 24px;">Account Deletion Confirmed</h1>\n            </div>\n            \n            <div style="color: #4b5563; line-height: 1.6;">\n              <p style="margin: 0 0 20px;">Hello ${f},</p>\n              \n              <p style="margin: 0 0 20px;">\n                This email confirms that your HashPass account has been successfully deleted on <strong>${y}</strong>.\n              </p>\n              \n              <div style="background-color: #fef2f2; border-left: 4px solid #F44336; padding: 16px; margin: 20px 0; border-radius: 4px;">\n                <p style="margin: 0; color: #991b1b; font-size: 14px;">\n                  <strong>What was deleted:</strong>\n                </p>\n                <ul style="margin: 8px 0 0 0; padding-left: 20px; color: #991b1b; font-size: 14px;">\n                  <li>Your user profile and account information</li>\n                  <li>All your passes and tickets</li>\n                  <li>Meeting requests and schedule</li>\n                  <li>All associated data</li>\n                </ul>\n              </div>\n              \n              <p style="margin: 20px 0;">\n                If you did not request this deletion, please contact our support team immediately at \n                <a href="mailto:support@hashpass.tech" style="color: #4f46e5; text-decoration: none;">support@hashpass.tech</a>.\n              </p>\n              \n              <p style="margin: 20px 0;">\n                We're sorry to see you go. If you change your mind, you can create a new account at any time.\n              </p>\n              \n              <div style="margin-top: 30px; padding-top: 20px; border-top: 1px solid #e5e7eb;">\n                <p style="margin: 0; font-size: 12px; color: #9ca3af;">\n                  This is an automated message. Please do not reply to this email.\n                </p>\n                <p style="margin: 8px 0 0; font-size: 12px; color: #9ca3af;">\n                  \xa9 ${(new Date).getFullYear()} HashPass. All rights reserved.\n                </p>\n              </div>\n            </div>\n          </div>\n        </div>\n      `,text:`Account Deletion Confirmed\n\nHello ${f},\n\nThis email confirms that your HashPass account has been successfully deleted on ${y}.\n\nWhat was deleted:\n- Your user profile and account information\n- All your passes and tickets\n- Meeting requests and schedule\n- All associated data\n\nIf you did not request this deletion, please contact our support team immediately at support@hashpass.tech.\n\nWe're sorry to see you go. If you change your mind, you can create a new account at any time.\n\nThis is an automated message. Please do not reply to this email.\n\n\xa9 ${(new Date).getFullYear()} HashPass. All rights reserved.`};try{return await u.sendMail(h),console.log('Account deletion confirmation email sent successfully to:',o),new Response(JSON.stringify({success:!0,message:'Confirmation email sent'}),{status:200,headers:{'Content-Type':'application/json'}})}catch(n){return console.error('Error sending deletion confirmation email:',n),new Response(JSON.stringify({success:!0,message:'Account deleted (email sending failed)',warning:'Failed to send confirmation email'}),{status:200,headers:{'Content-Type':'application/json'}})}}catch(n){return console.error('Error in deletion email endpoint:',n),new Response(JSON.stringify({success:!0,message:'Account deleted (email error)',warning:n.message||'Failed to send confirmation email'}),{status:200,headers:{'Content-Type':'application/json'}})}};var s=n(r(d[1]))},7441,[16,7125]);
module.exports = __r(7441);